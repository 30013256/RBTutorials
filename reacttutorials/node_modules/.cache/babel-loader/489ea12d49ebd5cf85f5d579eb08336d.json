{"ast":null,"code":"/*!\r\n * OverlayScrollbars\r\n * https://github.com/KingSora/OverlayScrollbars\r\n *\r\n * Version: 1.13.0\r\n *\r\n * Copyright KingSora | Rene Haas.\r\n * https://github.com/KingSora\r\n *\r\n * Released under the MIT license.\r\n * Date: 02.08.2020\r\n */\n(function (global, factory) {\n  if (typeof define === 'function' && define.amd) define(function () {\n    return factory(global, global.document, undefined);\n  });else if (typeof module === 'object' && typeof module.exports === 'object') module.exports = factory(global, global.document, undefined);else factory(global, global.document, undefined);\n})(typeof window !== 'undefined' ? window : this, function (window, document, undefined) {\n  'use strict';\n\n  var PLUGINNAME = 'OverlayScrollbars';\n  var TYPES = {\n    o: 'object',\n    f: 'function',\n    a: 'array',\n    s: 'string',\n    b: 'boolean',\n    n: 'number',\n    u: 'undefined',\n    z: 'null' //d : 'date',\n    //e : 'error',\n    //r : 'regexp',\n    //y : 'symbol'\n\n  };\n  var LEXICON = {\n    c: 'class',\n    s: 'style',\n    i: 'id',\n    l: 'length',\n    p: 'prototype',\n    ti: 'tabindex',\n    oH: 'offsetHeight',\n    cH: 'clientHeight',\n    sH: 'scrollHeight',\n    oW: 'offsetWidth',\n    cW: 'clientWidth',\n    sW: 'scrollWidth',\n    hOP: 'hasOwnProperty',\n    bCR: 'getBoundingClientRect'\n  };\n\n  var VENDORS = function () {\n    //https://developer.mozilla.org/en-US/docs/Glossary/Vendor_Prefix\n    var jsCache = {};\n    var cssCache = {};\n    var cssPrefixes = ['-webkit-', '-moz-', '-o-', '-ms-'];\n    var jsPrefixes = ['WebKit', 'Moz', 'O', 'MS'];\n\n    function firstLetterToUpper(str) {\n      return str.charAt(0).toUpperCase() + str.slice(1);\n    }\n\n    return {\n      _cssPrefixes: cssPrefixes,\n      _jsPrefixes: jsPrefixes,\n      _cssProperty: function _cssProperty(name) {\n        var result = cssCache[name];\n        if (cssCache[LEXICON.hOP](name)) return result;\n        var uppercasedName = firstLetterToUpper(name);\n        var elmStyle = document.createElement('div')[LEXICON.s];\n        var resultPossibilities;\n        var i = 0;\n        var v;\n        var currVendorWithoutDashes;\n\n        for (; i < cssPrefixes.length; i++) {\n          currVendorWithoutDashes = cssPrefixes[i].replace(/-/g, '');\n          resultPossibilities = [name, //transition\n          cssPrefixes[i] + name, //-webkit-transition\n          currVendorWithoutDashes + uppercasedName, //webkitTransition\n          firstLetterToUpper(currVendorWithoutDashes) + uppercasedName //WebkitTransition\n          ];\n\n          for (v = 0; v < resultPossibilities[LEXICON.l]; v++) {\n            if (elmStyle[resultPossibilities[v]] !== undefined) {\n              result = resultPossibilities[v];\n              break;\n            }\n          }\n        }\n\n        cssCache[name] = result;\n        return result;\n      },\n      _cssPropertyValue: function _cssPropertyValue(property, values, suffix) {\n        var name = property + ' ' + values;\n        var result = cssCache[name];\n        if (cssCache[LEXICON.hOP](name)) return result;\n        var dummyStyle = document.createElement('div')[LEXICON.s];\n        var possbleValues = values.split(' ');\n        var preparedSuffix = suffix || '';\n        var i = 0;\n        var v = -1;\n        var prop;\n\n        for (; i < possbleValues[LEXICON.l]; i++) {\n          for (; v < VENDORS._cssPrefixes[LEXICON.l]; v++) {\n            prop = v < 0 ? possbleValues[i] : VENDORS._cssPrefixes[v] + possbleValues[i];\n            dummyStyle.cssText = property + ':' + prop + preparedSuffix;\n\n            if (dummyStyle[LEXICON.l]) {\n              result = prop;\n              break;\n            }\n          }\n        }\n\n        cssCache[name] = result;\n        return result;\n      },\n      _jsAPI: function _jsAPI(name, isInterface, fallback) {\n        var i = 0;\n        var result = jsCache[name];\n\n        if (!jsCache[LEXICON.hOP](name)) {\n          result = window[name];\n\n          for (; i < jsPrefixes[LEXICON.l]; i++) {\n            result = result || window[(isInterface ? jsPrefixes[i] : jsPrefixes[i].toLowerCase()) + firstLetterToUpper(name)];\n          }\n\n          jsCache[name] = result;\n        }\n\n        return result || fallback;\n      }\n    };\n  }();\n\n  var COMPATIBILITY = function () {\n    function windowSize(x) {\n      return x ? window.innerWidth || document.documentElement[LEXICON.cW] || document.body[LEXICON.cW] : window.innerHeight || document.documentElement[LEXICON.cH] || document.body[LEXICON.cH];\n    }\n\n    function bind(func, thisObj) {\n      if (typeof func != TYPES.f) {\n        throw \"Can't bind function!\"; // closest thing possible to the ECMAScript 5\n        // internal IsCallable function\n        //throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n      }\n\n      var proto = LEXICON.p;\n      var aArgs = Array[proto].slice.call(arguments, 2);\n\n      var fNOP = function fNOP() {};\n\n      var fBound = function fBound() {\n        return func.apply(this instanceof fNOP ? this : thisObj, aArgs.concat(Array[proto].slice.call(arguments)));\n      };\n\n      if (func[proto]) fNOP[proto] = func[proto]; // Function.prototype doesn't have a prototype property\n\n      fBound[proto] = new fNOP();\n      return fBound;\n    }\n\n    return {\n      /**\r\n       * Gets the current window width.\r\n       * @returns {Number|number} The current window width in pixel.\r\n       */\n      wW: bind(windowSize, 0, true),\n\n      /**\r\n       * Gets the current window height.\r\n       * @returns {Number|number} The current window height in pixel.\r\n       */\n      wH: bind(windowSize, 0),\n\n      /**\r\n       * Gets the MutationObserver Object or undefined if not supported.\r\n       * @returns {MutationObserver|*|undefined} The MutationsObserver Object or undefined.\r\n       */\n      mO: bind(VENDORS._jsAPI, 0, 'MutationObserver', true),\n\n      /**\r\n       * Gets the ResizeObserver Object or undefined if not supported.\r\n       * @returns {MutationObserver|*|undefined} The ResizeObserver Object or undefined.\r\n       */\n      rO: bind(VENDORS._jsAPI, 0, 'ResizeObserver', true),\n\n      /**\r\n       * Gets the RequestAnimationFrame method or it's corresponding polyfill.\r\n       * @returns {*|Function} The RequestAnimationFrame method or it's corresponding polyfill.\r\n       */\n      rAF: bind(VENDORS._jsAPI, 0, 'requestAnimationFrame', false, function (func) {\n        return window.setTimeout(func, 1000 / 60);\n      }),\n\n      /**\r\n       * Gets the CancelAnimationFrame method or it's corresponding polyfill.\r\n       * @returns {*|Function} The CancelAnimationFrame method or it's corresponding polyfill.\r\n       */\n      cAF: bind(VENDORS._jsAPI, 0, 'cancelAnimationFrame', false, function (id) {\n        return window.clearTimeout(id);\n      }),\n\n      /**\r\n       * Gets the current time.\r\n       * @returns {number} The current time.\r\n       */\n      now: function now() {\n        return Date.now && Date.now() || new Date().getTime();\n      },\n\n      /**\r\n       * Stops the propagation of the given event.\r\n       * @param event The event of which the propagation shall be stoped.\r\n       */\n      stpP: function stpP(event) {\n        if (event.stopPropagation) event.stopPropagation();else event.cancelBubble = true;\n      },\n\n      /**\r\n       * Prevents the default action of the given event.\r\n       * @param event The event of which the default action shall be prevented.\r\n       */\n      prvD: function prvD(event) {\n        if (event.preventDefault && event.cancelable) event.preventDefault();else event.returnValue = false;\n      },\n\n      /**\r\n       * Gets the pageX and pageY values of the given mouse event.\r\n       * @param event The mouse event of which the pageX and pageX shall be got.\r\n       * @returns {{x: number, y: number}} x = pageX value, y = pageY value.\r\n       */\n      page: function page(event) {\n        event = event.originalEvent || event;\n        var strPage = 'page';\n        var strClient = 'client';\n        var strX = 'X';\n        var strY = 'Y';\n        var target = event.target || event.srcElement || document;\n        var eventDoc = target.ownerDocument || document;\n        var doc = eventDoc.documentElement;\n        var body = eventDoc.body; //if touch event return return pageX/Y of it\n\n        if (event.touches !== undefined) {\n          var touch = event.touches[0];\n          return {\n            x: touch[strPage + strX],\n            y: touch[strPage + strY]\n          };\n        } // Calculate pageX/Y if not native supported\n\n\n        if (!event[strPage + strX] && event[strClient + strX] && event[strClient + strX] != null) {\n          return {\n            x: event[strClient + strX] + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0),\n            y: event[strClient + strY] + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0)\n          };\n        }\n\n        return {\n          x: event[strPage + strX],\n          y: event[strPage + strY]\n        };\n      },\n\n      /**\r\n       * Gets the clicked mouse button of the given mouse event.\r\n       * @param event The mouse event of which the clicked button shal be got.\r\n       * @returns {number} The number of the clicked mouse button. (0 : none | 1 : leftButton | 2 : middleButton | 3 : rightButton)\r\n       */\n      mBtn: function mBtn(event) {\n        var button = event.button;\n        if (!event.which && button !== undefined) return button & 1 ? 1 : button & 2 ? 3 : button & 4 ? 2 : 0;else return event.which;\n      },\n\n      /**\r\n       * Checks whether a item is in the given array and returns its index.\r\n       * @param item The item of which the position in the array shall be determined.\r\n       * @param arr The array.\r\n       * @returns {number} The zero based index of the item or -1 if the item isn't in the array.\r\n       */\n      inA: function inA(item, arr) {\n        for (var i = 0; i < arr[LEXICON.l]; i++) {\n          //Sometiems in IE a \"SCRIPT70\" Permission denied error occurs if HTML elements in a iFrame are compared\n          try {\n            if (arr[i] === item) return i;\n          } catch (e) {}\n        }\n\n        return -1;\n      },\n\n      /**\r\n       * Returns true if the given value is a array.\r\n       * @param arr The potential array.\r\n       * @returns {boolean} True if the given value is a array, false otherwise.\r\n       */\n      isA: function isA(arr) {\n        var def = Array.isArray;\n        return def ? def(arr) : this.type(arr) == TYPES.a;\n      },\n\n      /**\r\n       * Determine the internal JavaScript [[Class]] of the given object.\r\n       * @param obj The object of which the type shall be determined.\r\n       * @returns {string} The type of the given object.\r\n       */\n      type: function type(obj) {\n        if (obj === undefined) return obj + '';\n        if (obj === null) return obj + '';\n        return Object[LEXICON.p].toString.call(obj).replace(/^\\[object (.+)\\]$/, '$1').toLowerCase();\n      },\n      bind: bind\n      /**\r\n       * Gets the vendor-prefixed CSS property by the given name.\r\n       * For example the given name is \"transform\" and you're using a old Firefox browser then the returned value would be \"-moz-transform\".\r\n       * If the browser doesn't need a vendor-prefix, then the returned string is the given name.\r\n       * If the browser doesn't support the given property name at all (not even with a vendor-prefix) the returned value is null.\r\n       * @param propName The unprefixed CSS property name.\r\n       * @returns {string|null} The vendor-prefixed CSS property or null if the browser doesn't support the given CSS property.\r\n        cssProp: function(propName) {\r\n          return VENDORS._cssProperty(propName);\r\n      }\r\n      */\n\n    };\n  }();\n\n  var MATH = Math;\n  var JQUERY = window.jQuery;\n\n  var EASING = function () {\n    var _easingsMath = {\n      p: MATH.PI,\n      c: MATH.cos,\n      s: MATH.sin,\n      w: MATH.pow,\n      t: MATH.sqrt,\n      n: MATH.asin,\n      a: MATH.abs,\n      o: 1.70158\n    };\n    /*\r\n     x : current percent (0 - 1),\r\n     t : current time (duration * percent),\r\n     b : start value (from),\r\n     c : end value (to),\r\n     d : duration\r\n       easingName : function(x, t, b, c, d) { return easedValue; }\r\n     */\n\n    return {\n      swing: function swing(x, t, b, c, d) {\n        return 0.5 - _easingsMath.c(x * _easingsMath.p) / 2;\n      },\n      linear: function linear(x, t, b, c, d) {\n        return x;\n      },\n      easeInQuad: function easeInQuad(x, t, b, c, d) {\n        return c * (t /= d) * t + b;\n      },\n      easeOutQuad: function easeOutQuad(x, t, b, c, d) {\n        return -c * (t /= d) * (t - 2) + b;\n      },\n      easeInOutQuad: function easeInOutQuad(x, t, b, c, d) {\n        return (t /= d / 2) < 1 ? c / 2 * t * t + b : -c / 2 * (--t * (t - 2) - 1) + b;\n      },\n      easeInCubic: function easeInCubic(x, t, b, c, d) {\n        return c * (t /= d) * t * t + b;\n      },\n      easeOutCubic: function easeOutCubic(x, t, b, c, d) {\n        return c * ((t = t / d - 1) * t * t + 1) + b;\n      },\n      easeInOutCubic: function easeInOutCubic(x, t, b, c, d) {\n        return (t /= d / 2) < 1 ? c / 2 * t * t * t + b : c / 2 * ((t -= 2) * t * t + 2) + b;\n      },\n      easeInQuart: function easeInQuart(x, t, b, c, d) {\n        return c * (t /= d) * t * t * t + b;\n      },\n      easeOutQuart: function easeOutQuart(x, t, b, c, d) {\n        return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n      },\n      easeInOutQuart: function easeInOutQuart(x, t, b, c, d) {\n        return (t /= d / 2) < 1 ? c / 2 * t * t * t * t + b : -c / 2 * ((t -= 2) * t * t * t - 2) + b;\n      },\n      easeInQuint: function easeInQuint(x, t, b, c, d) {\n        return c * (t /= d) * t * t * t * t + b;\n      },\n      easeOutQuint: function easeOutQuint(x, t, b, c, d) {\n        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n      },\n      easeInOutQuint: function easeInOutQuint(x, t, b, c, d) {\n        return (t /= d / 2) < 1 ? c / 2 * t * t * t * t * t + b : c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n      },\n      easeInSine: function easeInSine(x, t, b, c, d) {\n        return -c * _easingsMath.c(t / d * (_easingsMath.p / 2)) + c + b;\n      },\n      easeOutSine: function easeOutSine(x, t, b, c, d) {\n        return c * _easingsMath.s(t / d * (_easingsMath.p / 2)) + b;\n      },\n      easeInOutSine: function easeInOutSine(x, t, b, c, d) {\n        return -c / 2 * (_easingsMath.c(_easingsMath.p * t / d) - 1) + b;\n      },\n      easeInExpo: function easeInExpo(x, t, b, c, d) {\n        return t == 0 ? b : c * _easingsMath.w(2, 10 * (t / d - 1)) + b;\n      },\n      easeOutExpo: function easeOutExpo(x, t, b, c, d) {\n        return t == d ? b + c : c * (-_easingsMath.w(2, -10 * t / d) + 1) + b;\n      },\n      easeInOutExpo: function easeInOutExpo(x, t, b, c, d) {\n        if (t == 0) return b;\n        if (t == d) return b + c;\n        if ((t /= d / 2) < 1) return c / 2 * _easingsMath.w(2, 10 * (t - 1)) + b;\n        return c / 2 * (-_easingsMath.w(2, -10 * --t) + 2) + b;\n      },\n      easeInCirc: function easeInCirc(x, t, b, c, d) {\n        return -c * (_easingsMath.t(1 - (t /= d) * t) - 1) + b;\n      },\n      easeOutCirc: function easeOutCirc(x, t, b, c, d) {\n        return c * _easingsMath.t(1 - (t = t / d - 1) * t) + b;\n      },\n      easeInOutCirc: function easeInOutCirc(x, t, b, c, d) {\n        return (t /= d / 2) < 1 ? -c / 2 * (_easingsMath.t(1 - t * t) - 1) + b : c / 2 * (_easingsMath.t(1 - (t -= 2) * t) + 1) + b;\n      },\n      easeInElastic: function easeInElastic(x, t, b, c, d) {\n        var s = _easingsMath.o;\n        var p = 0;\n        var a = c;\n        if (t == 0) return b;\n        if ((t /= d) == 1) return b + c;\n        if (!p) p = d * .3;\n\n        if (a < _easingsMath.a(c)) {\n          a = c;\n          s = p / 4;\n        } else s = p / (2 * _easingsMath.p) * _easingsMath.n(c / a);\n\n        return -(a * _easingsMath.w(2, 10 * (t -= 1)) * _easingsMath.s((t * d - s) * (2 * _easingsMath.p) / p)) + b;\n      },\n      easeOutElastic: function easeOutElastic(x, t, b, c, d) {\n        var s = _easingsMath.o;\n        var p = 0;\n        var a = c;\n        if (t == 0) return b;\n        if ((t /= d) == 1) return b + c;\n        if (!p) p = d * .3;\n\n        if (a < _easingsMath.a(c)) {\n          a = c;\n          s = p / 4;\n        } else s = p / (2 * _easingsMath.p) * _easingsMath.n(c / a);\n\n        return a * _easingsMath.w(2, -10 * t) * _easingsMath.s((t * d - s) * (2 * _easingsMath.p) / p) + c + b;\n      },\n      easeInOutElastic: function easeInOutElastic(x, t, b, c, d) {\n        var s = _easingsMath.o;\n        var p = 0;\n        var a = c;\n        if (t == 0) return b;\n        if ((t /= d / 2) == 2) return b + c;\n        if (!p) p = d * (.3 * 1.5);\n\n        if (a < _easingsMath.a(c)) {\n          a = c;\n          s = p / 4;\n        } else s = p / (2 * _easingsMath.p) * _easingsMath.n(c / a);\n\n        if (t < 1) return -.5 * (a * _easingsMath.w(2, 10 * (t -= 1)) * _easingsMath.s((t * d - s) * (2 * _easingsMath.p) / p)) + b;\n        return a * _easingsMath.w(2, -10 * (t -= 1)) * _easingsMath.s((t * d - s) * (2 * _easingsMath.p) / p) * .5 + c + b;\n      },\n      easeInBack: function easeInBack(x, t, b, c, d, s) {\n        s = s || _easingsMath.o;\n        return c * (t /= d) * t * ((s + 1) * t - s) + b;\n      },\n      easeOutBack: function easeOutBack(x, t, b, c, d, s) {\n        s = s || _easingsMath.o;\n        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n      },\n      easeInOutBack: function easeInOutBack(x, t, b, c, d, s) {\n        s = s || _easingsMath.o;\n        return (t /= d / 2) < 1 ? c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b : c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n      },\n      easeInBounce: function easeInBounce(x, t, b, c, d) {\n        return c - this.easeOutBounce(x, d - t, 0, c, d) + b;\n      },\n      easeOutBounce: function easeOutBounce(x, t, b, c, d) {\n        var o = 7.5625;\n\n        if ((t /= d) < 1 / 2.75) {\n          return c * (o * t * t) + b;\n        } else if (t < 2 / 2.75) {\n          return c * (o * (t -= 1.5 / 2.75) * t + .75) + b;\n        } else if (t < 2.5 / 2.75) {\n          return c * (o * (t -= 2.25 / 2.75) * t + .9375) + b;\n        } else {\n          return c * (o * (t -= 2.625 / 2.75) * t + .984375) + b;\n        }\n      },\n      easeInOutBounce: function easeInOutBounce(x, t, b, c, d) {\n        return t < d / 2 ? this.easeInBounce(x, t * 2, 0, c, d) * .5 + b : this.easeOutBounce(x, t * 2 - d, 0, c, d) * .5 + c * .5 + b;\n      }\n    };\n    /*\r\n     *\r\n     * TERMS OF USE - EASING EQUATIONS\r\n     * \r\n     * Open source under the BSD License. \r\n     * \r\n     * Copyright Â© 2001 Robert Penner\r\n     * All rights reserved.\r\n     * \r\n     * Redistribution and use in source and binary forms, with or without modification, \r\n     * are permitted provided that the following conditions are met:\r\n     * \r\n     * Redistributions of source code must retain the above copyright notice, this list of \r\n     * conditions and the following disclaimer.\r\n     * Redistributions in binary form must reproduce the above copyright notice, this list \r\n     * of conditions and the following disclaimer in the documentation and/or other materials \r\n     * provided with the distribution.\r\n     * \r\n     * Neither the name of the author nor the names of contributors may be used to endorse \r\n     * or promote products derived from this software without specific prior written permission.\r\n     * \r\n     * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY \r\n     * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\r\n     * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\r\n     *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\r\n     *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\r\n     *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED \r\n     * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n     *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED \r\n     * OF THE POSSIBILITY OF SUCH DAMAGE. \r\n     *\r\n     */\n  }();\n\n  var FRAMEWORK = function () {\n    var _rnothtmlwhite = /[^\\x20\\t\\r\\n\\f]+/g;\n    var _strSpace = ' ';\n    var _strEmpty = '';\n    var _strScrollLeft = 'scrollLeft';\n    var _strScrollTop = 'scrollTop';\n    var _animations = [];\n    var _type = COMPATIBILITY.type;\n    var _cssNumber = {\n      animationIterationCount: true,\n      columnCount: true,\n      fillOpacity: true,\n      flexGrow: true,\n      flexShrink: true,\n      fontWeight: true,\n      lineHeight: true,\n      opacity: true,\n      order: true,\n      orphans: true,\n      widows: true,\n      zIndex: true,\n      zoom: true\n    };\n\n    function extend() {\n      var src,\n          copyIsArray,\n          copy,\n          name,\n          options,\n          clone,\n          target = arguments[0] || {},\n          i = 1,\n          length = arguments[LEXICON.l],\n          deep = false; // Handle a deep copy situation\n\n      if (_type(target) == TYPES.b) {\n        deep = target;\n        target = arguments[1] || {}; // skip the boolean and the target\n\n        i = 2;\n      } // Handle case when target is a string or something (possible in deep copy)\n\n\n      if (_type(target) != TYPES.o && !_type(target) == TYPES.f) {\n        target = {};\n      } // extend jQuery itself if only one argument is passed\n\n\n      if (length === i) {\n        target = FakejQuery;\n        --i;\n      }\n\n      for (; i < length; i++) {\n        // Only deal with non-null/undefined values\n        if ((options = arguments[i]) != null) {\n          // Extend the base object\n          for (name in options) {\n            src = target[name];\n            copy = options[name]; // Prevent never-ending loop\n\n            if (target === copy) {\n              continue;\n            } // Recurse if we're merging plain objects or arrays\n\n\n            if (deep && copy && (isPlainObject(copy) || (copyIsArray = COMPATIBILITY.isA(copy)))) {\n              if (copyIsArray) {\n                copyIsArray = false;\n                clone = src && COMPATIBILITY.isA(src) ? src : [];\n              } else {\n                clone = src && isPlainObject(src) ? src : {};\n              } // Never move original objects, clone them\n\n\n              target[name] = extend(deep, clone, copy); // Don't bring in undefined values\n            } else if (copy !== undefined) {\n              target[name] = copy;\n            }\n          }\n        }\n      } // Return the modified object\n\n\n      return target;\n    }\n\n    ;\n\n    function inArray(item, arr, fromIndex) {\n      for (var i = fromIndex || 0; i < arr[LEXICON.l]; i++) {\n        if (arr[i] === item) return i;\n      }\n\n      return -1;\n    }\n\n    function isFunction(obj) {\n      return _type(obj) == TYPES.f;\n    }\n\n    ;\n\n    function isEmptyObject(obj) {\n      for (var name in obj) {\n        return false;\n      }\n\n      return true;\n    }\n\n    ;\n\n    function isPlainObject(obj) {\n      if (!obj || _type(obj) != TYPES.o) return false;\n      var key;\n      var proto = LEXICON.p;\n      var hasOwnProperty = Object[proto].hasOwnProperty;\n      var hasOwnConstructor = hasOwnProperty.call(obj, 'constructor');\n      var hasIsPrototypeOf = obj.constructor && obj.constructor[proto] && hasOwnProperty.call(obj.constructor[proto], 'isPrototypeOf');\n\n      if (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n        return false;\n      }\n\n      for (key in obj) {\n        /**/\n      }\n\n      return _type(key) == TYPES.u || hasOwnProperty.call(obj, key);\n    }\n\n    ;\n\n    function _each(obj, callback) {\n      var i = 0;\n\n      if (isArrayLike(obj)) {\n        for (; i < obj[LEXICON.l]; i++) {\n          if (callback.call(obj[i], i, obj[i]) === false) break;\n        }\n      } else {\n        for (i in obj) {\n          if (callback.call(obj[i], i, obj[i]) === false) break;\n        }\n      }\n\n      return obj;\n    }\n\n    ;\n\n    function isArrayLike(obj) {\n      var length = !!obj && [LEXICON.l] in obj && obj[LEXICON.l];\n\n      var t = _type(obj);\n\n      return isFunction(t) ? false : t == TYPES.a || length === 0 || _type(length) == TYPES.n && length > 0 && length - 1 in obj;\n    }\n\n    function stripAndCollapse(value) {\n      var tokens = value.match(_rnothtmlwhite) || [];\n      return tokens.join(_strSpace);\n    }\n\n    function matches(elem, selector) {\n      var nodeList = (elem.parentNode || document).querySelectorAll(selector) || [];\n      var i = nodeList[LEXICON.l];\n\n      while (i--) {\n        if (nodeList[i] == elem) return true;\n      }\n\n      return false;\n    }\n\n    function insertAdjacentElement(el, strategy, child) {\n      if (COMPATIBILITY.isA(child)) {\n        for (var i = 0; i < child[LEXICON.l]; i++) {\n          insertAdjacentElement(el, strategy, child[i]);\n        }\n      } else if (_type(child) == TYPES.s) el.insertAdjacentHTML(strategy, child);else el.insertAdjacentElement(strategy, child.nodeType ? child : child[0]);\n    }\n\n    function setCSSVal(el, prop, val) {\n      try {\n        if (el[LEXICON.s][prop] !== undefined) el[LEXICON.s][prop] = parseCSSVal(prop, val);\n      } catch (e) {}\n    }\n\n    function parseCSSVal(prop, val) {\n      if (!_cssNumber[prop.toLowerCase()] && _type(val) == TYPES.n) val += 'px';\n      return val;\n    }\n\n    function startNextAnimationInQ(animObj, removeFromQ) {\n      var index;\n      var nextAnim;\n      if (removeFromQ !== false) animObj.q.splice(0, 1);\n\n      if (animObj.q[LEXICON.l] > 0) {\n        nextAnim = animObj.q[0];\n\n        _animate(animObj.el, nextAnim.props, nextAnim.duration, nextAnim.easing, nextAnim.complete, true);\n      } else {\n        index = inArray(animObj, _animations);\n        if (index > -1) _animations.splice(index, 1);\n      }\n    }\n\n    function setAnimationValue(el, prop, value) {\n      if (prop === _strScrollLeft || prop === _strScrollTop) el[prop] = value;else setCSSVal(el, prop, value);\n    }\n\n    function _animate(el, props, options, easing, complete, guaranteedNext) {\n      var hasOptions = isPlainObject(options);\n      var from = {};\n      var to = {};\n      var i = 0;\n      var key;\n      var animObj;\n      var start;\n      var progress;\n      var step;\n      var specialEasing;\n      var duration;\n\n      if (hasOptions) {\n        easing = options.easing;\n        start = options.start;\n        progress = options.progress;\n        step = options.step;\n        specialEasing = options.specialEasing;\n        complete = options.complete;\n        duration = options.duration;\n      } else duration = options;\n\n      specialEasing = specialEasing || {};\n      duration = duration || 400;\n      easing = easing || 'swing';\n      guaranteedNext = guaranteedNext || false;\n\n      for (; i < _animations[LEXICON.l]; i++) {\n        if (_animations[i].el === el) {\n          animObj = _animations[i];\n          break;\n        }\n      }\n\n      if (!animObj) {\n        animObj = {\n          el: el,\n          q: []\n        };\n\n        _animations.push(animObj);\n      }\n\n      for (key in props) {\n        if (key === _strScrollLeft || key === _strScrollTop) from[key] = el[key];else from[key] = FakejQuery(el).css(key);\n      }\n\n      for (key in from) {\n        if (from[key] !== props[key] && props[key] !== undefined) to[key] = props[key];\n      }\n\n      if (!isEmptyObject(to)) {\n        var timeNow;\n        var end;\n        var percent;\n        var fromVal;\n        var toVal;\n        var easedVal;\n        var timeStart;\n\n        var _frame;\n\n        var elapsed;\n        var qPos = guaranteedNext ? 0 : inArray(qObj, animObj.q);\n        var qObj = {\n          props: to,\n          duration: hasOptions ? options : duration,\n          easing: easing,\n          complete: complete\n        };\n\n        if (qPos === -1) {\n          qPos = animObj.q[LEXICON.l];\n          animObj.q.push(qObj);\n        }\n\n        if (qPos === 0) {\n          if (duration > 0) {\n            timeStart = COMPATIBILITY.now();\n\n            _frame = function frame() {\n              timeNow = COMPATIBILITY.now();\n              elapsed = timeNow - timeStart;\n              end = qObj.stop || elapsed >= duration;\n              percent = 1 - (MATH.max(0, timeStart + duration - timeNow) / duration || 0);\n\n              for (key in to) {\n                fromVal = parseFloat(from[key]);\n                toVal = parseFloat(to[key]);\n                easedVal = (toVal - fromVal) * EASING[specialEasing[key] || easing](percent, percent * duration, 0, 1, duration) + fromVal;\n                setAnimationValue(el, key, easedVal);\n\n                if (isFunction(step)) {\n                  step(easedVal, {\n                    elem: el,\n                    prop: key,\n                    start: fromVal,\n                    now: easedVal,\n                    end: toVal,\n                    pos: percent,\n                    options: {\n                      easing: easing,\n                      speacialEasing: specialEasing,\n                      duration: duration,\n                      complete: complete,\n                      step: step\n                    },\n                    startTime: timeStart\n                  });\n                }\n              }\n\n              if (isFunction(progress)) progress({}, percent, MATH.max(0, duration - elapsed));\n\n              if (end) {\n                startNextAnimationInQ(animObj);\n                if (isFunction(complete)) complete();\n              } else qObj.frame = COMPATIBILITY.rAF()(_frame);\n            };\n\n            qObj.frame = COMPATIBILITY.rAF()(_frame);\n          } else {\n            for (key in to) {\n              setAnimationValue(el, key, to[key]);\n            }\n\n            startNextAnimationInQ(animObj);\n          }\n        }\n      } else if (guaranteedNext) startNextAnimationInQ(animObj);\n    }\n\n    function _stop(el, clearQ, jumpToEnd) {\n      var animObj;\n      var qObj;\n      var key;\n      var i = 0;\n\n      for (; i < _animations[LEXICON.l]; i++) {\n        animObj = _animations[i];\n\n        if (animObj.el === el) {\n          if (animObj.q[LEXICON.l] > 0) {\n            qObj = animObj.q[0];\n            qObj.stop = true;\n            COMPATIBILITY.cAF()(qObj.frame);\n            animObj.q.splice(0, 1);\n            if (jumpToEnd) for (key in qObj.props) {\n              setAnimationValue(el, key, qObj.props[key]);\n            }\n            if (clearQ) animObj.q = [];else startNextAnimationInQ(animObj, false);\n          }\n\n          break;\n        }\n      }\n    }\n\n    function elementIsVisible(el) {\n      return !!(el[LEXICON.oW] || el[LEXICON.oH] || el.getClientRects()[LEXICON.l]);\n    }\n\n    function FakejQuery(selector) {\n      if (arguments[LEXICON.l] === 0) return this;\n      var base = new FakejQuery();\n      var elements = selector;\n      var i = 0;\n      var elms;\n      var el;\n\n      if (_type(selector) == TYPES.s) {\n        elements = [];\n\n        if (selector.charAt(0) === '<') {\n          el = document.createElement('div');\n          el.innerHTML = selector;\n          elms = el.children;\n        } else {\n          elms = document.querySelectorAll(selector);\n        }\n\n        for (; i < elms[LEXICON.l]; i++) {\n          elements.push(elms[i]);\n        }\n      }\n\n      if (elements) {\n        if (_type(elements) != TYPES.s && (!isArrayLike(elements) || elements === window || elements === elements.self)) elements = [elements];\n\n        for (i = 0; i < elements[LEXICON.l]; i++) {\n          base[i] = elements[i];\n        }\n\n        base[LEXICON.l] = elements[LEXICON.l];\n      }\n\n      return base;\n    }\n\n    ;\n    FakejQuery[LEXICON.p] = {\n      //EVENTS:\n      on: function on(eventName, handler) {\n        eventName = (eventName || _strEmpty).match(_rnothtmlwhite) || [_strEmpty];\n        var eventNameLength = eventName[LEXICON.l];\n        var i = 0;\n        var el;\n        return this.each(function () {\n          el = this;\n\n          try {\n            if (el.addEventListener) {\n              for (; i < eventNameLength; i++) {\n                el.addEventListener(eventName[i], handler);\n              }\n            } else if (el.detachEvent) {\n              for (; i < eventNameLength; i++) {\n                el.attachEvent('on' + eventName[i], handler);\n              }\n            }\n          } catch (e) {}\n        });\n      },\n      off: function off(eventName, handler) {\n        eventName = (eventName || _strEmpty).match(_rnothtmlwhite) || [_strEmpty];\n        var eventNameLength = eventName[LEXICON.l];\n        var i = 0;\n        var el;\n        return this.each(function () {\n          el = this;\n\n          try {\n            if (el.removeEventListener) {\n              for (; i < eventNameLength; i++) {\n                el.removeEventListener(eventName[i], handler);\n              }\n            } else if (el.detachEvent) {\n              for (; i < eventNameLength; i++) {\n                el.detachEvent('on' + eventName[i], handler);\n              }\n            }\n          } catch (e) {}\n        });\n      },\n      one: function one(eventName, handler) {\n        eventName = (eventName || _strEmpty).match(_rnothtmlwhite) || [_strEmpty];\n        return this.each(function () {\n          var el = FakejQuery(this);\n          FakejQuery.each(eventName, function (i, oneEventName) {\n            var oneHandler = function oneHandler(e) {\n              handler.call(this, e);\n              el.off(oneEventName, oneHandler);\n            };\n\n            el.on(oneEventName, oneHandler);\n          });\n        });\n      },\n      trigger: function trigger(eventName) {\n        var el;\n        var event;\n        return this.each(function () {\n          el = this;\n\n          if (document.createEvent) {\n            event = document.createEvent('HTMLEvents');\n            event.initEvent(eventName, true, false);\n            el.dispatchEvent(event);\n          } else {\n            el.fireEvent('on' + eventName);\n          }\n        });\n      },\n      //DOM NODE INSERTING / REMOVING:\n      append: function append(child) {\n        return this.each(function () {\n          insertAdjacentElement(this, 'beforeend', child);\n        });\n      },\n      prepend: function prepend(child) {\n        return this.each(function () {\n          insertAdjacentElement(this, 'afterbegin', child);\n        });\n      },\n      before: function before(child) {\n        return this.each(function () {\n          insertAdjacentElement(this, 'beforebegin', child);\n        });\n      },\n      after: function after(child) {\n        return this.each(function () {\n          insertAdjacentElement(this, 'afterend', child);\n        });\n      },\n      remove: function remove() {\n        return this.each(function () {\n          var el = this;\n          var parentNode = el.parentNode;\n          if (parentNode != null) parentNode.removeChild(el);\n        });\n      },\n      unwrap: function unwrap() {\n        var parents = [];\n        var i;\n        var el;\n        var parent;\n        this.each(function () {\n          parent = this.parentNode;\n          if (inArray(parent, parents) === -1) parents.push(parent);\n        });\n\n        for (i = 0; i < parents[LEXICON.l]; i++) {\n          el = parents[i];\n          parent = el.parentNode;\n\n          while (el.firstChild) {\n            parent.insertBefore(el.firstChild, el);\n          }\n\n          parent.removeChild(el);\n        }\n\n        return this;\n      },\n      wrapAll: function wrapAll(wrapperHTML) {\n        var i;\n        var nodes = this;\n        var wrapper = FakejQuery(wrapperHTML)[0];\n        var deepest = wrapper;\n        var parent = nodes[0].parentNode;\n        var previousSibling = nodes[0].previousSibling;\n\n        while (deepest.childNodes[LEXICON.l] > 0) {\n          deepest = deepest.childNodes[0];\n        }\n\n        for (i = 0; nodes[LEXICON.l] - i; deepest.firstChild === nodes[0] && i++) {\n          deepest.appendChild(nodes[i]);\n        }\n\n        var nextSibling = previousSibling ? previousSibling.nextSibling : parent.firstChild;\n        parent.insertBefore(wrapper, nextSibling);\n        return this;\n      },\n      wrapInner: function wrapInner(wrapperHTML) {\n        return this.each(function () {\n          var el = FakejQuery(this);\n          var contents = el.contents();\n          if (contents[LEXICON.l]) contents.wrapAll(wrapperHTML);else el.append(wrapperHTML);\n        });\n      },\n      wrap: function wrap(wrapperHTML) {\n        return this.each(function () {\n          FakejQuery(this).wrapAll(wrapperHTML);\n        });\n      },\n      //DOM NODE MANIPULATION / INFORMATION:\n      css: function css(styles, val) {\n        var el;\n        var key;\n        var cptStyle;\n        var getCptStyle = window.getComputedStyle;\n\n        if (_type(styles) == TYPES.s) {\n          if (val === undefined) {\n            el = this[0];\n            cptStyle = getCptStyle ? getCptStyle(el, null) : el.currentStyle[styles]; //https://bugzilla.mozilla.org/show_bug.cgi?id=548397 can be null sometimes if iframe with display: none (firefox only!)\n\n            return getCptStyle ? cptStyle != null ? cptStyle.getPropertyValue(styles) : el[LEXICON.s][styles] : cptStyle;\n          } else {\n            return this.each(function () {\n              setCSSVal(this, styles, val);\n            });\n          }\n        } else {\n          return this.each(function () {\n            for (key in styles) {\n              setCSSVal(this, key, styles[key]);\n            }\n          });\n        }\n      },\n      hasClass: function hasClass(className) {\n        var elem,\n            i = 0;\n        var classNamePrepared = _strSpace + className + _strSpace;\n        var classList;\n\n        while (elem = this[i++]) {\n          classList = elem.classList;\n          if (classList && classList.contains(className)) return true;else if (elem.nodeType === 1 && (_strSpace + stripAndCollapse(elem.className + _strEmpty) + _strSpace).indexOf(classNamePrepared) > -1) return true;\n        }\n\n        return false;\n      },\n      addClass: function addClass(className) {\n        var classes;\n        var elem;\n        var cur;\n        var curValue;\n        var clazz;\n        var finalValue;\n        var supportClassList;\n        var elmClassList;\n        var i = 0;\n        var v = 0;\n\n        if (className) {\n          classes = className.match(_rnothtmlwhite) || [];\n\n          while (elem = this[i++]) {\n            elmClassList = elem.classList;\n            if (supportClassList === undefined) supportClassList = elmClassList !== undefined;\n\n            if (supportClassList) {\n              while (clazz = classes[v++]) {\n                elmClassList.add(clazz);\n              }\n            } else {\n              curValue = elem.className + _strEmpty;\n              cur = elem.nodeType === 1 && _strSpace + stripAndCollapse(curValue) + _strSpace;\n\n              if (cur) {\n                while (clazz = classes[v++]) {\n                  if (cur.indexOf(_strSpace + clazz + _strSpace) < 0) cur += clazz + _strSpace;\n                }\n\n                finalValue = stripAndCollapse(cur);\n                if (curValue !== finalValue) elem.className = finalValue;\n              }\n            }\n          }\n        }\n\n        return this;\n      },\n      removeClass: function removeClass(className) {\n        var classes;\n        var elem;\n        var cur;\n        var curValue;\n        var clazz;\n        var finalValue;\n        var supportClassList;\n        var elmClassList;\n        var i = 0;\n        var v = 0;\n\n        if (className) {\n          classes = className.match(_rnothtmlwhite) || [];\n\n          while (elem = this[i++]) {\n            elmClassList = elem.classList;\n            if (supportClassList === undefined) supportClassList = elmClassList !== undefined;\n\n            if (supportClassList) {\n              while (clazz = classes[v++]) {\n                elmClassList.remove(clazz);\n              }\n            } else {\n              curValue = elem.className + _strEmpty;\n              cur = elem.nodeType === 1 && _strSpace + stripAndCollapse(curValue) + _strSpace;\n\n              if (cur) {\n                while (clazz = classes[v++]) {\n                  while (cur.indexOf(_strSpace + clazz + _strSpace) > -1) {\n                    cur = cur.replace(_strSpace + clazz + _strSpace, _strSpace);\n                  }\n                }\n\n                finalValue = stripAndCollapse(cur);\n                if (curValue !== finalValue) elem.className = finalValue;\n              }\n            }\n          }\n        }\n\n        return this;\n      },\n      hide: function hide() {\n        return this.each(function () {\n          this[LEXICON.s].display = 'none';\n        });\n      },\n      show: function show() {\n        return this.each(function () {\n          this[LEXICON.s].display = 'block';\n        });\n      },\n      attr: function attr(attrName, value) {\n        var i = 0;\n        var el;\n\n        while (el = this[i++]) {\n          if (value === undefined) return el.getAttribute(attrName);\n          el.setAttribute(attrName, value);\n        }\n\n        return this;\n      },\n      removeAttr: function removeAttr(attrName) {\n        return this.each(function () {\n          this.removeAttribute(attrName);\n        });\n      },\n      offset: function offset() {\n        var el = this[0];\n        var rect = el[LEXICON.bCR]();\n        var scrollLeft = window.pageXOffset || document.documentElement[_strScrollLeft];\n        var scrollTop = window.pageYOffset || document.documentElement[_strScrollTop];\n        return {\n          top: rect.top + scrollTop,\n          left: rect.left + scrollLeft\n        };\n      },\n      position: function position() {\n        var el = this[0];\n        return {\n          top: el.offsetTop,\n          left: el.offsetLeft\n        };\n      },\n      scrollLeft: function scrollLeft(value) {\n        var i = 0;\n        var el;\n\n        while (el = this[i++]) {\n          if (value === undefined) return el[_strScrollLeft];\n          el[_strScrollLeft] = value;\n        }\n\n        return this;\n      },\n      scrollTop: function scrollTop(value) {\n        var i = 0;\n        var el;\n\n        while (el = this[i++]) {\n          if (value === undefined) return el[_strScrollTop];\n          el[_strScrollTop] = value;\n        }\n\n        return this;\n      },\n      val: function val(value) {\n        var el = this[0];\n        if (!value) return el.value;\n        el.value = value;\n        return this;\n      },\n      //DOM TRAVERSAL / FILTERING:\n      first: function first() {\n        return this.eq(0);\n      },\n      last: function last() {\n        return this.eq(-1);\n      },\n      eq: function eq(index) {\n        return FakejQuery(this[index >= 0 ? index : this[LEXICON.l] + index]);\n      },\n      find: function find(selector) {\n        var children = [];\n        var i;\n        this.each(function () {\n          var el = this;\n          var ch = el.querySelectorAll(selector);\n\n          for (i = 0; i < ch[LEXICON.l]; i++) {\n            children.push(ch[i]);\n          }\n        });\n        return FakejQuery(children);\n      },\n      children: function children(selector) {\n        var children = [];\n        var el;\n        var ch;\n        var i;\n        this.each(function () {\n          ch = this.children;\n\n          for (i = 0; i < ch[LEXICON.l]; i++) {\n            el = ch[i];\n\n            if (selector) {\n              if (el.matches && el.matches(selector) || matches(el, selector)) children.push(el);\n            } else children.push(el);\n          }\n        });\n        return FakejQuery(children);\n      },\n      parent: function parent(selector) {\n        var parents = [];\n        var parent;\n        this.each(function () {\n          parent = this.parentNode;\n          if (selector ? FakejQuery(parent).is(selector) : true) parents.push(parent);\n        });\n        return FakejQuery(parents);\n      },\n      is: function is(selector) {\n        var el;\n        var i;\n\n        for (i = 0; i < this[LEXICON.l]; i++) {\n          el = this[i];\n          if (selector === ':visible') return elementIsVisible(el);\n          if (selector === ':hidden') return !elementIsVisible(el);\n          if (el.matches && el.matches(selector) || matches(el, selector)) return true;\n        }\n\n        return false;\n      },\n      contents: function contents() {\n        var contents = [];\n        var childs;\n        var i;\n        this.each(function () {\n          childs = this.childNodes;\n\n          for (i = 0; i < childs[LEXICON.l]; i++) {\n            contents.push(childs[i]);\n          }\n        });\n        return FakejQuery(contents);\n      },\n      each: function each(callback) {\n        return _each(this, callback);\n      },\n      //ANIMATION:\n      animate: function animate(props, duration, easing, complete) {\n        return this.each(function () {\n          _animate(this, props, duration, easing, complete);\n        });\n      },\n      stop: function stop(clearQ, jump) {\n        return this.each(function () {\n          _stop(this, clearQ, jump);\n        });\n      }\n    };\n    extend(FakejQuery, {\n      extend: extend,\n      inArray: inArray,\n      isEmptyObject: isEmptyObject,\n      isPlainObject: isPlainObject,\n      each: _each\n    });\n    return FakejQuery;\n  }();\n\n  var INSTANCES = function () {\n    var _targets = [];\n    var _instancePropertyString = '__overlayScrollbars__';\n    /**\r\n     * Register, unregister or get a certain (or all) instances.\r\n     * Register: Pass the target and the instance.\r\n     * Unregister: Pass the target and null.\r\n     * Get Instance: Pass the target from which the instance shall be got.\r\n     * Get Targets: Pass no arguments.\r\n     * @param target The target to which the instance shall be registered / from which the instance shall be unregistered / the instance shall be got\r\n     * @param instance The instance.\r\n     * @returns {*|void} Returns the instance from the given target.\r\n     */\n\n    return function (target, instance) {\n      var argLen = arguments[LEXICON.l];\n\n      if (argLen < 1) {\n        //return all targets\n        return _targets;\n      } else {\n        if (instance) {\n          //register instance\n          target[_instancePropertyString] = instance;\n\n          _targets.push(target);\n        } else {\n          var index = COMPATIBILITY.inA(target, _targets);\n\n          if (index > -1) {\n            if (argLen > 1) {\n              //unregister instance\n              delete target[_instancePropertyString];\n\n              _targets.splice(index, 1);\n            } else {\n              //get instance from target\n              return _targets[index][_instancePropertyString];\n            }\n          }\n        }\n      }\n    };\n  }();\n\n  var PLUGIN = function () {\n    var _plugin;\n\n    var _pluginsGlobals;\n\n    var _pluginsAutoUpdateLoop;\n\n    var _pluginsExtensions = [];\n\n    var _pluginsOptions = function () {\n      var type = COMPATIBILITY.type;\n      var possibleTemplateTypes = [TYPES.b, //boolean\n      TYPES.n, //number\n      TYPES.s, //string\n      TYPES.a, //array\n      TYPES.o, //object\n      TYPES.f, //function\n      TYPES.z //null\n      ];\n      var restrictedStringsSplit = ' ';\n      var restrictedStringsPossibilitiesSplit = ':';\n      var classNameAllowedValues = [TYPES.z, TYPES.s];\n      var numberAllowedValues = TYPES.n;\n      var booleanNullAllowedValues = [TYPES.z, TYPES.b];\n      var booleanTrueTemplate = [true, TYPES.b];\n      var booleanFalseTemplate = [false, TYPES.b];\n      var callbackTemplate = [null, [TYPES.z, TYPES.f]];\n      var updateOnLoadTemplate = [['img'], [TYPES.s, TYPES.a, TYPES.z]];\n      var inheritedAttrsTemplate = [['style', 'class'], [TYPES.s, TYPES.a, TYPES.z]];\n      var resizeAllowedValues = 'n:none b:both h:horizontal v:vertical';\n      var overflowBehaviorAllowedValues = 'v-h:visible-hidden v-s:visible-scroll s:scroll h:hidden';\n      var scrollbarsVisibilityAllowedValues = 'v:visible h:hidden a:auto';\n      var scrollbarsAutoHideAllowedValues = 'n:never s:scroll l:leave m:move';\n      var optionsDefaultsAndTemplate = {\n        className: ['os-theme-dark', classNameAllowedValues],\n        //null || string\n        resize: ['none', resizeAllowedValues],\n        //none || both  || horizontal || vertical || n || b || h || v\n        sizeAutoCapable: booleanTrueTemplate,\n        //true || false\n        clipAlways: booleanTrueTemplate,\n        //true || false\n        normalizeRTL: booleanTrueTemplate,\n        //true || false\n        paddingAbsolute: booleanFalseTemplate,\n        //true || false\n        autoUpdate: [null, booleanNullAllowedValues],\n        //true || false || null\n        autoUpdateInterval: [33, numberAllowedValues],\n        //number\n        updateOnLoad: updateOnLoadTemplate,\n        //string || array || null\n        nativeScrollbarsOverlaid: {\n          showNativeScrollbars: booleanFalseTemplate,\n          //true || false\n          initialize: booleanTrueTemplate //true || false\n\n        },\n        overflowBehavior: {\n          x: ['scroll', overflowBehaviorAllowedValues],\n          //visible-hidden  || visible-scroll || hidden || scroll || v-h || v-s || h || s\n          y: ['scroll', overflowBehaviorAllowedValues] //visible-hidden  || visible-scroll || hidden || scroll || v-h || v-s || h || s\n\n        },\n        scrollbars: {\n          visibility: ['auto', scrollbarsVisibilityAllowedValues],\n          //visible || hidden || auto || v || h || a\n          autoHide: ['never', scrollbarsAutoHideAllowedValues],\n          //never || scroll || leave || move || n || s || l || m\n          autoHideDelay: [800, numberAllowedValues],\n          //number\n          dragScrolling: booleanTrueTemplate,\n          //true || false\n          clickScrolling: booleanFalseTemplate,\n          //true || false\n          touchSupport: booleanTrueTemplate,\n          //true || false\n          snapHandle: booleanFalseTemplate //true || false\n\n        },\n        textarea: {\n          dynWidth: booleanFalseTemplate,\n          //true || false\n          dynHeight: booleanFalseTemplate,\n          //true || false\n          inheritedAttrs: inheritedAttrsTemplate //string || array || null\n\n        },\n        callbacks: {\n          onInitialized: callbackTemplate,\n          //null || function\n          onInitializationWithdrawn: callbackTemplate,\n          //null || function\n          onDestroyed: callbackTemplate,\n          //null || function\n          onScrollStart: callbackTemplate,\n          //null || function\n          onScroll: callbackTemplate,\n          //null || function\n          onScrollStop: callbackTemplate,\n          //null || function\n          onOverflowChanged: callbackTemplate,\n          //null || function\n          onOverflowAmountChanged: callbackTemplate,\n          //null || function\n          onDirectionChanged: callbackTemplate,\n          //null || function\n          onContentSizeChanged: callbackTemplate,\n          //null || function\n          onHostSizeChanged: callbackTemplate,\n          //null || function\n          onUpdated: callbackTemplate //null || function\n\n        }\n      };\n\n      var convert = function convert(template) {\n        var recursive = function recursive(obj) {\n          var key;\n          var val;\n          var valType;\n\n          for (key in obj) {\n            if (!obj[LEXICON.hOP](key)) continue;\n            val = obj[key];\n            valType = type(val);\n            if (valType == TYPES.a) obj[key] = val[template ? 1 : 0];else if (valType == TYPES.o) obj[key] = recursive(val);\n          }\n\n          return obj;\n        };\n\n        return recursive(FRAMEWORK.extend(true, {}, optionsDefaultsAndTemplate));\n      };\n\n      return {\n        _defaults: convert(),\n        _template: convert(true),\n\n        /**\r\n         * Validates the passed object by the passed template.\r\n         * @param obj The object which shall be validated.\r\n         * @param template The template which defines the allowed values and types.\r\n         * @param writeErrors True if errors shall be logged to the console.\r\n         * @param diffObj If a object is passed then only valid differences to this object will be returned.\r\n         * @returns {{}} A object which contains two objects called \"default\" and \"prepared\" which contains only the valid properties of the passed original object and discards not different values compared to the passed diffObj.\r\n         */\n        _validate: function _validate(obj, template, writeErrors, diffObj) {\n          var validatedOptions = {};\n          var validatedOptionsPrepared = {};\n          var objectCopy = FRAMEWORK.extend(true, {}, obj);\n          var inArray = FRAMEWORK.inArray;\n          var isEmptyObj = FRAMEWORK.isEmptyObject;\n\n          var checkObjectProps = function checkObjectProps(data, template, diffData, validatedOptions, validatedOptionsPrepared, prevPropName) {\n            for (var prop in template) {\n              if (template[LEXICON.hOP](prop) && data[LEXICON.hOP](prop)) {\n                var isValid = false;\n                var isDiff = false;\n                var templateValue = template[prop];\n                var templateValueType = type(templateValue);\n                var templateIsComplex = templateValueType == TYPES.o;\n                var templateTypes = !COMPATIBILITY.isA(templateValue) ? [templateValue] : templateValue;\n                var dataDiffValue = diffData[prop];\n                var dataValue = data[prop];\n                var dataValueType = type(dataValue);\n                var propPrefix = prevPropName ? prevPropName + '.' : '';\n                var error = \"The option \\\"\" + propPrefix + prop + \"\\\" wasn't set, because\";\n                var errorPossibleTypes = [];\n                var errorRestrictedStrings = [];\n                var restrictedStringValuesSplit;\n                var restrictedStringValuesPossibilitiesSplit;\n                var isRestrictedValue;\n                var mainPossibility;\n                var currType;\n                var i;\n                var v;\n                var j;\n                dataDiffValue = dataDiffValue === undefined ? {} : dataDiffValue; //if the template has a object as value, it means that the options are complex (verschachtelt)\n\n                if (templateIsComplex && dataValueType == TYPES.o) {\n                  validatedOptions[prop] = {};\n                  validatedOptionsPrepared[prop] = {};\n                  checkObjectProps(dataValue, templateValue, dataDiffValue, validatedOptions[prop], validatedOptionsPrepared[prop], propPrefix + prop);\n                  FRAMEWORK.each([data, validatedOptions, validatedOptionsPrepared], function (index, value) {\n                    if (isEmptyObj(value[prop])) {\n                      delete value[prop];\n                    }\n                  });\n                } else if (!templateIsComplex) {\n                  for (i = 0; i < templateTypes[LEXICON.l]; i++) {\n                    currType = templateTypes[i];\n                    templateValueType = type(currType); //if currtype is string and starts with restrictedStringPrefix and end with restrictedStringSuffix\n\n                    isRestrictedValue = templateValueType == TYPES.s && inArray(currType, possibleTemplateTypes) === -1;\n\n                    if (isRestrictedValue) {\n                      errorPossibleTypes.push(TYPES.s); //split it into a array which contains all possible values for example: [\"y:yes\", \"n:no\", \"m:maybe\"]\n\n                      restrictedStringValuesSplit = currType.split(restrictedStringsSplit);\n                      errorRestrictedStrings = errorRestrictedStrings.concat(restrictedStringValuesSplit);\n\n                      for (v = 0; v < restrictedStringValuesSplit[LEXICON.l]; v++) {\n                        //split the possible values into their possibiliteis for example: [\"y\", \"yes\"] -> the first is always the mainPossibility\n                        restrictedStringValuesPossibilitiesSplit = restrictedStringValuesSplit[v].split(restrictedStringsPossibilitiesSplit);\n                        mainPossibility = restrictedStringValuesPossibilitiesSplit[0];\n\n                        for (j = 0; j < restrictedStringValuesPossibilitiesSplit[LEXICON.l]; j++) {\n                          //if any possibility matches with the dataValue, its valid\n                          if (dataValue === restrictedStringValuesPossibilitiesSplit[j]) {\n                            isValid = true;\n                            break;\n                          }\n                        }\n\n                        if (isValid) break;\n                      }\n                    } else {\n                      errorPossibleTypes.push(currType);\n\n                      if (dataValueType === currType) {\n                        isValid = true;\n                        break;\n                      }\n                    }\n                  }\n\n                  if (isValid) {\n                    isDiff = dataValue !== dataDiffValue;\n                    if (isDiff) validatedOptions[prop] = dataValue;\n                    if (isRestrictedValue ? inArray(dataDiffValue, restrictedStringValuesPossibilitiesSplit) < 0 : isDiff) validatedOptionsPrepared[prop] = isRestrictedValue ? mainPossibility : dataValue;\n                  } else if (writeErrors) {\n                    console.warn(error + \" it doesn't accept the type [ \" + dataValueType.toUpperCase() + \" ] with the value of \\\"\" + dataValue + \"\\\".\\r\\n\" + \"Accepted types are: [ \" + errorPossibleTypes.join(', ').toUpperCase() + \" ].\" + (errorRestrictedStrings[length] > 0 ? \"\\r\\nValid strings are: [ \" + errorRestrictedStrings.join(', ').split(restrictedStringsPossibilitiesSplit).join(', ') + \" ].\" : ''));\n                  }\n\n                  delete data[prop];\n                }\n              }\n            }\n          };\n\n          checkObjectProps(objectCopy, template, diffObj || {}, validatedOptions, validatedOptionsPrepared); //add values which aren't specified in the template to the finished validated object to prevent them from being discarded\n\n          /*\r\n          if(keepForeignProps) {\r\n              FRAMEWORK.extend(true, validatedOptions, objectCopy);\r\n              FRAMEWORK.extend(true, validatedOptionsPrepared, objectCopy);\r\n          }\r\n          */\n\n          if (!isEmptyObj(objectCopy) && writeErrors) console.warn('The following options are discarded due to invalidity:\\r\\n' + window.JSON.stringify(objectCopy, null, 2));\n          return {\n            _default: validatedOptions,\n            _prepared: validatedOptionsPrepared\n          };\n        }\n      };\n    }();\n    /**\r\n     * Initializes the object which contains global information about the plugin and each instance of it.\r\n     */\n\n\n    function initOverlayScrollbarsStatics() {\n      if (!_pluginsGlobals) _pluginsGlobals = new OverlayScrollbarsGlobals(_pluginsOptions._defaults);\n      if (!_pluginsAutoUpdateLoop) _pluginsAutoUpdateLoop = new OverlayScrollbarsAutoUpdateLoop(_pluginsGlobals);\n    }\n    /**\r\n     * The global object for the OverlayScrollbars objects. It contains resources which every OverlayScrollbars object needs. This object is initialized only once: if the first OverlayScrollbars object gets initialized.\r\n     * @param defaultOptions\r\n     * @constructor\r\n     */\n\n\n    function OverlayScrollbarsGlobals(defaultOptions) {\n      var _base = this;\n\n      var strOverflow = 'overflow';\n      var strHidden = 'hidden';\n      var strScroll = 'scroll';\n      var bodyElement = FRAMEWORK('body');\n      var scrollbarDummyElement = FRAMEWORK('<div id=\"os-dummy-scrollbar-size\"><div></div></div>');\n      var scrollbarDummyElement0 = scrollbarDummyElement[0];\n      var dummyContainerChild = FRAMEWORK(scrollbarDummyElement.children('div').eq(0));\n      bodyElement.append(scrollbarDummyElement);\n      scrollbarDummyElement.hide().show(); //fix IE8 bug (incorrect measuring)\n\n      var nativeScrollbarSize = calcNativeScrollbarSize(scrollbarDummyElement0);\n      var nativeScrollbarIsOverlaid = {\n        x: nativeScrollbarSize.x === 0,\n        y: nativeScrollbarSize.y === 0\n      };\n\n      var msie = function () {\n        var ua = window.navigator.userAgent;\n        var strIndexOf = 'indexOf';\n        var strSubString = 'substring';\n        var msie = ua[strIndexOf]('MSIE ');\n        var trident = ua[strIndexOf]('Trident/');\n        var edge = ua[strIndexOf]('Edge/');\n        var rv = ua[strIndexOf]('rv:');\n        var result;\n        var parseIntFunc = parseInt; // IE 10 or older => return version number\n\n        if (msie > 0) result = parseIntFunc(ua[strSubString](msie + 5, ua[strIndexOf]('.', msie)), 10); // IE 11 => return version number\n        else if (trident > 0) result = parseIntFunc(ua[strSubString](rv + 3, ua[strIndexOf]('.', rv)), 10); // Edge (IE 12+) => return version number\n          else if (edge > 0) result = parseIntFunc(ua[strSubString](edge + 5, ua[strIndexOf]('.', edge)), 10); // other browser\n\n        return result;\n      }();\n\n      FRAMEWORK.extend(_base, {\n        defaultOptions: defaultOptions,\n        msie: msie,\n        autoUpdateLoop: false,\n        autoUpdateRecommended: !COMPATIBILITY.mO(),\n        nativeScrollbarSize: nativeScrollbarSize,\n        nativeScrollbarIsOverlaid: nativeScrollbarIsOverlaid,\n        nativeScrollbarStyling: function () {\n          var result = false;\n          scrollbarDummyElement.addClass('os-viewport-native-scrollbars-invisible');\n\n          try {\n            result = scrollbarDummyElement.css('scrollbar-width') === 'none' && (msie > 9 || !msie) || window.getComputedStyle(scrollbarDummyElement0, '::-webkit-scrollbar').getPropertyValue('display') === 'none';\n          } catch (ex) {} //fix opera bug: scrollbar styles will only appear if overflow value is scroll or auto during the activation of the style.\n          //and set overflow to scroll\n          //scrollbarDummyElement.css(strOverflow, strHidden).hide().css(strOverflow, strScroll).show();\n          //return (scrollbarDummyElement0[LEXICON.oH] - scrollbarDummyElement0[LEXICON.cH]) === 0 && (scrollbarDummyElement0[LEXICON.oW] - scrollbarDummyElement0[LEXICON.cW]) === 0;\n\n\n          return result;\n        }(),\n        overlayScrollbarDummySize: {\n          x: 30,\n          y: 30\n        },\n        cssCalc: VENDORS._cssPropertyValue('width', 'calc', '(1px)') || null,\n        restrictedMeasuring: function () {\n          //https://bugzilla.mozilla.org/show_bug.cgi?id=1439305\n          //since 1.11.0 always false -> fixed via CSS (hopefully)\n          scrollbarDummyElement.css(strOverflow, strHidden);\n          var scrollSize = {\n            w: scrollbarDummyElement0[LEXICON.sW],\n            h: scrollbarDummyElement0[LEXICON.sH]\n          };\n          scrollbarDummyElement.css(strOverflow, 'visible');\n          var scrollSize2 = {\n            w: scrollbarDummyElement0[LEXICON.sW],\n            h: scrollbarDummyElement0[LEXICON.sH]\n          };\n          return scrollSize.w - scrollSize2.w !== 0 || scrollSize.h - scrollSize2.h !== 0;\n        }(),\n        rtlScrollBehavior: function () {\n          scrollbarDummyElement.css({\n            'overflow-y': strHidden,\n            'overflow-x': strScroll,\n            'direction': 'rtl'\n          }).scrollLeft(0);\n          var dummyContainerOffset = scrollbarDummyElement.offset();\n          var dummyContainerChildOffset = dummyContainerChild.offset(); //https://github.com/KingSora/OverlayScrollbars/issues/187\n\n          scrollbarDummyElement.scrollLeft(-999);\n          var dummyContainerChildOffsetAfterScroll = dummyContainerChild.offset();\n          return {\n            //origin direction = determines if the zero scroll position is on the left or right side\n            //'i' means 'invert' (i === true means that the axis must be inverted to be correct)\n            //true = on the left side\n            //false = on the right side\n            i: dummyContainerOffset.left === dummyContainerChildOffset.left,\n            //negative = determines if the maximum scroll is positive or negative\n            //'n' means 'negate' (n === true means that the axis must be negated to be correct)\n            //true = negative\n            //false = positive\n            n: dummyContainerChildOffset.left !== dummyContainerChildOffsetAfterScroll.left\n          };\n        }(),\n        supportTransform: !!VENDORS._cssProperty('transform'),\n        supportTransition: !!VENDORS._cssProperty('transition'),\n        supportPassiveEvents: function () {\n          var supportsPassive = false;\n\n          try {\n            window.addEventListener('test', null, Object.defineProperty({}, 'passive', {\n              get: function get() {\n                supportsPassive = true;\n              }\n            }));\n          } catch (e) {}\n\n          return supportsPassive;\n        }(),\n        supportResizeObserver: !!COMPATIBILITY.rO(),\n        supportMutationObserver: !!COMPATIBILITY.mO()\n      });\n      scrollbarDummyElement.removeAttr(LEXICON.s).remove(); //Catch zoom event:\n\n      (function () {\n        if (nativeScrollbarIsOverlaid.x && nativeScrollbarIsOverlaid.y) return;\n        var abs = MATH.abs;\n        var windowWidth = COMPATIBILITY.wW();\n        var windowHeight = COMPATIBILITY.wH();\n        var windowDpr = getWindowDPR();\n\n        var onResize = function onResize() {\n          if (INSTANCES().length > 0) {\n            var newW = COMPATIBILITY.wW();\n            var newH = COMPATIBILITY.wH();\n            var deltaW = newW - windowWidth;\n            var deltaH = newH - windowHeight;\n            if (deltaW === 0 && deltaH === 0) return;\n            var deltaWRatio = MATH.round(newW / (windowWidth / 100.0));\n            var deltaHRatio = MATH.round(newH / (windowHeight / 100.0));\n            var absDeltaW = abs(deltaW);\n            var absDeltaH = abs(deltaH);\n            var absDeltaWRatio = abs(deltaWRatio);\n            var absDeltaHRatio = abs(deltaHRatio);\n            var newDPR = getWindowDPR();\n            var deltaIsBigger = absDeltaW > 2 && absDeltaH > 2;\n            var difference = !differenceIsBiggerThanOne(absDeltaWRatio, absDeltaHRatio);\n            var dprChanged = newDPR !== windowDpr && windowDpr > 0;\n            var isZoom = deltaIsBigger && difference && dprChanged;\n            var oldScrollbarSize = _base.nativeScrollbarSize;\n            var newScrollbarSize;\n\n            if (isZoom) {\n              bodyElement.append(scrollbarDummyElement);\n              newScrollbarSize = _base.nativeScrollbarSize = calcNativeScrollbarSize(scrollbarDummyElement[0]);\n              scrollbarDummyElement.remove();\n\n              if (oldScrollbarSize.x !== newScrollbarSize.x || oldScrollbarSize.y !== newScrollbarSize.y) {\n                FRAMEWORK.each(INSTANCES(), function () {\n                  if (INSTANCES(this)) INSTANCES(this).update('zoom');\n                });\n              }\n            }\n\n            windowWidth = newW;\n            windowHeight = newH;\n            windowDpr = newDPR;\n          }\n        };\n\n        function differenceIsBiggerThanOne(valOne, valTwo) {\n          var absValOne = abs(valOne);\n          var absValTwo = abs(valTwo);\n          return !(absValOne === absValTwo || absValOne + 1 === absValTwo || absValOne - 1 === absValTwo);\n        }\n\n        function getWindowDPR() {\n          var dDPI = window.screen.deviceXDPI || 0;\n          var sDPI = window.screen.logicalXDPI || 1;\n          return window.devicePixelRatio || dDPI / sDPI;\n        }\n\n        FRAMEWORK(window).on('resize', onResize);\n      })();\n\n      function calcNativeScrollbarSize(measureElement) {\n        return {\n          x: measureElement[LEXICON.oH] - measureElement[LEXICON.cH],\n          y: measureElement[LEXICON.oW] - measureElement[LEXICON.cW]\n        };\n      }\n    }\n    /**\r\n     * The object which manages the auto update loop for all OverlayScrollbars objects. This object is initialized only once: if the first OverlayScrollbars object gets initialized.\r\n     * @constructor\r\n     */\n\n\n    function OverlayScrollbarsAutoUpdateLoop(globals) {\n      var _base = this;\n\n      var _inArray = FRAMEWORK.inArray;\n      var _getNow = COMPATIBILITY.now;\n      var _strAutoUpdate = 'autoUpdate';\n\n      var _strAutoUpdateInterval = _strAutoUpdate + 'Interval';\n\n      var _strLength = LEXICON.l;\n      var _loopingInstances = [];\n      var _loopingInstancesIntervalCache = [];\n      var _loopIsActive = false;\n      var _loopIntervalDefault = 33;\n      var _loopInterval = _loopIntervalDefault;\n\n      var _loopTimeOld = _getNow();\n\n      var _loopID;\n      /**\r\n       * The auto update loop which will run every 50 milliseconds or less if the update interval of a instance is lower than 50 milliseconds.\r\n       */\n\n\n      var loop = function loop() {\n        if (_loopingInstances[_strLength] > 0 && _loopIsActive) {\n          _loopID = COMPATIBILITY.rAF()(function () {\n            loop();\n          });\n\n          var timeNew = _getNow();\n\n          var timeDelta = timeNew - _loopTimeOld;\n          var lowestInterval;\n          var instance;\n          var instanceOptions;\n          var instanceAutoUpdateAllowed;\n          var instanceAutoUpdateInterval;\n          var now;\n\n          if (timeDelta > _loopInterval) {\n            _loopTimeOld = timeNew - timeDelta % _loopInterval;\n            lowestInterval = _loopIntervalDefault;\n\n            for (var i = 0; i < _loopingInstances[_strLength]; i++) {\n              instance = _loopingInstances[i];\n\n              if (instance !== undefined) {\n                instanceOptions = instance.options();\n                instanceAutoUpdateAllowed = instanceOptions[_strAutoUpdate];\n                instanceAutoUpdateInterval = MATH.max(1, instanceOptions[_strAutoUpdateInterval]);\n                now = _getNow();\n\n                if ((instanceAutoUpdateAllowed === true || instanceAutoUpdateAllowed === null) && now - _loopingInstancesIntervalCache[i] > instanceAutoUpdateInterval) {\n                  instance.update('auto');\n                  _loopingInstancesIntervalCache[i] = new Date(now += instanceAutoUpdateInterval);\n                }\n\n                lowestInterval = MATH.max(1, MATH.min(lowestInterval, instanceAutoUpdateInterval));\n              }\n            }\n\n            _loopInterval = lowestInterval;\n          }\n        } else {\n          _loopInterval = _loopIntervalDefault;\n        }\n      };\n      /**\r\n       * Add OverlayScrollbars instance to the auto update loop. Only successful if the instance isn't already added.\r\n       * @param instance The instance which shall be updated in a loop automatically.\r\n       */\n\n\n      _base.add = function (instance) {\n        if (_inArray(instance, _loopingInstances) === -1) {\n          _loopingInstances.push(instance);\n\n          _loopingInstancesIntervalCache.push(_getNow());\n\n          if (_loopingInstances[_strLength] > 0 && !_loopIsActive) {\n            _loopIsActive = true;\n            globals.autoUpdateLoop = _loopIsActive;\n            loop();\n          }\n        }\n      };\n      /**\r\n       * Remove OverlayScrollbars instance from the auto update loop. Only successful if the instance was added before.\r\n       * @param instance The instance which shall be updated in a loop automatically.\r\n       */\n\n\n      _base.remove = function (instance) {\n        var index = _inArray(instance, _loopingInstances);\n\n        if (index > -1) {\n          //remove from loopingInstances list\n          _loopingInstancesIntervalCache.splice(index, 1);\n\n          _loopingInstances.splice(index, 1); //correct update loop behavior\n\n\n          if (_loopingInstances[_strLength] === 0 && _loopIsActive) {\n            _loopIsActive = false;\n            globals.autoUpdateLoop = _loopIsActive;\n\n            if (_loopID !== undefined) {\n              COMPATIBILITY.cAF()(_loopID);\n              _loopID = -1;\n            }\n          }\n        }\n      };\n    }\n    /**\r\n     * A object which manages the scrollbars visibility of the target element.\r\n     * @param pluginTargetElement The element from which the scrollbars shall be hidden.\r\n     * @param options The custom options.\r\n     * @param extensions The custom extensions.\r\n     * @param globals\r\n     * @param autoUpdateLoop\r\n     * @returns {*}\r\n     * @constructor\r\n     */\n\n\n    function OverlayScrollbarsInstance(pluginTargetElement, options, extensions, globals, autoUpdateLoop) {\n      //shortcuts\n      var type = COMPATIBILITY.type;\n      var inArray = FRAMEWORK.inArray;\n      var each = FRAMEWORK.each; //make correct instanceof\n\n      var _base = new _plugin();\n\n      var _frameworkProto = FRAMEWORK[LEXICON.p]; //if passed element is no HTML element: skip and return\n\n      if (!isHTMLElement(pluginTargetElement)) return; //if passed element is already initialized: set passed options if there are any and return its instance\n\n      if (INSTANCES(pluginTargetElement)) {\n        var inst = INSTANCES(pluginTargetElement);\n        inst.options(options);\n        return inst;\n      } //globals:\n\n\n      var _nativeScrollbarIsOverlaid;\n\n      var _overlayScrollbarDummySize;\n\n      var _rtlScrollBehavior;\n\n      var _autoUpdateRecommended;\n\n      var _msieVersion;\n\n      var _nativeScrollbarStyling;\n\n      var _cssCalc;\n\n      var _nativeScrollbarSize;\n\n      var _supportTransition;\n\n      var _supportTransform;\n\n      var _supportPassiveEvents;\n\n      var _supportResizeObserver;\n\n      var _supportMutationObserver;\n\n      var _restrictedMeasuring; //general readonly:\n\n\n      var _initialized;\n\n      var _destroyed;\n\n      var _isTextarea;\n\n      var _isBody;\n\n      var _documentMixed;\n\n      var _domExists; //general:\n\n\n      var _isBorderBox;\n\n      var _sizeAutoObserverAdded;\n\n      var _paddingX;\n\n      var _paddingY;\n\n      var _borderX;\n\n      var _borderY;\n\n      var _marginX;\n\n      var _marginY;\n\n      var _isRTL;\n\n      var _sleeping;\n\n      var _contentBorderSize = {};\n      var _scrollHorizontalInfo = {};\n      var _scrollVerticalInfo = {};\n      var _viewportSize = {};\n      var _nativeScrollbarMinSize = {}; //naming:\t\n\n      var _strMinusHidden = '-hidden';\n      var _strMarginMinus = 'margin-';\n      var _strPaddingMinus = 'padding-';\n      var _strBorderMinus = 'border-';\n      var _strTop = 'top';\n      var _strRight = 'right';\n      var _strBottom = 'bottom';\n      var _strLeft = 'left';\n      var _strMinMinus = 'min-';\n      var _strMaxMinus = 'max-';\n      var _strWidth = 'width';\n      var _strHeight = 'height';\n      var _strFloat = 'float';\n      var _strEmpty = '';\n      var _strAuto = 'auto';\n      var _strSync = 'sync';\n      var _strScroll = 'scroll';\n      var _strHundredPercent = '100%';\n      var _strX = 'x';\n      var _strY = 'y';\n      var _strDot = '.';\n      var _strSpace = ' ';\n      var _strScrollbar = 'scrollbar';\n      var _strMinusHorizontal = '-horizontal';\n      var _strMinusVertical = '-vertical';\n\n      var _strScrollLeft = _strScroll + 'Left';\n\n      var _strScrollTop = _strScroll + 'Top';\n\n      var _strMouseTouchDownEvent = 'mousedown touchstart';\n      var _strMouseTouchUpEvent = 'mouseup touchend touchcancel';\n      var _strMouseTouchMoveEvent = 'mousemove touchmove';\n      var _strMouseEnter = 'mouseenter';\n      var _strMouseLeave = 'mouseleave';\n      var _strKeyDownEvent = 'keydown';\n      var _strKeyUpEvent = 'keyup';\n      var _strSelectStartEvent = 'selectstart';\n      var _strTransitionEndEvent = 'transitionend webkitTransitionEnd oTransitionEnd';\n      var _strResizeObserverProperty = '__overlayScrollbarsRO__'; //class names:\t\n\n      var _cassNamesPrefix = 'os-';\n\n      var _classNameHTMLElement = _cassNamesPrefix + 'html';\n\n      var _classNameHostElement = _cassNamesPrefix + 'host';\n\n      var _classNameHostElementForeign = _classNameHostElement + '-foreign';\n\n      var _classNameHostTextareaElement = _classNameHostElement + '-textarea';\n\n      var _classNameHostScrollbarHorizontalHidden = _classNameHostElement + '-' + _strScrollbar + _strMinusHorizontal + _strMinusHidden;\n\n      var _classNameHostScrollbarVerticalHidden = _classNameHostElement + '-' + _strScrollbar + _strMinusVertical + _strMinusHidden;\n\n      var _classNameHostTransition = _classNameHostElement + '-transition';\n\n      var _classNameHostRTL = _classNameHostElement + '-rtl';\n\n      var _classNameHostResizeDisabled = _classNameHostElement + '-resize-disabled';\n\n      var _classNameHostScrolling = _classNameHostElement + '-scrolling';\n\n      var _classNameHostOverflow = _classNameHostElement + '-overflow';\n\n      var _classNameHostOverflow = _classNameHostElement + '-overflow';\n\n      var _classNameHostOverflowX = _classNameHostOverflow + '-x';\n\n      var _classNameHostOverflowY = _classNameHostOverflow + '-y';\n\n      var _classNameTextareaElement = _cassNamesPrefix + 'textarea';\n\n      var _classNameTextareaCoverElement = _classNameTextareaElement + '-cover';\n\n      var _classNamePaddingElement = _cassNamesPrefix + 'padding';\n\n      var _classNameViewportElement = _cassNamesPrefix + 'viewport';\n\n      var _classNameViewportNativeScrollbarsInvisible = _classNameViewportElement + '-native-scrollbars-invisible';\n\n      var _classNameViewportNativeScrollbarsOverlaid = _classNameViewportElement + '-native-scrollbars-overlaid';\n\n      var _classNameContentElement = _cassNamesPrefix + 'content';\n\n      var _classNameContentArrangeElement = _cassNamesPrefix + 'content-arrange';\n\n      var _classNameContentGlueElement = _cassNamesPrefix + 'content-glue';\n\n      var _classNameSizeAutoObserverElement = _cassNamesPrefix + 'size-auto-observer';\n\n      var _classNameResizeObserverElement = _cassNamesPrefix + 'resize-observer';\n\n      var _classNameResizeObserverItemElement = _cassNamesPrefix + 'resize-observer-item';\n\n      var _classNameResizeObserverItemFinalElement = _classNameResizeObserverItemElement + '-final';\n\n      var _classNameTextInherit = _cassNamesPrefix + 'text-inherit';\n\n      var _classNameScrollbar = _cassNamesPrefix + _strScrollbar;\n\n      var _classNameScrollbarTrack = _classNameScrollbar + '-track';\n\n      var _classNameScrollbarTrackOff = _classNameScrollbarTrack + '-off';\n\n      var _classNameScrollbarHandle = _classNameScrollbar + '-handle';\n\n      var _classNameScrollbarHandleOff = _classNameScrollbarHandle + '-off';\n\n      var _classNameScrollbarUnusable = _classNameScrollbar + '-unusable';\n\n      var _classNameScrollbarAutoHidden = _classNameScrollbar + '-' + _strAuto + _strMinusHidden;\n\n      var _classNameScrollbarCorner = _classNameScrollbar + '-corner';\n\n      var _classNameScrollbarCornerResize = _classNameScrollbarCorner + '-resize';\n\n      var _classNameScrollbarCornerResizeB = _classNameScrollbarCornerResize + '-both';\n\n      var _classNameScrollbarCornerResizeH = _classNameScrollbarCornerResize + _strMinusHorizontal;\n\n      var _classNameScrollbarCornerResizeV = _classNameScrollbarCornerResize + _strMinusVertical;\n\n      var _classNameScrollbarHorizontal = _classNameScrollbar + _strMinusHorizontal;\n\n      var _classNameScrollbarVertical = _classNameScrollbar + _strMinusVertical;\n\n      var _classNameDragging = _cassNamesPrefix + 'dragging';\n\n      var _classNameThemeNone = _cassNamesPrefix + 'theme-none';\n\n      var _classNamesDynamicDestroy = [_classNameViewportNativeScrollbarsInvisible, _classNameViewportNativeScrollbarsOverlaid, _classNameScrollbarTrackOff, _classNameScrollbarHandleOff, _classNameScrollbarUnusable, _classNameScrollbarAutoHidden, _classNameScrollbarCornerResize, _classNameScrollbarCornerResizeB, _classNameScrollbarCornerResizeH, _classNameScrollbarCornerResizeV, _classNameDragging].join(_strSpace); //callbacks:\t\n\n\n      var _callbacksInitQeueue = []; //attrs viewport shall inherit from target\t\n\n      var _viewportAttrsFromTarget = [LEXICON.ti]; //options:\t\n\n      var _defaultOptions;\n\n      var _currentOptions;\n\n      var _currentPreparedOptions; //extensions:\t\n\n\n      var _extensions = {};\n      var _extensionsPrivateMethods = 'added removed on contract'; //update\t\n\n      var _lastUpdateTime;\n\n      var _swallowedUpdateHints = {};\n\n      var _swallowedUpdateTimeout;\n\n      var _swallowUpdateLag = 42;\n      var _updateOnLoadEventName = 'load';\n      var _updateOnLoadElms = []; //DOM elements:\t\n\n      var _windowElement;\n\n      var _documentElement;\n\n      var _htmlElement;\n\n      var _bodyElement;\n\n      var _targetElement; //the target element of this OverlayScrollbars object\t\n\n\n      var _hostElement; //the host element of this OverlayScrollbars object -> may be the same as targetElement\t\n\n\n      var _sizeAutoObserverElement; //observes size auto changes\t\n\n\n      var _sizeObserverElement; //observes size and padding changes\t\n\n\n      var _paddingElement; //manages the padding\t\n\n\n      var _viewportElement; //is the viewport of our scrollbar model\t\n\n\n      var _contentElement; //the element which holds the content\t\n\n\n      var _contentArrangeElement; //is needed for correct sizing of the content element (only if native scrollbars are overlays)\t\n\n\n      var _contentGlueElement; //has always the size of the content element\t\n\n\n      var _textareaCoverElement; //only applied if target is a textarea element. Used for correct size calculation and for prevention of uncontrolled scrolling\t\n\n\n      var _scrollbarCornerElement;\n\n      var _scrollbarHorizontalElement;\n\n      var _scrollbarHorizontalTrackElement;\n\n      var _scrollbarHorizontalHandleElement;\n\n      var _scrollbarVerticalElement;\n\n      var _scrollbarVerticalTrackElement;\n\n      var _scrollbarVerticalHandleElement;\n\n      var _windowElementNative;\n\n      var _documentElementNative;\n\n      var _targetElementNative;\n\n      var _hostElementNative;\n\n      var _sizeAutoObserverElementNative;\n\n      var _sizeObserverElementNative;\n\n      var _paddingElementNative;\n\n      var _viewportElementNative;\n\n      var _contentElementNative; //Cache:\t\n\n\n      var _hostSizeCache;\n\n      var _contentScrollSizeCache;\n\n      var _arrangeContentSizeCache;\n\n      var _hasOverflowCache;\n\n      var _hideOverflowCache;\n\n      var _widthAutoCache;\n\n      var _heightAutoCache;\n\n      var _cssBoxSizingCache;\n\n      var _cssPaddingCache;\n\n      var _cssBorderCache;\n\n      var _cssMarginCache;\n\n      var _cssDirectionCache;\n\n      var _cssDirectionDetectedCache;\n\n      var _paddingAbsoluteCache;\n\n      var _clipAlwaysCache;\n\n      var _contentGlueSizeCache;\n\n      var _overflowBehaviorCache;\n\n      var _overflowAmountCache;\n\n      var _ignoreOverlayScrollbarHidingCache;\n\n      var _autoUpdateCache;\n\n      var _sizeAutoCapableCache;\n\n      var _contentElementScrollSizeChangeDetectedCache;\n\n      var _hostElementSizeChangeDetectedCache;\n\n      var _scrollbarsVisibilityCache;\n\n      var _scrollbarsAutoHideCache;\n\n      var _scrollbarsClickScrollingCache;\n\n      var _scrollbarsDragScrollingCache;\n\n      var _resizeCache;\n\n      var _normalizeRTLCache;\n\n      var _classNameCache;\n\n      var _oldClassName;\n\n      var _textareaAutoWrappingCache;\n\n      var _textareaInfoCache;\n\n      var _textareaSizeCache;\n\n      var _textareaDynHeightCache;\n\n      var _textareaDynWidthCache;\n\n      var _bodyMinSizeCache;\n\n      var _updateAutoCache = {}; //MutationObserver:\t\n\n      var _mutationObserverHost;\n\n      var _mutationObserverContent;\n\n      var _mutationObserverHostCallback;\n\n      var _mutationObserverContentCallback;\n\n      var _mutationObserversConnected;\n\n      var _mutationObserverAttrsTextarea = ['wrap', 'cols', 'rows'];\n\n      var _mutationObserverAttrsHost = [LEXICON.i, LEXICON.c, LEXICON.s, 'open'].concat(_viewportAttrsFromTarget); //events:\t\n\n\n      var _destroyEvents = []; //textarea:\t\n\n      var _textareaHasFocus; //scrollbars:\t\n\n\n      var _scrollbarsAutoHideTimeoutId;\n\n      var _scrollbarsAutoHideMoveTimeoutId;\n\n      var _scrollbarsAutoHideDelay;\n\n      var _scrollbarsAutoHideNever;\n\n      var _scrollbarsAutoHideScroll;\n\n      var _scrollbarsAutoHideMove;\n\n      var _scrollbarsAutoHideLeave;\n\n      var _scrollbarsHandleHovered;\n\n      var _scrollbarsHandlesDefineScrollPos; //resize\t\n\n\n      var _resizeNone;\n\n      var _resizeBoth;\n\n      var _resizeHorizontal;\n\n      var _resizeVertical; //==== Event Listener ====//\t\n\n      /**\t\r\n       * Adds or removes a event listener from the given element. \t\r\n       * @param element The element to which the event listener shall be applied or removed.\t\r\n       * @param eventNames The name(s) of the events.\t\r\n       * @param listener The method which shall be called.\t\r\n       * @param remove True if the handler shall be removed, false or undefined if the handler shall be added.\t\r\n       * @param passiveOrOptions The options for the event.\r\n       */\n\n\n      function setupResponsiveEventListener(element, eventNames, listener, remove, passiveOrOptions) {\n        var collected = COMPATIBILITY.isA(eventNames) && COMPATIBILITY.isA(listener);\n        var method = remove ? 'removeEventListener' : 'addEventListener';\n        var onOff = remove ? 'off' : 'on';\n        var events = collected ? false : eventNames.split(_strSpace);\n        var i = 0;\n        var passiveOrOptionsIsObj = FRAMEWORK.isPlainObject(passiveOrOptions);\n        var passive = _supportPassiveEvents && (passiveOrOptionsIsObj ? passiveOrOptions._passive || false : passiveOrOptions);\n        var capture = passiveOrOptionsIsObj && (passiveOrOptions._capture || false);\n        var useNative = capture || passive;\n        var nativeParam = passive ? {\n          passive: passive,\n          capture: capture\n        } : capture;\n\n        if (collected) {\n          for (; i < eventNames[LEXICON.l]; i++) {\n            setupResponsiveEventListener(element, eventNames[i], listener[i], remove, passiveOrOptions);\n          }\n        } else {\n          for (; i < events[LEXICON.l]; i++) {\n            if (useNative) {\n              element[0][method](events[i], listener, nativeParam);\n            } else {\n              element[onOff](events[i], listener);\n            }\n          }\n        }\n      }\n\n      function addDestroyEventListener(element, eventNames, listener, passive) {\n        setupResponsiveEventListener(element, eventNames, listener, false, passive);\n\n        _destroyEvents.push(COMPATIBILITY.bind(setupResponsiveEventListener, 0, element, eventNames, listener, true, passive));\n      } //==== Resize Observer ====//\n\n      /**\r\n       * Adds or removes a resize observer from the given element.\r\n       * @param targetElement The element to which the resize observer shall be added or removed.\r\n       * @param onElementResizedCallback The callback which is fired every time the resize observer registers a size change or false / undefined if the resizeObserver shall be removed.\r\n       */\n\n\n      function setupResizeObserver(targetElement, onElementResizedCallback) {\n        if (targetElement) {\n          var resizeObserver = COMPATIBILITY.rO();\n          var strAnimationStartEvent = 'animationstart mozAnimationStart webkitAnimationStart MSAnimationStart';\n          var strChildNodes = 'childNodes';\n          var constScroll = 3333333;\n\n          var callback = function callback() {\n            targetElement[_strScrollTop](constScroll)[_strScrollLeft](_isRTL ? _rtlScrollBehavior.n ? -constScroll : _rtlScrollBehavior.i ? 0 : constScroll : constScroll);\n\n            onElementResizedCallback();\n          }; //add resize observer:\n\n\n          if (onElementResizedCallback) {\n            if (_supportResizeObserver) {\n              var element = targetElement.addClass('observed').append(generateDiv(_classNameResizeObserverElement)).contents()[0];\n              var observer = element[_strResizeObserverProperty] = new resizeObserver(callback);\n              observer.observe(element);\n            } else {\n              if (_msieVersion > 9 || !_autoUpdateRecommended) {\n                targetElement.prepend(generateDiv(_classNameResizeObserverElement, generateDiv({\n                  c: _classNameResizeObserverItemElement,\n                  dir: 'ltr'\n                }, generateDiv(_classNameResizeObserverItemElement, generateDiv(_classNameResizeObserverItemFinalElement)) + generateDiv(_classNameResizeObserverItemElement, generateDiv({\n                  c: _classNameResizeObserverItemFinalElement,\n                  style: 'width: 200%; height: 200%'\n                })))));\n                var observerElement = targetElement[0][strChildNodes][0][strChildNodes][0];\n                var shrinkElement = FRAMEWORK(observerElement[strChildNodes][1]);\n                var expandElement = FRAMEWORK(observerElement[strChildNodes][0]);\n                var expandElementChild = FRAMEWORK(expandElement[0][strChildNodes][0]);\n                var widthCache = observerElement[LEXICON.oW];\n                var heightCache = observerElement[LEXICON.oH];\n                var isDirty;\n                var rAFId;\n                var currWidth;\n                var currHeight;\n                var factor = 2;\n                var nativeScrollbarSize = globals.nativeScrollbarSize; //care don't make changes to this object!!!\n\n                var reset = function reset() {\n                  /*\r\n                   var sizeResetWidth = observerElement[LEXICON.oW] + nativeScrollbarSize.x * factor + nativeScrollbarSize.y * factor + _overlayScrollbarDummySize.x + _overlayScrollbarDummySize.y;\r\n                   var sizeResetHeight = observerElement[LEXICON.oH] + nativeScrollbarSize.x * factor + nativeScrollbarSize.y * factor + _overlayScrollbarDummySize.x + _overlayScrollbarDummySize.y;\r\n                   var expandChildCSS = {};\r\n                   expandChildCSS[_strWidth] = sizeResetWidth;\r\n                   expandChildCSS[_strHeight] = sizeResetHeight;\r\n                   expandElementChild.css(expandChildCSS);\r\n                       expandElement[_strScrollLeft](sizeResetWidth)[_strScrollTop](sizeResetHeight);\r\n                   shrinkElement[_strScrollLeft](sizeResetWidth)[_strScrollTop](sizeResetHeight);\r\n                   */\n                  expandElement[_strScrollLeft](constScroll)[_strScrollTop](constScroll);\n\n                  shrinkElement[_strScrollLeft](constScroll)[_strScrollTop](constScroll);\n                };\n\n                var onResized = function onResized() {\n                  rAFId = 0;\n                  if (!isDirty) return;\n                  widthCache = currWidth;\n                  heightCache = currHeight;\n                  callback();\n                };\n\n                var onScroll = function onScroll(event) {\n                  currWidth = observerElement[LEXICON.oW];\n                  currHeight = observerElement[LEXICON.oH];\n                  isDirty = currWidth != widthCache || currHeight != heightCache;\n\n                  if (event && isDirty && !rAFId) {\n                    COMPATIBILITY.cAF()(rAFId);\n                    rAFId = COMPATIBILITY.rAF()(onResized);\n                  } else if (!event) onResized();\n\n                  reset();\n\n                  if (event) {\n                    COMPATIBILITY.prvD(event);\n                    COMPATIBILITY.stpP(event);\n                  }\n\n                  return false;\n                };\n\n                var expandChildCSS = {};\n                var observerElementCSS = {};\n                setTopRightBottomLeft(observerElementCSS, _strEmpty, [-((nativeScrollbarSize.y + 1) * factor), nativeScrollbarSize.x * -factor, nativeScrollbarSize.y * -factor, -((nativeScrollbarSize.x + 1) * factor)]);\n                FRAMEWORK(observerElement).css(observerElementCSS);\n                expandElement.on(_strScroll, onScroll);\n                shrinkElement.on(_strScroll, onScroll);\n                targetElement.on(strAnimationStartEvent, function () {\n                  onScroll(false);\n                }); //lets assume that the divs will never be that large and a constant value is enough\n\n                expandChildCSS[_strWidth] = constScroll;\n                expandChildCSS[_strHeight] = constScroll;\n                expandElementChild.css(expandChildCSS);\n                reset();\n              } else {\n                var attachEvent = _documentElementNative.attachEvent;\n                var isIE = _msieVersion !== undefined;\n\n                if (attachEvent) {\n                  targetElement.prepend(generateDiv(_classNameResizeObserverElement));\n                  findFirst(targetElement, _strDot + _classNameResizeObserverElement)[0].attachEvent('onresize', callback);\n                } else {\n                  var obj = _documentElementNative.createElement(TYPES.o);\n\n                  obj.setAttribute(LEXICON.ti, '-1');\n                  obj.setAttribute(LEXICON.c, _classNameResizeObserverElement);\n\n                  obj.onload = function () {\n                    var wnd = this.contentDocument.defaultView;\n                    wnd.addEventListener('resize', callback);\n                    wnd.document.documentElement.style.display = 'none';\n                  };\n\n                  obj.type = 'text/html';\n                  if (isIE) targetElement.prepend(obj);\n                  obj.data = 'about:blank';\n                  if (!isIE) targetElement.prepend(obj);\n                  targetElement.on(strAnimationStartEvent, callback);\n                }\n              }\n            }\n\n            if (targetElement[0] === _sizeObserverElementNative) {\n              var directionChanged = function directionChanged() {\n                var dir = _hostElement.css('direction');\n\n                var css = {};\n                var scrollLeftValue = 0;\n                var result = false;\n\n                if (dir !== _cssDirectionDetectedCache) {\n                  if (dir === 'ltr') {\n                    css[_strLeft] = 0;\n                    css[_strRight] = _strAuto;\n                    scrollLeftValue = constScroll;\n                  } else {\n                    css[_strLeft] = _strAuto;\n                    css[_strRight] = 0;\n                    scrollLeftValue = _rtlScrollBehavior.n ? -constScroll : _rtlScrollBehavior.i ? 0 : constScroll;\n                  } //execution order is important for IE!!!\n\n\n                  _sizeObserverElement.children().eq(0).css(css);\n\n                  _sizeObserverElement[_strScrollLeft](scrollLeftValue)[_strScrollTop](constScroll);\n\n                  _cssDirectionDetectedCache = dir;\n                  result = true;\n                }\n\n                return result;\n              };\n\n              directionChanged();\n              addDestroyEventListener(targetElement, _strScroll, function (event) {\n                if (directionChanged()) update();\n                COMPATIBILITY.prvD(event);\n                COMPATIBILITY.stpP(event);\n                return false;\n              });\n            }\n          } //remove resize observer:\n          else {\n              if (_supportResizeObserver) {\n                var element = targetElement.contents()[0];\n                var resizeObserverObj = element[_strResizeObserverProperty];\n\n                if (resizeObserverObj) {\n                  resizeObserverObj.disconnect();\n                  delete element[_strResizeObserverProperty];\n                }\n              } else {\n                remove(targetElement.children(_strDot + _classNameResizeObserverElement).eq(0));\n              }\n            }\n        }\n      }\n      /**\r\n       * Freezes or unfreezes the given resize observer.\r\n       * @param targetElement The element to which the target resize observer is applied.\r\n       * @param freeze True if the resize observer shall be frozen, false otherwise.\r\n       \r\n      function freezeResizeObserver(targetElement, freeze) {\r\n          if (targetElement !== undefined) {\r\n              if(freeze) {\r\n                  if (_supportResizeObserver) {\r\n                      var element = targetElement.contents()[0];\r\n                      element[_strResizeObserverProperty].unobserve(element);\r\n                  }\r\n                  else {\r\n                      targetElement = targetElement.children(_strDot + _classNameResizeObserverElement).eq(0);\r\n                      var w = targetElement.css(_strWidth);\r\n                      var h = targetElement.css(_strHeight);\r\n                      var css = {};\r\n                      css[_strWidth] = w;\r\n                      css[_strHeight] = h;\r\n                      targetElement.css(css);\r\n                  }\r\n              }\r\n              else {\r\n                  if (_supportResizeObserver) {\r\n                      var element = targetElement.contents()[0];\r\n                      element[_strResizeObserverProperty].observe(element);\r\n                  }\r\n                  else {\r\n                      var css = { };\r\n                      css[_strHeight] = _strEmpty;\r\n                      css[_strWidth] = _strEmpty;\r\n                      targetElement.children(_strDot + _classNameResizeObserverElement).eq(0).css(css);\r\n                  }\r\n              }\r\n          }\r\n      }\r\n      */\n      //==== Mutation Observers ====//\n\n      /**\r\n       * Creates MutationObservers for the host and content Element if they are supported.\r\n       */\n\n\n      function createMutationObservers() {\n        if (_supportMutationObserver) {\n          var mutationObserverContentLag = 11;\n          var mutationObserver = COMPATIBILITY.mO();\n          var contentLastUpdate = COMPATIBILITY.now();\n          var mutationTarget;\n          var mutationAttrName;\n          var mutationIsClass;\n          var oldMutationVal;\n          var newClassVal;\n          var hostClassNameRegex;\n          var contentTimeout;\n          var now;\n          var sizeAuto;\n          var action;\n\n          _mutationObserverHostCallback = function _mutationObserverHostCallback(mutations) {\n            var doUpdate = false;\n            var doUpdateForce = false;\n            var mutation;\n            var mutatedAttrs = [];\n\n            if (_initialized && !_sleeping) {\n              each(mutations, function () {\n                mutation = this;\n                mutationTarget = mutation.target;\n                mutationAttrName = mutation.attributeName;\n                mutationIsClass = mutationAttrName === LEXICON.c;\n                oldMutationVal = mutation.oldValue;\n                newClassVal = mutationTarget.className;\n\n                if (_domExists && mutationIsClass && !doUpdateForce) {\n                  // if old class value contains _classNameHostElementForeign and new class value doesn't\n                  if (oldMutationVal.indexOf(_classNameHostElementForeign) > -1 && newClassVal.indexOf(_classNameHostElementForeign) < 0) {\n                    hostClassNameRegex = createHostClassNameRegExp(true);\n                    _hostElementNative.className = newClassVal.split(_strSpace).concat(oldMutationVal.split(_strSpace).filter(function (name) {\n                      return name.match(hostClassNameRegex);\n                    })).join(_strSpace);\n                    doUpdate = doUpdateForce = true;\n                  }\n                }\n\n                if (!doUpdate) {\n                  doUpdate = mutationIsClass ? hostClassNamesChanged(oldMutationVal, newClassVal) : mutationAttrName === LEXICON.s ? oldMutationVal !== mutationTarget[LEXICON.s].cssText : true;\n                }\n\n                mutatedAttrs.push(mutationAttrName);\n              });\n              updateViewportAttrsFromTarget(mutatedAttrs);\n              if (doUpdate) _base.update(doUpdateForce || _strAuto);\n            }\n\n            return doUpdate;\n          };\n\n          _mutationObserverContentCallback = function _mutationObserverContentCallback(mutations) {\n            var doUpdate = false;\n            var mutation;\n\n            if (_initialized && !_sleeping) {\n              each(mutations, function () {\n                mutation = this;\n                doUpdate = isUnknownMutation(mutation);\n                return !doUpdate;\n              });\n\n              if (doUpdate) {\n                now = COMPATIBILITY.now();\n                sizeAuto = _heightAutoCache || _widthAutoCache;\n\n                action = function action() {\n                  if (!_destroyed) {\n                    contentLastUpdate = now; //if cols, rows or wrap attr was changed\n\n                    if (_isTextarea) textareaUpdate();\n                    if (sizeAuto) update();else _base.update(_strAuto);\n                  }\n                };\n\n                clearTimeout(contentTimeout);\n                if (mutationObserverContentLag <= 0 || now - contentLastUpdate > mutationObserverContentLag || !sizeAuto) action();else contentTimeout = setTimeout(action, mutationObserverContentLag);\n              }\n            }\n\n            return doUpdate;\n          };\n\n          _mutationObserverHost = new mutationObserver(_mutationObserverHostCallback);\n          _mutationObserverContent = new mutationObserver(_mutationObserverContentCallback);\n        }\n      }\n      /**\r\n       * Connects the MutationObservers if they are supported.\r\n       */\n\n\n      function connectMutationObservers() {\n        if (_supportMutationObserver && !_mutationObserversConnected) {\n          _mutationObserverHost.observe(_hostElementNative, {\n            attributes: true,\n            attributeOldValue: true,\n            attributeFilter: _mutationObserverAttrsHost\n          });\n\n          _mutationObserverContent.observe(_isTextarea ? _targetElementNative : _contentElementNative, {\n            attributes: true,\n            attributeOldValue: true,\n            subtree: !_isTextarea,\n            childList: !_isTextarea,\n            characterData: !_isTextarea,\n            attributeFilter: _isTextarea ? _mutationObserverAttrsTextarea : _mutationObserverAttrsHost\n          });\n\n          _mutationObserversConnected = true;\n        }\n      }\n      /**\r\n       * Disconnects the MutationObservers if they are supported.\r\n       */\n\n\n      function disconnectMutationObservers() {\n        if (_supportMutationObserver && _mutationObserversConnected) {\n          _mutationObserverHost.disconnect();\n\n          _mutationObserverContent.disconnect();\n\n          _mutationObserversConnected = false;\n        }\n      } //==== Events of elements ====//\n\n      /**\r\n       * This method gets called every time the host element gets resized. IMPORTANT: Padding changes are detected too!!\r\n       * It refreshes the hostResizedEventArgs and the hostSizeResizeCache.\r\n       * If there are any size changes, the update method gets called.\r\n       */\n\n\n      function hostOnResized() {\n        if (!_sleeping) {\n          var changed;\n          var hostSize = {\n            w: _sizeObserverElementNative[LEXICON.sW],\n            h: _sizeObserverElementNative[LEXICON.sH]\n          };\n          changed = checkCache(hostSize, _hostElementSizeChangeDetectedCache);\n          _hostElementSizeChangeDetectedCache = hostSize;\n          if (changed) update({\n            _hostSizeChanged: true\n          });\n        }\n      }\n      /**\r\n       * The mouse enter event of the host element. This event is only needed for the autoHide feature.\r\n       */\n\n\n      function hostOnMouseEnter() {\n        if (_scrollbarsAutoHideLeave) refreshScrollbarsAutoHide(true);\n      }\n      /**\r\n       * The mouse leave event of the host element. This event is only needed for the autoHide feature.\r\n       */\n\n\n      function hostOnMouseLeave() {\n        if (_scrollbarsAutoHideLeave && !_bodyElement.hasClass(_classNameDragging)) refreshScrollbarsAutoHide(false);\n      }\n      /**\r\n       * The mouse move event of the host element. This event is only needed for the autoHide \"move\" feature.\r\n       */\n\n\n      function hostOnMouseMove() {\n        if (_scrollbarsAutoHideMove) {\n          refreshScrollbarsAutoHide(true);\n          clearTimeout(_scrollbarsAutoHideMoveTimeoutId);\n          _scrollbarsAutoHideMoveTimeoutId = setTimeout(function () {\n            if (_scrollbarsAutoHideMove && !_destroyed) refreshScrollbarsAutoHide(false);\n          }, 100);\n        }\n      }\n      /**\r\n       * Prevents text from deselection if attached to the document element on the mousedown event of a DOM element.\r\n       * @param event The select start event.\r\n       */\n\n\n      function documentOnSelectStart(event) {\n        COMPATIBILITY.prvD(event);\n        return false;\n      }\n      /**\t\r\n       * A callback which will be called after a element has loaded.\t\r\n       */\n\n\n      function updateOnLoadCallback(event) {\n        var elm = FRAMEWORK(event.target);\n        eachUpdateOnLoad(function (i, updateOnLoadSelector) {\n          if (elm.is(updateOnLoadSelector)) {\n            update({\n              _contentSizeChanged: true\n            });\n          }\n        });\n      }\n      /**\r\n      * Adds or removes mouse & touch events of the host element. (for handling auto-hiding of the scrollbars)\r\n      * @param destroy Indicates whether the events shall be added or removed.\r\n      */\n\n\n      function setupHostMouseTouchEvents(destroy) {\n        if (!destroy) setupHostMouseTouchEvents(true);\n        setupResponsiveEventListener(_hostElement, _strMouseTouchMoveEvent.split(_strSpace)[0], hostOnMouseMove, !_scrollbarsAutoHideMove || destroy, true);\n        setupResponsiveEventListener(_hostElement, [_strMouseEnter, _strMouseLeave], [hostOnMouseEnter, hostOnMouseLeave], !_scrollbarsAutoHideLeave || destroy, true); //if the plugin is initialized and the mouse is over the host element, make the scrollbars visible\n\n        if (!_initialized && !destroy) _hostElement.one('mouseover', hostOnMouseEnter);\n      } //==== Update Detection ====//\n\n      /**\r\n       * Measures the min width and min height of the body element and refreshes the related cache.\r\n       * @returns {boolean} True if the min width or min height has changed, false otherwise.\r\n       */\n\n\n      function bodyMinSizeChanged() {\n        var bodyMinSize = {};\n\n        if (_isBody && _contentArrangeElement) {\n          bodyMinSize.w = parseToZeroOrNumber(_contentArrangeElement.css(_strMinMinus + _strWidth));\n          bodyMinSize.h = parseToZeroOrNumber(_contentArrangeElement.css(_strMinMinus + _strHeight));\n          bodyMinSize.c = checkCache(bodyMinSize, _bodyMinSizeCache);\n          bodyMinSize.f = true; //flag for \"measured at least once\"\n        }\n\n        _bodyMinSizeCache = bodyMinSize;\n        return !!bodyMinSize.c;\n      }\n      /**\r\n       * Returns true if the class names really changed (new class without plugin host prefix)\r\n       * @param oldClassNames The old ClassName string or array.\r\n       * @param newClassNames The new ClassName string or array.\r\n       * @returns {boolean} True if the class names has really changed, false otherwise.\r\n       */\n\n\n      function hostClassNamesChanged(oldClassNames, newClassNames) {\n        var currClasses = typeof newClassNames == TYPES.s ? newClassNames.split(_strSpace) : [];\n        var oldClasses = typeof oldClassNames == TYPES.s ? oldClassNames.split(_strSpace) : [];\n        var diff = getArrayDifferences(oldClasses, currClasses); // remove none theme from diff list to prevent update\n\n        var idx = inArray(_classNameThemeNone, diff);\n        var i;\n        var regex;\n        if (idx > -1) diff.splice(idx, 1);\n\n        if (diff[LEXICON.l] > 0) {\n          regex = createHostClassNameRegExp(true, true);\n\n          for (i = 0; i < diff.length; i++) {\n            if (!diff[i].match(regex)) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n      }\n      /**\r\n       * Returns true if the given mutation is not from a from the plugin generated element. If the target element is a textarea the mutation is always unknown.\r\n       * @param mutation The mutation which shall be checked.\r\n       * @returns {boolean} True if the mutation is from a unknown element, false otherwise.\r\n       */\n\n\n      function isUnknownMutation(mutation) {\n        var attributeName = mutation.attributeName;\n        var mutationTarget = mutation.target;\n        var mutationType = mutation.type;\n        var strClosest = 'closest';\n        if (mutationTarget === _contentElementNative) return attributeName === null;\n\n        if (mutationType === 'attributes' && (attributeName === LEXICON.c || attributeName === LEXICON.s) && !_isTextarea) {\n          //ignore className changes by the plugin\t\n          if (attributeName === LEXICON.c && FRAMEWORK(mutationTarget).hasClass(_classNameHostElement)) return hostClassNamesChanged(mutation.oldValue, mutationTarget.className); //only do it of browser support it natively\t\n\n          if (typeof mutationTarget[strClosest] != TYPES.f) return true;\n          if (mutationTarget[strClosest](_strDot + _classNameResizeObserverElement) !== null || mutationTarget[strClosest](_strDot + _classNameScrollbar) !== null || mutationTarget[strClosest](_strDot + _classNameScrollbarCorner) !== null) return false;\n        }\n\n        return true;\n      }\n      /**\r\n       * Returns true if the content size was changed since the last time this method was called.\r\n       * @returns {boolean} True if the content size was changed, false otherwise.\r\n       */\n\n\n      function updateAutoContentSizeChanged() {\n        if (_sleeping) return false;\n        var contentMeasureElement = getContentMeasureElement();\n        var textareaValueLength = _isTextarea && _widthAutoCache && !_textareaAutoWrappingCache ? _targetElement.val().length : 0;\n        var setCSS = !_mutationObserversConnected && _widthAutoCache && !_isTextarea;\n        var css = {};\n        var float;\n        var bodyMinSizeC;\n        var changed;\n        var contentElementScrollSize;\n\n        if (setCSS) {\n          float = _contentElement.css(_strFloat);\n          css[_strFloat] = _isRTL ? _strRight : _strLeft;\n          css[_strWidth] = _strAuto;\n\n          _contentElement.css(css);\n        }\n\n        contentElementScrollSize = {\n          w: contentMeasureElement[LEXICON.sW] + textareaValueLength,\n          h: contentMeasureElement[LEXICON.sH] + textareaValueLength\n        };\n\n        if (setCSS) {\n          css[_strFloat] = float;\n          css[_strWidth] = _strHundredPercent;\n\n          _contentElement.css(css);\n        }\n\n        bodyMinSizeC = bodyMinSizeChanged();\n        changed = checkCache(contentElementScrollSize, _contentElementScrollSizeChangeDetectedCache);\n        _contentElementScrollSizeChangeDetectedCache = contentElementScrollSize;\n        return changed || bodyMinSizeC;\n      }\n      /**\r\n       * Returns true when a attribute which the MutationObserver would observe has changed.  \r\n       * @returns {boolean} True if one of the attributes which a MutationObserver would observe has changed, false or undefined otherwise.\r\n       */\n\n\n      function meaningfulAttrsChanged() {\n        if (_sleeping || _mutationObserversConnected) return;\n        var elem;\n        var curr;\n        var cache;\n        var changedAttrs = [];\n        var checks = [{\n          _elem: _hostElement,\n          _attrs: _mutationObserverAttrsHost.concat(':visible')\n        }, {\n          _elem: _isTextarea ? _targetElement : undefined,\n          _attrs: _mutationObserverAttrsTextarea\n        }];\n        each(checks, function (index, check) {\n          elem = check._elem;\n\n          if (elem) {\n            each(check._attrs, function (index, attr) {\n              curr = attr.charAt(0) === ':' ? elem.is(attr) : elem.attr(attr);\n              cache = _updateAutoCache[attr];\n\n              if (checkCache(curr, cache)) {\n                changedAttrs.push(attr);\n              }\n\n              _updateAutoCache[attr] = curr;\n            });\n          }\n        });\n        updateViewportAttrsFromTarget(changedAttrs);\n        return changedAttrs[LEXICON.l] > 0;\n      }\n      /**\r\n       * Checks is a CSS Property of a child element is affecting the scroll size of the content.\r\n       * @param propertyName The CSS property name.\r\n       * @returns {boolean} True if the property is affecting the content scroll size, false otherwise.\r\n       */\n\n\n      function isSizeAffectingCSSProperty(propertyName) {\n        if (!_initialized) return true;\n        var flexGrow = 'flex-grow';\n        var flexShrink = 'flex-shrink';\n        var flexBasis = 'flex-basis';\n        var affectingPropsX = [_strWidth, _strMinMinus + _strWidth, _strMaxMinus + _strWidth, _strMarginMinus + _strLeft, _strMarginMinus + _strRight, _strLeft, _strRight, 'font-weight', 'word-spacing', flexGrow, flexShrink, flexBasis];\n        var affectingPropsXContentBox = [_strPaddingMinus + _strLeft, _strPaddingMinus + _strRight, _strBorderMinus + _strLeft + _strWidth, _strBorderMinus + _strRight + _strWidth];\n        var affectingPropsY = [_strHeight, _strMinMinus + _strHeight, _strMaxMinus + _strHeight, _strMarginMinus + _strTop, _strMarginMinus + _strBottom, _strTop, _strBottom, 'line-height', flexGrow, flexShrink, flexBasis];\n        var affectingPropsYContentBox = [_strPaddingMinus + _strTop, _strPaddingMinus + _strBottom, _strBorderMinus + _strTop + _strWidth, _strBorderMinus + _strBottom + _strWidth];\n        var _strS = 's';\n        var _strVS = 'v-s';\n        var checkX = _overflowBehaviorCache.x === _strS || _overflowBehaviorCache.x === _strVS;\n        var checkY = _overflowBehaviorCache.y === _strS || _overflowBehaviorCache.y === _strVS;\n        var sizeIsAffected = false;\n\n        var checkPropertyName = function checkPropertyName(arr, name) {\n          for (var i = 0; i < arr[LEXICON.l]; i++) {\n            if (arr[i] === name) return true;\n          }\n\n          return false;\n        };\n\n        if (checkY) {\n          sizeIsAffected = checkPropertyName(affectingPropsY, propertyName);\n          if (!sizeIsAffected && !_isBorderBox) sizeIsAffected = checkPropertyName(affectingPropsYContentBox, propertyName);\n        }\n\n        if (checkX && !sizeIsAffected) {\n          sizeIsAffected = checkPropertyName(affectingPropsX, propertyName);\n          if (!sizeIsAffected && !_isBorderBox) sizeIsAffected = checkPropertyName(affectingPropsXContentBox, propertyName);\n        }\n\n        return sizeIsAffected;\n      } //==== Update ====//\n\n      /**\r\n       * Sets the attribute values of the viewport element to the values from the target element.\r\n       * The value of a attribute is only set if the attribute is whitelisted.\r\n       * @attrs attrs The array of attributes which shall be set or undefined if all whitelisted shall be set.\r\n       */\n\n\n      function updateViewportAttrsFromTarget(attrs) {\n        attrs = attrs || _viewportAttrsFromTarget;\n        each(attrs, function (index, attr) {\n          if (COMPATIBILITY.inA(attr, _viewportAttrsFromTarget) > -1) {\n            var targetAttr = _targetElement.attr(attr);\n\n            if (type(targetAttr) == TYPES.s) {\n              _viewportElement.attr(attr, targetAttr);\n            } else {\n              _viewportElement.removeAttr(attr);\n            }\n          }\n        });\n      }\n      /**\r\n       * Updates the variables and size of the textarea element, and manages the scroll on new line or new character.\r\n       */\n\n\n      function textareaUpdate() {\n        if (!_sleeping) {\n          var wrapAttrOff = !_textareaAutoWrappingCache;\n          var minWidth = _viewportSize.w;\n          var minHeight = _viewportSize.h;\n          var css = {};\n          var doMeasure = _widthAutoCache || wrapAttrOff;\n          var origWidth;\n          var width;\n          var origHeight;\n          var height; //reset min size\n\n          css[_strMinMinus + _strWidth] = _strEmpty;\n          css[_strMinMinus + _strHeight] = _strEmpty; //set width auto\n\n          css[_strWidth] = _strAuto;\n\n          _targetElement.css(css); //measure width\n\n\n          origWidth = _targetElementNative[LEXICON.oW];\n          width = doMeasure ? MATH.max(origWidth, _targetElementNative[LEXICON.sW] - 1) : 1;\n          /*width += (_widthAutoCache ? _marginX + (!_isBorderBox ? wrapAttrOff ? 0 : _paddingX + _borderX : 0) : 0);*/\n          //set measured width\n\n          css[_strWidth] = _widthAutoCache ? _strAuto\n          /*width*/\n          : _strHundredPercent;\n          css[_strMinMinus + _strWidth] = _strHundredPercent; //set height auto\n\n          css[_strHeight] = _strAuto;\n\n          _targetElement.css(css); //measure height\n\n\n          origHeight = _targetElementNative[LEXICON.oH];\n          height = MATH.max(origHeight, _targetElementNative[LEXICON.sH] - 1); //append correct size values\n\n          css[_strWidth] = width;\n          css[_strHeight] = height;\n\n          _textareaCoverElement.css(css); //apply min width / min height to prevent textarea collapsing\n\n\n          css[_strMinMinus + _strWidth] = minWidth\n          /*+ (!_isBorderBox && _widthAutoCache ? _paddingX + _borderX : 0)*/\n          ;\n          css[_strMinMinus + _strHeight] = minHeight\n          /*+ (!_isBorderBox && _heightAutoCache ? _paddingY + _borderY : 0)*/\n          ;\n\n          _targetElement.css(css);\n\n          return {\n            _originalWidth: origWidth,\n            _originalHeight: origHeight,\n            _dynamicWidth: width,\n            _dynamicHeight: height\n          };\n        }\n      }\n      /**\r\n       * Updates the plugin and DOM to the current options.\r\n       * This method should only be called if a update is 100% required.\r\n       * @param updateHints A objects which contains hints for this update:\r\n       * {\r\n       *   _hostSizeChanged : boolean,\r\n       *   _contentSizeChanged : boolean,\r\n       *   _force : boolean,                             == preventSwallowing\r\n       *   _changedOptions : { },                        == preventSwallowing && preventSleep\r\n      *  }\r\n       */\n\n\n      function update(updateHints) {\n        clearTimeout(_swallowedUpdateTimeout);\n        updateHints = updateHints || {};\n        _swallowedUpdateHints._hostSizeChanged |= updateHints._hostSizeChanged;\n        _swallowedUpdateHints._contentSizeChanged |= updateHints._contentSizeChanged;\n        _swallowedUpdateHints._force |= updateHints._force;\n        var now = COMPATIBILITY.now();\n        var hostSizeChanged = !!_swallowedUpdateHints._hostSizeChanged;\n        var contentSizeChanged = !!_swallowedUpdateHints._contentSizeChanged;\n        var force = !!_swallowedUpdateHints._force;\n        var changedOptions = updateHints._changedOptions;\n        var swallow = _swallowUpdateLag > 0 && _initialized && !_destroyed && !force && !changedOptions && now - _lastUpdateTime < _swallowUpdateLag && !_heightAutoCache && !_widthAutoCache;\n        var displayIsHidden;\n        if (swallow) _swallowedUpdateTimeout = setTimeout(update, _swallowUpdateLag); //abort update due to:\n        //destroyed\n        //swallowing\n        //sleeping\n        //host is hidden or has false display\n\n        if (_destroyed || swallow || _sleeping && !changedOptions || _initialized && !force && (displayIsHidden = _hostElement.is(':hidden')) || _hostElement.css('display') === 'inline') return;\n        _lastUpdateTime = now;\n        _swallowedUpdateHints = {}; //if scrollbar styling is possible and native scrollbars aren't overlaid the scrollbar styling will be applied which hides the native scrollbars completely.\n\n        if (_nativeScrollbarStyling && !(_nativeScrollbarIsOverlaid.x && _nativeScrollbarIsOverlaid.y)) {\n          //native scrollbars are hidden, so change the values to zero\n          _nativeScrollbarSize.x = 0;\n          _nativeScrollbarSize.y = 0;\n        } else {\n          //refresh native scrollbar size (in case of zoom)\n          _nativeScrollbarSize = extendDeep({}, globals.nativeScrollbarSize);\n        } // Scrollbar padding is needed for firefox, because firefox hides scrollbar automatically if the size of the div is too small.\n        // The calculation: [scrollbar size +3 *3]\n        // (+3 because of possible decoration e.g. borders, margins etc., but only if native scrollbar is NOT a overlaid scrollbar)\n        // (*3 because (1)increase / (2)decrease -button and (3)resize handle)\n\n\n        _nativeScrollbarMinSize = {\n          x: (_nativeScrollbarSize.x + (_nativeScrollbarIsOverlaid.x ? 0 : 3)) * 3,\n          y: (_nativeScrollbarSize.y + (_nativeScrollbarIsOverlaid.y ? 0 : 3)) * 3\n        };\n        changedOptions = changedOptions || {}; //freezeResizeObserver(_sizeObserverElement, true);\n        //freezeResizeObserver(_sizeAutoObserverElement, true);\n\n        var checkCacheAutoForce = function checkCacheAutoForce() {\n          return checkCache.apply(this, [].slice.call(arguments).concat([force]));\n        }; //save current scroll offset\n\n\n        var currScroll = {\n          x: _viewportElement[_strScrollLeft](),\n          y: _viewportElement[_strScrollTop]()\n        };\n        var currentPreparedOptionsScrollbars = _currentPreparedOptions.scrollbars;\n        var currentPreparedOptionsTextarea = _currentPreparedOptions.textarea; //scrollbars visibility:\n\n        var scrollbarsVisibility = currentPreparedOptionsScrollbars.visibility;\n        var scrollbarsVisibilityChanged = checkCacheAutoForce(scrollbarsVisibility, _scrollbarsVisibilityCache); //scrollbars autoHide:\n\n        var scrollbarsAutoHide = currentPreparedOptionsScrollbars.autoHide;\n        var scrollbarsAutoHideChanged = checkCacheAutoForce(scrollbarsAutoHide, _scrollbarsAutoHideCache); //scrollbars click scrolling\n\n        var scrollbarsClickScrolling = currentPreparedOptionsScrollbars.clickScrolling;\n        var scrollbarsClickScrollingChanged = checkCacheAutoForce(scrollbarsClickScrolling, _scrollbarsClickScrollingCache); //scrollbars drag scrolling\n\n        var scrollbarsDragScrolling = currentPreparedOptionsScrollbars.dragScrolling;\n        var scrollbarsDragScrollingChanged = checkCacheAutoForce(scrollbarsDragScrolling, _scrollbarsDragScrollingCache); //className\n\n        var className = _currentPreparedOptions.className;\n        var classNameChanged = checkCacheAutoForce(className, _classNameCache); //resize\n\n        var resize = _currentPreparedOptions.resize;\n        var resizeChanged = checkCacheAutoForce(resize, _resizeCache) && !_isBody; //body can't be resized since the window itself acts as resize possibility.\n        //paddingAbsolute\n\n        var paddingAbsolute = _currentPreparedOptions.paddingAbsolute;\n        var paddingAbsoluteChanged = checkCacheAutoForce(paddingAbsolute, _paddingAbsoluteCache); //clipAlways\n\n        var clipAlways = _currentPreparedOptions.clipAlways;\n        var clipAlwaysChanged = checkCacheAutoForce(clipAlways, _clipAlwaysCache); //sizeAutoCapable\n\n        var sizeAutoCapable = _currentPreparedOptions.sizeAutoCapable && !_isBody; //body can never be size auto, because it shall be always as big as the viewport.\n\n        var sizeAutoCapableChanged = checkCacheAutoForce(sizeAutoCapable, _sizeAutoCapableCache); //showNativeScrollbars\n\n        var ignoreOverlayScrollbarHiding = _currentPreparedOptions.nativeScrollbarsOverlaid.showNativeScrollbars;\n        var ignoreOverlayScrollbarHidingChanged = checkCacheAutoForce(ignoreOverlayScrollbarHiding, _ignoreOverlayScrollbarHidingCache); //autoUpdate\n\n        var autoUpdate = _currentPreparedOptions.autoUpdate;\n        var autoUpdateChanged = checkCacheAutoForce(autoUpdate, _autoUpdateCache); //overflowBehavior\n\n        var overflowBehavior = _currentPreparedOptions.overflowBehavior;\n        var overflowBehaviorChanged = checkCacheAutoForce(overflowBehavior, _overflowBehaviorCache, force); //dynWidth:\n\n        var textareaDynWidth = currentPreparedOptionsTextarea.dynWidth;\n        var textareaDynWidthChanged = checkCacheAutoForce(_textareaDynWidthCache, textareaDynWidth); //dynHeight:\n\n        var textareaDynHeight = currentPreparedOptionsTextarea.dynHeight;\n        var textareaDynHeightChanged = checkCacheAutoForce(_textareaDynHeightCache, textareaDynHeight); //scrollbars visibility\n\n        _scrollbarsAutoHideNever = scrollbarsAutoHide === 'n';\n        _scrollbarsAutoHideScroll = scrollbarsAutoHide === 's';\n        _scrollbarsAutoHideMove = scrollbarsAutoHide === 'm';\n        _scrollbarsAutoHideLeave = scrollbarsAutoHide === 'l'; //scrollbars autoHideDelay\n\n        _scrollbarsAutoHideDelay = currentPreparedOptionsScrollbars.autoHideDelay; //old className\n\n        _oldClassName = _classNameCache; //resize\n\n        _resizeNone = resize === 'n';\n        _resizeBoth = resize === 'b';\n        _resizeHorizontal = resize === 'h';\n        _resizeVertical = resize === 'v'; //normalizeRTL\n\n        _normalizeRTLCache = _currentPreparedOptions.normalizeRTL; //ignore overlay scrollbar hiding\n\n        ignoreOverlayScrollbarHiding = ignoreOverlayScrollbarHiding && _nativeScrollbarIsOverlaid.x && _nativeScrollbarIsOverlaid.y; //refresh options cache\n\n        _scrollbarsVisibilityCache = scrollbarsVisibility;\n        _scrollbarsAutoHideCache = scrollbarsAutoHide;\n        _scrollbarsClickScrollingCache = scrollbarsClickScrolling;\n        _scrollbarsDragScrollingCache = scrollbarsDragScrolling;\n        _classNameCache = className;\n        _resizeCache = resize;\n        _paddingAbsoluteCache = paddingAbsolute;\n        _clipAlwaysCache = clipAlways;\n        _sizeAutoCapableCache = sizeAutoCapable;\n        _ignoreOverlayScrollbarHidingCache = ignoreOverlayScrollbarHiding;\n        _autoUpdateCache = autoUpdate;\n        _overflowBehaviorCache = extendDeep({}, overflowBehavior);\n        _textareaDynWidthCache = textareaDynWidth;\n        _textareaDynHeightCache = textareaDynHeight;\n        _hasOverflowCache = _hasOverflowCache || {\n          x: false,\n          y: false\n        }; //set correct class name to the host element\n\n        if (classNameChanged) {\n          removeClass(_hostElement, _oldClassName + _strSpace + _classNameThemeNone);\n          addClass(_hostElement, className !== undefined && className !== null && className.length > 0 ? className : _classNameThemeNone);\n        } //set correct auto Update\n\n\n        if (autoUpdateChanged) {\n          if (autoUpdate === true || autoUpdate === null && _autoUpdateRecommended) {\n            disconnectMutationObservers();\n            autoUpdateLoop.add(_base);\n          } else {\n            autoUpdateLoop.remove(_base);\n            connectMutationObservers();\n          }\n        } //activate or deactivate size auto capability\n\n\n        if (sizeAutoCapableChanged) {\n          if (sizeAutoCapable) {\n            if (_contentGlueElement) {\n              _contentGlueElement.show();\n            } else {\n              _contentGlueElement = FRAMEWORK(generateDiv(_classNameContentGlueElement));\n\n              _paddingElement.before(_contentGlueElement);\n            }\n\n            if (_sizeAutoObserverAdded) {\n              _sizeAutoObserverElement.show();\n            } else {\n              _sizeAutoObserverElement = FRAMEWORK(generateDiv(_classNameSizeAutoObserverElement));\n              _sizeAutoObserverElementNative = _sizeAutoObserverElement[0];\n\n              _contentGlueElement.before(_sizeAutoObserverElement);\n\n              var oldSize = {\n                w: -1,\n                h: -1\n              };\n              setupResizeObserver(_sizeAutoObserverElement, function () {\n                var newSize = {\n                  w: _sizeAutoObserverElementNative[LEXICON.oW],\n                  h: _sizeAutoObserverElementNative[LEXICON.oH]\n                };\n\n                if (checkCache(newSize, oldSize)) {\n                  if (_initialized && _heightAutoCache && newSize.h > 0 || _widthAutoCache && newSize.w > 0) {\n                    update();\n                  } else if (_initialized && !_heightAutoCache && newSize.h === 0 || !_widthAutoCache && newSize.w === 0) {\n                    update();\n                  }\n                }\n\n                oldSize = newSize;\n              });\n              _sizeAutoObserverAdded = true; //fix heightAuto detector bug if height is fixed but contentHeight is 0.\n              //the probability this bug will ever happen is very very low, thats why its ok if we use calc which isn't supported in IE8.\n\n              if (_cssCalc !== null) _sizeAutoObserverElement.css(_strHeight, _cssCalc + '(100% + 1px)');\n            }\n          } else {\n            if (_sizeAutoObserverAdded) _sizeAutoObserverElement.hide();\n            if (_contentGlueElement) _contentGlueElement.hide();\n          }\n        } //if force, update all resizeObservers too\n\n\n        if (force) {\n          _sizeObserverElement.find('*').trigger(_strScroll);\n\n          if (_sizeAutoObserverAdded) _sizeAutoObserverElement.find('*').trigger(_strScroll);\n        } //display hidden:\n\n\n        displayIsHidden = displayIsHidden === undefined ? _hostElement.is(':hidden') : displayIsHidden; //textarea AutoWrapping:\n\n        var textareaAutoWrapping = _isTextarea ? _targetElement.attr('wrap') !== 'off' : false;\n        var textareaAutoWrappingChanged = checkCacheAutoForce(textareaAutoWrapping, _textareaAutoWrappingCache); //detect direction:\n\n        var cssDirection = _hostElement.css('direction');\n\n        var cssDirectionChanged = checkCacheAutoForce(cssDirection, _cssDirectionCache); //detect box-sizing:\n\n        var boxSizing = _hostElement.css('box-sizing');\n\n        var boxSizingChanged = checkCacheAutoForce(boxSizing, _cssBoxSizingCache); //detect padding:\n\n        var padding = getTopRightBottomLeftHost(_strPaddingMinus); //width + height auto detecting var:\n\n        var sizeAutoObserverElementBCRect; //exception occurs in IE8 sometimes (unknown exception)\n\n        try {\n          sizeAutoObserverElementBCRect = _sizeAutoObserverAdded ? _sizeAutoObserverElementNative[LEXICON.bCR]() : null;\n        } catch (ex) {\n          return;\n        }\n\n        _isRTL = cssDirection === 'rtl';\n        _isBorderBox = boxSizing === 'border-box';\n        var isRTLLeft = _isRTL ? _strLeft : _strRight;\n        var isRTLRight = _isRTL ? _strRight : _strLeft; //detect width auto:\n\n        var widthAutoResizeDetection = false;\n        var widthAutoObserverDetection = _sizeAutoObserverAdded && _hostElement.css(_strFloat) !== 'none'\n        /*|| _isTextarea */\n        ? MATH.round(sizeAutoObserverElementBCRect.right - sizeAutoObserverElementBCRect.left) === 0 && (!paddingAbsolute ? _hostElementNative[LEXICON.cW] - _paddingX > 0 : true) : false;\n\n        if (sizeAutoCapable && !widthAutoObserverDetection) {\n          var tmpCurrHostWidth = _hostElementNative[LEXICON.oW];\n\n          var tmpCurrContentGlueWidth = _contentGlueElement.css(_strWidth);\n\n          _contentGlueElement.css(_strWidth, _strAuto);\n\n          var tmpNewHostWidth = _hostElementNative[LEXICON.oW];\n\n          _contentGlueElement.css(_strWidth, tmpCurrContentGlueWidth);\n\n          widthAutoResizeDetection = tmpCurrHostWidth !== tmpNewHostWidth;\n\n          if (!widthAutoResizeDetection) {\n            _contentGlueElement.css(_strWidth, tmpCurrHostWidth + 1);\n\n            tmpNewHostWidth = _hostElementNative[LEXICON.oW];\n\n            _contentGlueElement.css(_strWidth, tmpCurrContentGlueWidth);\n\n            widthAutoResizeDetection = tmpCurrHostWidth !== tmpNewHostWidth;\n          }\n        }\n\n        var widthAuto = (widthAutoObserverDetection || widthAutoResizeDetection) && sizeAutoCapable && !displayIsHidden;\n        var widthAutoChanged = checkCacheAutoForce(widthAuto, _widthAutoCache);\n        var wasWidthAuto = !widthAuto && _widthAutoCache; //detect height auto:\n\n        var heightAuto = _sizeAutoObserverAdded && sizeAutoCapable && !displayIsHidden ? MATH.round(sizeAutoObserverElementBCRect.bottom - sizeAutoObserverElementBCRect.top) === 0 :\n        /* && (!paddingAbsolute && (_msieVersion > 9 || !_msieVersion) ? true : true) */\n        false;\n        var heightAutoChanged = checkCacheAutoForce(heightAuto, _heightAutoCache);\n        var wasHeightAuto = !heightAuto && _heightAutoCache; //detect border:\n        //we need the border only if border box and auto size\n\n        var updateBorderX = widthAuto && _isBorderBox || !_isBorderBox;\n        var updateBorderY = heightAuto && _isBorderBox || !_isBorderBox;\n        var border = getTopRightBottomLeftHost(_strBorderMinus, '-' + _strWidth, !updateBorderX, !updateBorderY); //detect margin:\n\n        var margin = getTopRightBottomLeftHost(_strMarginMinus); //vars to apply correct css\n\n        var contentElementCSS = {};\n        var contentGlueElementCSS = {}; //funcs\n\n        var getHostSize = function getHostSize() {\n          //has to be clientSize because offsetSize respect borders\n          return {\n            w: _hostElementNative[LEXICON.cW],\n            h: _hostElementNative[LEXICON.cH]\n          };\n        };\n\n        var getViewportSize = function getViewportSize() {\n          //viewport size is padding container because it never has padding, margin and a border\n          //determine zoom rounding error -> sometimes scrollWidth/Height is smaller than clientWidth/Height\n          //if this happens add the difference to the viewportSize to compensate the rounding error\n          return {\n            w: _paddingElementNative[LEXICON.oW] + MATH.max(0, _contentElementNative[LEXICON.cW] - _contentElementNative[LEXICON.sW]),\n            h: _paddingElementNative[LEXICON.oH] + MATH.max(0, _contentElementNative[LEXICON.cH] - _contentElementNative[LEXICON.sH])\n          };\n        }; //set info for padding\n\n\n        var paddingAbsoluteX = _paddingX = padding.l + padding.r;\n        var paddingAbsoluteY = _paddingY = padding.t + padding.b;\n        paddingAbsoluteX *= paddingAbsolute ? 1 : 0;\n        paddingAbsoluteY *= paddingAbsolute ? 1 : 0;\n        padding.c = checkCacheAutoForce(padding, _cssPaddingCache); //set info for border\n\n        _borderX = border.l + border.r;\n        _borderY = border.t + border.b;\n        border.c = checkCacheAutoForce(border, _cssBorderCache); //set info for margin\n\n        _marginX = margin.l + margin.r;\n        _marginY = margin.t + margin.b;\n        margin.c = checkCacheAutoForce(margin, _cssMarginCache); //refresh cache\n\n        _textareaAutoWrappingCache = textareaAutoWrapping;\n        _cssDirectionCache = cssDirection;\n        _cssBoxSizingCache = boxSizing;\n        _widthAutoCache = widthAuto;\n        _heightAutoCache = heightAuto;\n        _cssPaddingCache = padding;\n        _cssBorderCache = border;\n        _cssMarginCache = margin; //IEFix direction changed\n\n        if (cssDirectionChanged && _sizeAutoObserverAdded) _sizeAutoObserverElement.css(_strFloat, isRTLRight); //apply padding:\n\n        if (padding.c || cssDirectionChanged || paddingAbsoluteChanged || widthAutoChanged || heightAutoChanged || boxSizingChanged || sizeAutoCapableChanged) {\n          var paddingElementCSS = {};\n          var textareaCSS = {};\n          var paddingValues = [padding.t, padding.r, padding.b, padding.l];\n          setTopRightBottomLeft(contentGlueElementCSS, _strMarginMinus, [-padding.t, -padding.r, -padding.b, -padding.l]);\n\n          if (paddingAbsolute) {\n            setTopRightBottomLeft(paddingElementCSS, _strEmpty, paddingValues);\n            setTopRightBottomLeft(_isTextarea ? textareaCSS : contentElementCSS, _strPaddingMinus);\n          } else {\n            setTopRightBottomLeft(paddingElementCSS, _strEmpty);\n            setTopRightBottomLeft(_isTextarea ? textareaCSS : contentElementCSS, _strPaddingMinus, paddingValues);\n          }\n\n          _paddingElement.css(paddingElementCSS);\n\n          _targetElement.css(textareaCSS);\n        } //viewport size is padding container because it never has padding, margin and a border.\n\n\n        _viewportSize = getViewportSize(); //update Textarea\n\n        var textareaSize = _isTextarea ? textareaUpdate() : false;\n\n        var textareaSizeChanged = _isTextarea && checkCacheAutoForce(textareaSize, _textareaSizeCache);\n\n        var textareaDynOrigSize = _isTextarea && textareaSize ? {\n          w: textareaDynWidth ? textareaSize._dynamicWidth : textareaSize._originalWidth,\n          h: textareaDynHeight ? textareaSize._dynamicHeight : textareaSize._originalHeight\n        } : {};\n        _textareaSizeCache = textareaSize; //fix height auto / width auto in cooperation with current padding & boxSizing behavior:\n\n        if (heightAuto && (heightAutoChanged || paddingAbsoluteChanged || boxSizingChanged || padding.c || border.c)) {\n          contentElementCSS[_strHeight] = _strAuto;\n        } else if (heightAutoChanged || paddingAbsoluteChanged) {\n          contentElementCSS[_strHeight] = _strHundredPercent;\n        }\n\n        if (widthAuto && (widthAutoChanged || paddingAbsoluteChanged || boxSizingChanged || padding.c || border.c || cssDirectionChanged)) {\n          contentElementCSS[_strWidth] = _strAuto;\n          contentGlueElementCSS[_strMaxMinus + _strWidth] = _strHundredPercent; //IE Fix\n        } else if (widthAutoChanged || paddingAbsoluteChanged) {\n          contentElementCSS[_strWidth] = _strHundredPercent;\n          contentElementCSS[_strFloat] = _strEmpty;\n          contentGlueElementCSS[_strMaxMinus + _strWidth] = _strEmpty; //IE Fix\n        }\n\n        if (widthAuto) {\n          //textareaDynOrigSize.w || _strAuto :: doesnt works because applied margin will shift width\n          contentGlueElementCSS[_strWidth] = _strAuto;\n          contentElementCSS[_strWidth] = VENDORS._cssPropertyValue(_strWidth, 'max-content intrinsic') || _strAuto;\n          contentElementCSS[_strFloat] = isRTLRight;\n        } else {\n          contentGlueElementCSS[_strWidth] = _strEmpty;\n        }\n\n        if (heightAuto) {\n          //textareaDynOrigSize.h || _contentElementNative[LEXICON.cH] :: use for anti scroll jumping\n          contentGlueElementCSS[_strHeight] = textareaDynOrigSize.h || _contentElementNative[LEXICON.cH];\n        } else {\n          contentGlueElementCSS[_strHeight] = _strEmpty;\n        }\n\n        if (sizeAutoCapable) _contentGlueElement.css(contentGlueElementCSS);\n\n        _contentElement.css(contentElementCSS); //CHECKPOINT HERE ~\n\n\n        contentElementCSS = {};\n        contentGlueElementCSS = {}; //if [content(host) client / scroll size, or target element direction, or content(host) max-sizes] changed, or force is true\n\n        if (hostSizeChanged || contentSizeChanged || textareaSizeChanged || cssDirectionChanged || boxSizingChanged || paddingAbsoluteChanged || widthAutoChanged || widthAuto || heightAutoChanged || heightAuto || ignoreOverlayScrollbarHidingChanged || overflowBehaviorChanged || clipAlwaysChanged || resizeChanged || scrollbarsVisibilityChanged || scrollbarsAutoHideChanged || scrollbarsDragScrollingChanged || scrollbarsClickScrollingChanged || textareaDynWidthChanged || textareaDynHeightChanged || textareaAutoWrappingChanged) {\n          var strOverflow = 'overflow';\n          var strOverflowX = strOverflow + '-x';\n          var strOverflowY = strOverflow + '-y';\n          var strHidden = 'hidden';\n          var strVisible = 'visible'; //Reset the viewport (very important for natively overlaid scrollbars and zoom change\n          //don't change the overflow prop as it is very expensive and affects performance !A LOT!\n\n          if (!_nativeScrollbarStyling) {\n            var viewportElementResetCSS = {};\n            var resetXTmp = _hasOverflowCache.y && _hideOverflowCache.ys && !ignoreOverlayScrollbarHiding ? _nativeScrollbarIsOverlaid.y ? _viewportElement.css(isRTLLeft) : -_nativeScrollbarSize.y : 0;\n            var resetBottomTmp = _hasOverflowCache.x && _hideOverflowCache.xs && !ignoreOverlayScrollbarHiding ? _nativeScrollbarIsOverlaid.x ? _viewportElement.css(_strBottom) : -_nativeScrollbarSize.x : 0;\n            setTopRightBottomLeft(viewportElementResetCSS, _strEmpty);\n\n            _viewportElement.css(viewportElementResetCSS);\n          } //measure several sizes:\n\n\n          var contentMeasureElement = getContentMeasureElement(); //in Firefox content element has to have overflow hidden, else element margins aren't calculated properly, this element prevents this bug, but only if scrollbars aren't overlaid\n\n          var contentSize = {\n            //use clientSize because natively overlaidScrollbars add borders\n            w: textareaDynOrigSize.w || contentMeasureElement[LEXICON.cW],\n            h: textareaDynOrigSize.h || contentMeasureElement[LEXICON.cH]\n          };\n          var scrollSize = {\n            w: contentMeasureElement[LEXICON.sW],\n            h: contentMeasureElement[LEXICON.sH]\n          }; //apply the correct viewport style and measure viewport size\n\n          if (!_nativeScrollbarStyling) {\n            viewportElementResetCSS[_strBottom] = wasHeightAuto ? _strEmpty : resetBottomTmp;\n            viewportElementResetCSS[isRTLLeft] = wasWidthAuto ? _strEmpty : resetXTmp;\n\n            _viewportElement.css(viewportElementResetCSS);\n          }\n\n          _viewportSize = getViewportSize(); //measure and correct several sizes\n\n          var hostSize = getHostSize();\n          var hostAbsoluteRectSize = {\n            w: hostSize.w - _marginX - _borderX - (_isBorderBox ? 0 : _paddingX),\n            h: hostSize.h - _marginY - _borderY - (_isBorderBox ? 0 : _paddingY)\n          };\n          var contentGlueSize = {\n            //client/scrollSize + AbsolutePadding -> because padding is only applied to the paddingElement if its absolute, so you have to add it manually\n            //hostSize is clientSize -> so padding should be added manually, right? FALSE! Because content glue is inside hostElement, so we don't have to worry about padding\n            w: MATH.max((widthAuto ? contentSize.w : scrollSize.w) + paddingAbsoluteX, hostAbsoluteRectSize.w),\n            h: MATH.max((heightAuto ? contentSize.h : scrollSize.h) + paddingAbsoluteY, hostAbsoluteRectSize.h)\n          };\n          contentGlueSize.c = checkCacheAutoForce(contentGlueSize, _contentGlueSizeCache);\n          _contentGlueSizeCache = contentGlueSize; //apply correct contentGlue size\n\n          if (sizeAutoCapable) {\n            //size contentGlue correctly to make sure the element has correct size if the sizing switches to auto\n            if (contentGlueSize.c || heightAuto || widthAuto) {\n              contentGlueElementCSS[_strWidth] = contentGlueSize.w;\n              contentGlueElementCSS[_strHeight] = contentGlueSize.h; //textarea-sizes are already calculated correctly at this point\n\n              if (!_isTextarea) {\n                contentSize = {\n                  //use clientSize because natively overlaidScrollbars add borders\n                  w: contentMeasureElement[LEXICON.cW],\n                  h: contentMeasureElement[LEXICON.cH]\n                };\n              }\n            }\n\n            var textareaCoverCSS = {};\n\n            var setContentGlueElementCSSfunction = function setContentGlueElementCSSfunction(horizontal) {\n              var scrollbarVars = getScrollbarVars(horizontal);\n              var wh = scrollbarVars._w_h;\n              var strWH = scrollbarVars._width_height;\n              var autoSize = horizontal ? widthAuto : heightAuto;\n              var borderSize = horizontal ? _borderX : _borderY;\n              var paddingSize = horizontal ? _paddingX : _paddingY;\n              var marginSize = horizontal ? _marginX : _marginY;\n              var viewportSize = _viewportSize[wh] - borderSize - marginSize - (_isBorderBox ? 0 : paddingSize); //make contentGlue size -1 if element is not auto sized, to make sure that a resize event happens when the element shrinks\n\n              if (!autoSize || !autoSize && border.c) contentGlueElementCSS[strWH] = hostAbsoluteRectSize[wh] - 1; //if size is auto and host is smaller than size as min size, make content glue size -1 to make sure size changes will be detected (this is only needed if padding is 0)\n\n              if (autoSize && contentSize[wh] < viewportSize && (horizontal && _isTextarea ? !textareaAutoWrapping : true)) {\n                if (_isTextarea) textareaCoverCSS[strWH] = parseToZeroOrNumber(_textareaCoverElement.css(strWH)) - 1;\n                contentGlueElementCSS[strWH] -= 1;\n              } //make sure content glue size is at least 1\n\n\n              if (contentSize[wh] > 0) contentGlueElementCSS[strWH] = MATH.max(1, contentGlueElementCSS[strWH]);\n            };\n\n            setContentGlueElementCSSfunction(true);\n            setContentGlueElementCSSfunction(false);\n            if (_isTextarea) _textareaCoverElement.css(textareaCoverCSS);\n\n            _contentGlueElement.css(contentGlueElementCSS);\n          }\n\n          if (widthAuto) contentElementCSS[_strWidth] = _strHundredPercent;\n          if (widthAuto && !_isBorderBox && !_mutationObserversConnected) contentElementCSS[_strFloat] = 'none'; //apply and reset content style\n\n          _contentElement.css(contentElementCSS);\n\n          contentElementCSS = {}; //measure again, but this time all correct sizes:\n\n          var contentScrollSize = {\n            w: contentMeasureElement[LEXICON.sW],\n            h: contentMeasureElement[LEXICON.sH]\n          };\n          contentScrollSize.c = contentSizeChanged = checkCacheAutoForce(contentScrollSize, _contentScrollSizeCache);\n          _contentScrollSizeCache = contentScrollSize; //refresh viewport size after correct measuring\n\n          _viewportSize = getViewportSize();\n          hostSize = getHostSize();\n          hostSizeChanged = checkCacheAutoForce(hostSize, _hostSizeCache);\n          _hostSizeCache = hostSize;\n          var hideOverflowForceTextarea = _isTextarea && (_viewportSize.w === 0 || _viewportSize.h === 0);\n          var previousOverflowAmount = _overflowAmountCache;\n          var overflowBehaviorIsVS = {};\n          var overflowBehaviorIsVH = {};\n          var overflowBehaviorIsS = {};\n          var overflowAmount = {};\n          var hasOverflow = {};\n          var hideOverflow = {};\n          var canScroll = {};\n\n          var viewportRect = _paddingElementNative[LEXICON.bCR]();\n\n          var setOverflowVariables = function setOverflowVariables(horizontal) {\n            var scrollbarVars = getScrollbarVars(horizontal);\n            var scrollbarVarsInverted = getScrollbarVars(!horizontal);\n            var xyI = scrollbarVarsInverted._x_y;\n            var xy = scrollbarVars._x_y;\n            var wh = scrollbarVars._w_h;\n            var widthHeight = scrollbarVars._width_height;\n            var scrollMax = _strScroll + scrollbarVars._Left_Top + 'Max';\n            var fractionalOverflowAmount = viewportRect[widthHeight] ? MATH.abs(viewportRect[widthHeight] - _viewportSize[wh]) : 0;\n            var checkFractionalOverflowAmount = previousOverflowAmount && previousOverflowAmount[xy] > 0 && _viewportElementNative[scrollMax] === 0;\n            overflowBehaviorIsVS[xy] = overflowBehavior[xy] === 'v-s';\n            overflowBehaviorIsVH[xy] = overflowBehavior[xy] === 'v-h';\n            overflowBehaviorIsS[xy] = overflowBehavior[xy] === 's';\n            overflowAmount[xy] = MATH.max(0, MATH.round((contentScrollSize[wh] - _viewportSize[wh]) * 100) / 100);\n            overflowAmount[xy] *= hideOverflowForceTextarea || checkFractionalOverflowAmount && fractionalOverflowAmount > 0 && fractionalOverflowAmount < 1 ? 0 : 1;\n            hasOverflow[xy] = overflowAmount[xy] > 0; //hideOverflow:\n            //x || y : true === overflow is hidden by \"overflow: scroll\" OR \"overflow: hidden\"\n            //xs || ys : true === overflow is hidden by \"overflow: scroll\"\n\n            hideOverflow[xy] = overflowBehaviorIsVS[xy] || overflowBehaviorIsVH[xy] ? hasOverflow[xyI] && !overflowBehaviorIsVS[xyI] && !overflowBehaviorIsVH[xyI] : hasOverflow[xy];\n            hideOverflow[xy + 's'] = hideOverflow[xy] ? overflowBehaviorIsS[xy] || overflowBehaviorIsVS[xy] : false;\n            canScroll[xy] = hasOverflow[xy] && hideOverflow[xy + 's'];\n          };\n\n          setOverflowVariables(true);\n          setOverflowVariables(false);\n          overflowAmount.c = checkCacheAutoForce(overflowAmount, _overflowAmountCache);\n          _overflowAmountCache = overflowAmount;\n          hasOverflow.c = checkCacheAutoForce(hasOverflow, _hasOverflowCache);\n          _hasOverflowCache = hasOverflow;\n          hideOverflow.c = checkCacheAutoForce(hideOverflow, _hideOverflowCache);\n          _hideOverflowCache = hideOverflow; //if native scrollbar is overlay at x OR y axis, prepare DOM\n\n          if (_nativeScrollbarIsOverlaid.x || _nativeScrollbarIsOverlaid.y) {\n            var borderDesign = 'px solid transparent';\n            var contentArrangeElementCSS = {};\n            var arrangeContent = {};\n            var arrangeChanged = force;\n            var setContentElementCSS;\n\n            if (hasOverflow.x || hasOverflow.y) {\n              arrangeContent.w = _nativeScrollbarIsOverlaid.y && hasOverflow.y ? contentScrollSize.w + _overlayScrollbarDummySize.y : _strEmpty;\n              arrangeContent.h = _nativeScrollbarIsOverlaid.x && hasOverflow.x ? contentScrollSize.h + _overlayScrollbarDummySize.x : _strEmpty;\n              arrangeChanged = checkCacheAutoForce(arrangeContent, _arrangeContentSizeCache);\n              _arrangeContentSizeCache = arrangeContent;\n            }\n\n            if (hasOverflow.c || hideOverflow.c || contentScrollSize.c || cssDirectionChanged || widthAutoChanged || heightAutoChanged || widthAuto || heightAuto || ignoreOverlayScrollbarHidingChanged) {\n              contentElementCSS[_strMarginMinus + isRTLRight] = contentElementCSS[_strBorderMinus + isRTLRight] = _strEmpty;\n\n              setContentElementCSS = function setContentElementCSS(horizontal) {\n                var scrollbarVars = getScrollbarVars(horizontal);\n                var scrollbarVarsInverted = getScrollbarVars(!horizontal);\n                var xy = scrollbarVars._x_y;\n                var strDirection = horizontal ? _strBottom : isRTLLeft;\n                var invertedAutoSize = horizontal ? heightAuto : widthAuto;\n\n                if (_nativeScrollbarIsOverlaid[xy] && hasOverflow[xy] && hideOverflow[xy + 's']) {\n                  contentElementCSS[_strMarginMinus + strDirection] = invertedAutoSize ? ignoreOverlayScrollbarHiding ? _strEmpty : _overlayScrollbarDummySize[xy] : _strEmpty;\n                  contentElementCSS[_strBorderMinus + strDirection] = (horizontal ? !invertedAutoSize : true) && !ignoreOverlayScrollbarHiding ? _overlayScrollbarDummySize[xy] + borderDesign : _strEmpty;\n                } else {\n                  arrangeContent[scrollbarVarsInverted._w_h] = contentElementCSS[_strMarginMinus + strDirection] = contentElementCSS[_strBorderMinus + strDirection] = _strEmpty;\n                  arrangeChanged = true;\n                }\n              };\n\n              if (_nativeScrollbarStyling) {\n                addRemoveClass(_viewportElement, _classNameViewportNativeScrollbarsInvisible, !ignoreOverlayScrollbarHiding);\n              } else {\n                setContentElementCSS(true);\n                setContentElementCSS(false);\n              }\n            }\n\n            if (ignoreOverlayScrollbarHiding) {\n              arrangeContent.w = arrangeContent.h = _strEmpty;\n              arrangeChanged = true;\n            }\n\n            if (arrangeChanged && !_nativeScrollbarStyling) {\n              contentArrangeElementCSS[_strWidth] = hideOverflow.y ? arrangeContent.w : _strEmpty;\n              contentArrangeElementCSS[_strHeight] = hideOverflow.x ? arrangeContent.h : _strEmpty;\n\n              if (!_contentArrangeElement) {\n                _contentArrangeElement = FRAMEWORK(generateDiv(_classNameContentArrangeElement));\n\n                _viewportElement.prepend(_contentArrangeElement);\n              }\n\n              _contentArrangeElement.css(contentArrangeElementCSS);\n            }\n\n            _contentElement.css(contentElementCSS);\n          }\n\n          var viewportElementCSS = {};\n          var paddingElementCSS = {};\n          var setViewportCSS;\n\n          if (hostSizeChanged || hasOverflow.c || hideOverflow.c || contentScrollSize.c || overflowBehaviorChanged || boxSizingChanged || ignoreOverlayScrollbarHidingChanged || cssDirectionChanged || clipAlwaysChanged || heightAutoChanged) {\n            viewportElementCSS[isRTLRight] = _strEmpty;\n\n            setViewportCSS = function setViewportCSS(horizontal) {\n              var scrollbarVars = getScrollbarVars(horizontal);\n              var scrollbarVarsInverted = getScrollbarVars(!horizontal);\n              var xy = scrollbarVars._x_y;\n              var XY = scrollbarVars._X_Y;\n              var strDirection = horizontal ? _strBottom : isRTLLeft;\n\n              var reset = function reset() {\n                viewportElementCSS[strDirection] = _strEmpty;\n                _contentBorderSize[scrollbarVarsInverted._w_h] = 0;\n              };\n\n              if (hasOverflow[xy] && hideOverflow[xy + 's']) {\n                viewportElementCSS[strOverflow + XY] = _strScroll;\n\n                if (ignoreOverlayScrollbarHiding || _nativeScrollbarStyling) {\n                  reset();\n                } else {\n                  viewportElementCSS[strDirection] = -(_nativeScrollbarIsOverlaid[xy] ? _overlayScrollbarDummySize[xy] : _nativeScrollbarSize[xy]);\n                  _contentBorderSize[scrollbarVarsInverted._w_h] = _nativeScrollbarIsOverlaid[xy] ? _overlayScrollbarDummySize[scrollbarVarsInverted._x_y] : 0;\n                }\n              } else {\n                viewportElementCSS[strOverflow + XY] = _strEmpty;\n                reset();\n              }\n            };\n\n            setViewportCSS(true);\n            setViewportCSS(false); // if the scroll container is too small and if there is any overflow with no overlay scrollbar (and scrollbar styling isn't possible), \n            // make viewport element greater in size (Firefox hide Scrollbars fix)\n            // because firefox starts hiding scrollbars on too small elements\n            // with this behavior the overflow calculation may be incorrect or the scrollbars would appear suddenly\n            // https://bugzilla.mozilla.org/show_bug.cgi?id=292284\n\n            if (!_nativeScrollbarStyling && (_viewportSize.h < _nativeScrollbarMinSize.x || _viewportSize.w < _nativeScrollbarMinSize.y) && (hasOverflow.x && hideOverflow.x && !_nativeScrollbarIsOverlaid.x || hasOverflow.y && hideOverflow.y && !_nativeScrollbarIsOverlaid.y)) {\n              viewportElementCSS[_strPaddingMinus + _strTop] = _nativeScrollbarMinSize.x;\n              viewportElementCSS[_strMarginMinus + _strTop] = -_nativeScrollbarMinSize.x;\n              viewportElementCSS[_strPaddingMinus + isRTLRight] = _nativeScrollbarMinSize.y;\n              viewportElementCSS[_strMarginMinus + isRTLRight] = -_nativeScrollbarMinSize.y;\n            } else {\n              viewportElementCSS[_strPaddingMinus + _strTop] = viewportElementCSS[_strMarginMinus + _strTop] = viewportElementCSS[_strPaddingMinus + isRTLRight] = viewportElementCSS[_strMarginMinus + isRTLRight] = _strEmpty;\n            }\n\n            viewportElementCSS[_strPaddingMinus + isRTLLeft] = viewportElementCSS[_strMarginMinus + isRTLLeft] = _strEmpty; //if there is any overflow (x OR y axis) and this overflow shall be hidden, make overflow hidden, else overflow visible\n\n            if (hasOverflow.x && hideOverflow.x || hasOverflow.y && hideOverflow.y || hideOverflowForceTextarea) {\n              //only hide if is Textarea\n              if (_isTextarea && hideOverflowForceTextarea) {\n                paddingElementCSS[strOverflowX] = paddingElementCSS[strOverflowY] = strHidden;\n              }\n            } else {\n              if (!clipAlways || overflowBehaviorIsVH.x || overflowBehaviorIsVS.x || overflowBehaviorIsVH.y || overflowBehaviorIsVS.y) {\n                //only un-hide if Textarea\n                if (_isTextarea) {\n                  paddingElementCSS[strOverflowX] = paddingElementCSS[strOverflowY] = _strEmpty;\n                }\n\n                viewportElementCSS[strOverflowX] = viewportElementCSS[strOverflowY] = strVisible;\n              }\n            }\n\n            _paddingElement.css(paddingElementCSS);\n\n            _viewportElement.css(viewportElementCSS);\n\n            viewportElementCSS = {}; //force soft redraw in webkit because without the scrollbars will may appear because DOM wont be redrawn under special conditions\n\n            if ((hasOverflow.c || boxSizingChanged || widthAutoChanged || heightAutoChanged) && !(_nativeScrollbarIsOverlaid.x && _nativeScrollbarIsOverlaid.y)) {\n              var elementStyle = _contentElementNative[LEXICON.s];\n              var dump;\n              elementStyle.webkitTransform = 'scale(1)';\n              elementStyle.display = 'run-in';\n              dump = _contentElementNative[LEXICON.oH];\n              elementStyle.display = _strEmpty; //|| dump; //use dump to prevent it from deletion if minify\n\n              elementStyle.webkitTransform = _strEmpty;\n            }\n            /*\r\n            //force hard redraw in webkit if native overlaid scrollbars shall appear\r\n            if (ignoreOverlayScrollbarHidingChanged && ignoreOverlayScrollbarHiding) {\r\n                _hostElement.hide();\r\n                var dump = _hostElementNative[LEXICON.oH];\r\n                _hostElement.show();\r\n            }\r\n            */\n\n          } //change to direction RTL and width auto Bugfix in Webkit\n          //without this fix, the DOM still thinks the scrollbar is LTR and thus the content is shifted to the left\n\n\n          contentElementCSS = {};\n\n          if (cssDirectionChanged || widthAutoChanged || heightAutoChanged) {\n            if (_isRTL && widthAuto) {\n              var floatTmp = _contentElement.css(_strFloat);\n\n              var posLeftWithoutFloat = MATH.round(_contentElement.css(_strFloat, _strEmpty).css(_strLeft, _strEmpty).position().left);\n\n              _contentElement.css(_strFloat, floatTmp);\n\n              var posLeftWithFloat = MATH.round(_contentElement.position().left);\n              if (posLeftWithoutFloat !== posLeftWithFloat) contentElementCSS[_strLeft] = posLeftWithoutFloat;\n            } else {\n              contentElementCSS[_strLeft] = _strEmpty;\n            }\n          }\n\n          _contentElement.css(contentElementCSS); //handle scroll position\n\n\n          if (_isTextarea && contentSizeChanged) {\n            var textareaInfo = getTextareaInfo();\n\n            if (textareaInfo) {\n              var textareaRowsChanged = _textareaInfoCache === undefined ? true : textareaInfo._rows !== _textareaInfoCache._rows;\n              var cursorRow = textareaInfo._cursorRow;\n              var cursorCol = textareaInfo._cursorColumn;\n              var widestRow = textareaInfo._widestRow;\n              var lastRow = textareaInfo._rows;\n              var lastCol = textareaInfo._columns;\n              var cursorPos = textareaInfo._cursorPosition;\n              var cursorMax = textareaInfo._cursorMax;\n              var cursorIsLastPosition = cursorPos >= cursorMax && _textareaHasFocus;\n              var textareaScrollAmount = {\n                x: !textareaAutoWrapping && cursorCol === lastCol && cursorRow === widestRow ? _overflowAmountCache.x : -1,\n                y: (textareaAutoWrapping ? cursorIsLastPosition || textareaRowsChanged && (previousOverflowAmount ? currScroll.y === previousOverflowAmount.y : false) : (cursorIsLastPosition || textareaRowsChanged) && cursorRow === lastRow) ? _overflowAmountCache.y : -1\n              };\n              currScroll.x = textareaScrollAmount.x > -1 ? _isRTL && _normalizeRTLCache && _rtlScrollBehavior.i ? 0 : textareaScrollAmount.x : currScroll.x; //if inverted, scroll to 0 -> normalized this means to max scroll offset.\n\n              currScroll.y = textareaScrollAmount.y > -1 ? textareaScrollAmount.y : currScroll.y;\n            }\n\n            _textareaInfoCache = textareaInfo;\n          }\n\n          if (_isRTL && _rtlScrollBehavior.i && _nativeScrollbarIsOverlaid.y && hasOverflow.x && _normalizeRTLCache) currScroll.x += _contentBorderSize.w || 0;\n          if (widthAuto) _hostElement[_strScrollLeft](0);\n          if (heightAuto) _hostElement[_strScrollTop](0);\n\n          _viewportElement[_strScrollLeft](currScroll.x)[_strScrollTop](currScroll.y); //scrollbars management:\n\n\n          var scrollbarsVisibilityVisible = scrollbarsVisibility === 'v';\n          var scrollbarsVisibilityHidden = scrollbarsVisibility === 'h';\n          var scrollbarsVisibilityAuto = scrollbarsVisibility === 'a';\n\n          var refreshScrollbarsVisibility = function refreshScrollbarsVisibility(showX, showY) {\n            showY = showY === undefined ? showX : showY;\n            refreshScrollbarAppearance(true, showX, canScroll.x);\n            refreshScrollbarAppearance(false, showY, canScroll.y);\n          }; //manage class name which indicates scrollable overflow\n\n\n          addRemoveClass(_hostElement, _classNameHostOverflow, hideOverflow.x || hideOverflow.y);\n          addRemoveClass(_hostElement, _classNameHostOverflowX, hideOverflow.x);\n          addRemoveClass(_hostElement, _classNameHostOverflowY, hideOverflow.y); //add or remove rtl class name for styling purposes except when its body, then the scrollbar stays\n\n          if (cssDirectionChanged && !_isBody) {\n            addRemoveClass(_hostElement, _classNameHostRTL, _isRTL);\n          } //manage the resize feature (CSS3 resize \"polyfill\" for this plugin)\n\n\n          if (_isBody) addClass(_hostElement, _classNameHostResizeDisabled);\n\n          if (resizeChanged) {\n            addRemoveClass(_hostElement, _classNameHostResizeDisabled, _resizeNone);\n            addRemoveClass(_scrollbarCornerElement, _classNameScrollbarCornerResize, !_resizeNone);\n            addRemoveClass(_scrollbarCornerElement, _classNameScrollbarCornerResizeB, _resizeBoth);\n            addRemoveClass(_scrollbarCornerElement, _classNameScrollbarCornerResizeH, _resizeHorizontal);\n            addRemoveClass(_scrollbarCornerElement, _classNameScrollbarCornerResizeV, _resizeVertical);\n          } //manage the scrollbars general visibility + the scrollbar interactivity (unusable class name)\n\n\n          if (scrollbarsVisibilityChanged || overflowBehaviorChanged || hideOverflow.c || hasOverflow.c || ignoreOverlayScrollbarHidingChanged) {\n            if (ignoreOverlayScrollbarHiding) {\n              if (ignoreOverlayScrollbarHidingChanged) {\n                removeClass(_hostElement, _classNameHostScrolling);\n\n                if (ignoreOverlayScrollbarHiding) {\n                  refreshScrollbarsVisibility(false);\n                }\n              }\n            } else if (scrollbarsVisibilityAuto) {\n              refreshScrollbarsVisibility(canScroll.x, canScroll.y);\n            } else if (scrollbarsVisibilityVisible) {\n              refreshScrollbarsVisibility(true);\n            } else if (scrollbarsVisibilityHidden) {\n              refreshScrollbarsVisibility(false);\n            }\n          } //manage the scrollbars auto hide feature (auto hide them after specific actions)\n\n\n          if (scrollbarsAutoHideChanged || ignoreOverlayScrollbarHidingChanged) {\n            setupHostMouseTouchEvents(!_scrollbarsAutoHideLeave && !_scrollbarsAutoHideMove);\n            refreshScrollbarsAutoHide(_scrollbarsAutoHideNever, !_scrollbarsAutoHideNever);\n          } //manage scrollbars handle length & offset - don't remove!\n\n\n          if (hostSizeChanged || overflowAmount.c || heightAutoChanged || widthAutoChanged || resizeChanged || boxSizingChanged || paddingAbsoluteChanged || ignoreOverlayScrollbarHidingChanged || cssDirectionChanged) {\n            refreshScrollbarHandleLength(true);\n            refreshScrollbarHandleOffset(true);\n            refreshScrollbarHandleLength(false);\n            refreshScrollbarHandleOffset(false);\n          } //manage interactivity\n\n\n          if (scrollbarsClickScrollingChanged) refreshScrollbarsInteractive(true, scrollbarsClickScrolling);\n          if (scrollbarsDragScrollingChanged) refreshScrollbarsInteractive(false, scrollbarsDragScrolling); //callbacks:\n\n          dispatchCallback('onDirectionChanged', {\n            isRTL: _isRTL,\n            dir: cssDirection\n          }, cssDirectionChanged);\n          dispatchCallback('onHostSizeChanged', {\n            width: _hostSizeCache.w,\n            height: _hostSizeCache.h\n          }, hostSizeChanged);\n          dispatchCallback('onContentSizeChanged', {\n            width: _contentScrollSizeCache.w,\n            height: _contentScrollSizeCache.h\n          }, contentSizeChanged);\n          dispatchCallback('onOverflowChanged', {\n            x: hasOverflow.x,\n            y: hasOverflow.y,\n            xScrollable: hideOverflow.xs,\n            yScrollable: hideOverflow.ys,\n            clipped: hideOverflow.x || hideOverflow.y\n          }, hasOverflow.c || hideOverflow.c);\n          dispatchCallback('onOverflowAmountChanged', {\n            x: overflowAmount.x,\n            y: overflowAmount.y\n          }, overflowAmount.c);\n        } //fix body min size\n\n\n        if (_isBody && _bodyMinSizeCache && (_hasOverflowCache.c || _bodyMinSizeCache.c)) {\n          //its possible that no min size was measured until now, because the content arrange element was just added now, in this case, measure now the min size.\n          if (!_bodyMinSizeCache.f) bodyMinSizeChanged();\n          if (_nativeScrollbarIsOverlaid.y && _hasOverflowCache.x) _contentElement.css(_strMinMinus + _strWidth, _bodyMinSizeCache.w + _overlayScrollbarDummySize.y);\n          if (_nativeScrollbarIsOverlaid.x && _hasOverflowCache.y) _contentElement.css(_strMinMinus + _strHeight, _bodyMinSizeCache.h + _overlayScrollbarDummySize.x);\n          _bodyMinSizeCache.c = false;\n        }\n\n        if (_initialized && changedOptions.updateOnLoad) {\n          updateElementsOnLoad();\n        } //freezeResizeObserver(_sizeObserverElement, false);\n        //freezeResizeObserver(_sizeAutoObserverElement, false);\n\n\n        dispatchCallback('onUpdated', {\n          forced: force\n        });\n      }\n      /**\r\n       * Updates the found elements of which the load event shall be handled.\r\n       */\n\n\n      function updateElementsOnLoad() {\n        if (!_isTextarea) {\n          eachUpdateOnLoad(function (i, updateOnLoadSelector) {\n            _contentElement.find(updateOnLoadSelector).each(function (i, el) {\n              // if element doesn't have a updateOnLoadCallback applied\n              if (COMPATIBILITY.inA(el, _updateOnLoadElms) < 0) {\n                _updateOnLoadElms.push(el);\n\n                FRAMEWORK(el).off(_updateOnLoadEventName, updateOnLoadCallback).on(_updateOnLoadEventName, updateOnLoadCallback);\n              }\n            });\n          });\n        }\n      } //==== Options ====//\n\n      /**\r\n       * Sets new options but doesn't call the update method.\r\n       * @param newOptions The object which contains the new options.\r\n       * @returns {*} A object which contains the changed options.\r\n       */\n\n\n      function setOptions(newOptions) {\n        var validatedOpts = _pluginsOptions._validate(newOptions, _pluginsOptions._template, true, _currentOptions);\n\n        _currentOptions = extendDeep({}, _currentOptions, validatedOpts._default);\n        _currentPreparedOptions = extendDeep({}, _currentPreparedOptions, validatedOpts._prepared);\n        return validatedOpts._prepared;\n      } //==== Structure ====//\n\n      /**\r\n       * Builds or destroys the wrapper and helper DOM elements.\r\n       * @param destroy Indicates whether the DOM shall be build or destroyed.\r\n       */\n\n      /**\r\n       * Builds or destroys the wrapper and helper DOM elements.\r\n       * @param destroy Indicates whether the DOM shall be build or destroyed.\r\n       */\n\n\n      function setupStructureDOM(destroy) {\n        var strParent = 'parent';\n        var classNameResizeObserverHost = 'os-resize-observer-host';\n        var classNameTextareaElementFull = _classNameTextareaElement + _strSpace + _classNameTextInherit;\n        var textareaClass = _isTextarea ? _strSpace + _classNameTextInherit : _strEmpty;\n        var adoptAttrs = _currentPreparedOptions.textarea.inheritedAttrs;\n        var adoptAttrsMap = {};\n\n        var applyAdoptedAttrs = function applyAdoptedAttrs() {\n          var applyAdoptedAttrsElm = destroy ? _targetElement : _hostElement;\n          each(adoptAttrsMap, function (key, value) {\n            if (type(value) == TYPES.s) {\n              if (key == LEXICON.c) applyAdoptedAttrsElm.addClass(value);else applyAdoptedAttrsElm.attr(key, value);\n            }\n          });\n        };\n\n        var hostElementClassNames = [_classNameHostElement, _classNameHostElementForeign, _classNameHostTextareaElement, _classNameHostResizeDisabled, _classNameHostRTL, _classNameHostScrollbarHorizontalHidden, _classNameHostScrollbarVerticalHidden, _classNameHostTransition, _classNameHostScrolling, _classNameHostOverflow, _classNameHostOverflowX, _classNameHostOverflowY, _classNameThemeNone, _classNameTextareaElement, _classNameTextInherit, _classNameCache].join(_strSpace);\n        var hostElementCSS = {}; //get host element as first element, because that's the most upper element and required for the other elements\n\n        _hostElement = _hostElement || (_isTextarea ? _domExists ? _targetElement[strParent]()[strParent]()[strParent]()[strParent]() : FRAMEWORK(generateDiv(_classNameHostTextareaElement)) : _targetElement);\n        _contentElement = _contentElement || selectOrGenerateDivByClass(_classNameContentElement + textareaClass);\n        _viewportElement = _viewportElement || selectOrGenerateDivByClass(_classNameViewportElement + textareaClass);\n        _paddingElement = _paddingElement || selectOrGenerateDivByClass(_classNamePaddingElement + textareaClass);\n        _sizeObserverElement = _sizeObserverElement || selectOrGenerateDivByClass(classNameResizeObserverHost);\n        _textareaCoverElement = _textareaCoverElement || (_isTextarea ? selectOrGenerateDivByClass(_classNameTextareaCoverElement) : undefined); //add this class to workaround class changing issues with UI frameworks especially Vue\n\n        if (_domExists) addClass(_hostElement, _classNameHostElementForeign); //on destroy, remove all generated class names from the host element before collecting the adopted attributes \n        //to prevent adopting generated class names\n\n        if (destroy) removeClass(_hostElement, hostElementClassNames); //collect all adopted attributes\n\n        adoptAttrs = type(adoptAttrs) == TYPES.s ? adoptAttrs.split(_strSpace) : adoptAttrs;\n\n        if (COMPATIBILITY.isA(adoptAttrs) && _isTextarea) {\n          each(adoptAttrs, function (i, v) {\n            if (type(v) == TYPES.s) {\n              adoptAttrsMap[v] = destroy ? _hostElement.attr(v) : _targetElement.attr(v);\n            }\n          });\n        }\n\n        if (!destroy) {\n          if (_isTextarea) {\n            if (!_currentPreparedOptions.sizeAutoCapable) {\n              hostElementCSS[_strWidth] = _targetElement.css(_strWidth);\n              hostElementCSS[_strHeight] = _targetElement.css(_strHeight);\n            }\n\n            if (!_domExists) _targetElement.addClass(_classNameTextInherit).wrap(_hostElement); //jQuery clones elements in wrap functions, so we have to select them again\n\n            _hostElement = _targetElement[strParent]().css(hostElementCSS);\n          }\n\n          if (!_domExists) {\n            //add the correct class to the target element\n            addClass(_targetElement, _isTextarea ? classNameTextareaElementFull : _classNameHostElement); //wrap the content into the generated elements to create the required DOM\n\n            _hostElement.wrapInner(_contentElement).wrapInner(_viewportElement).wrapInner(_paddingElement).prepend(_sizeObserverElement); //jQuery clones elements in wrap functions, so we have to select them again\n\n\n            _contentElement = findFirst(_hostElement, _strDot + _classNameContentElement);\n            _viewportElement = findFirst(_hostElement, _strDot + _classNameViewportElement);\n            _paddingElement = findFirst(_hostElement, _strDot + _classNamePaddingElement);\n\n            if (_isTextarea) {\n              _contentElement.prepend(_textareaCoverElement);\n\n              applyAdoptedAttrs();\n            }\n          }\n\n          if (_nativeScrollbarStyling) addClass(_viewportElement, _classNameViewportNativeScrollbarsInvisible);\n          if (_nativeScrollbarIsOverlaid.x && _nativeScrollbarIsOverlaid.y) addClass(_viewportElement, _classNameViewportNativeScrollbarsOverlaid);\n          if (_isBody) addClass(_htmlElement, _classNameHTMLElement);\n          _sizeObserverElementNative = _sizeObserverElement[0];\n          _hostElementNative = _hostElement[0];\n          _paddingElementNative = _paddingElement[0];\n          _viewportElementNative = _viewportElement[0];\n          _contentElementNative = _contentElement[0];\n          updateViewportAttrsFromTarget();\n        } else {\n          if (_domExists && _initialized) {\n            //clear size observer\n            _sizeObserverElement.children().remove(); //remove the style property and classes from already generated elements\n\n\n            each([_paddingElement, _viewportElement, _contentElement, _textareaCoverElement], function (i, elm) {\n              if (elm) {\n                removeClass(elm.removeAttr(LEXICON.s), _classNamesDynamicDestroy);\n              }\n            }); //add classes to the host element which was removed previously to match the expected DOM\n\n            addClass(_hostElement, _isTextarea ? _classNameHostTextareaElement : _classNameHostElement);\n          } else {\n            //remove size observer\n            remove(_sizeObserverElement); //unwrap the content to restore DOM\n\n            _contentElement.contents().unwrap().unwrap().unwrap();\n\n            if (_isTextarea) {\n              _targetElement.unwrap();\n\n              remove(_hostElement);\n              remove(_textareaCoverElement);\n              applyAdoptedAttrs();\n            }\n          }\n\n          if (_isTextarea) _targetElement.removeAttr(LEXICON.s);\n          if (_isBody) removeClass(_htmlElement, _classNameHTMLElement);\n        }\n      }\n      /**\r\n       * Adds or removes all wrapper elements interactivity events.\r\n       * @param destroy Indicates whether the Events shall be added or removed.\r\n       */\n\n\n      function setupStructureEvents() {\n        var textareaKeyDownRestrictedKeyCodes = [112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 123, //F1 to F12\n        33, 34, //page up, page down\n        37, 38, 39, 40, //left, up, right, down arrows\n        16, 17, 18, 19, 20, 144 //Shift, Ctrl, Alt, Pause, CapsLock, NumLock\n        ];\n        var textareaKeyDownKeyCodesList = [];\n        var textareaUpdateIntervalID;\n        var scrollStopTimeoutId;\n        var scrollStopDelay = 175;\n        var strFocus = 'focus';\n\n        function updateTextarea(doClearInterval) {\n          textareaUpdate();\n\n          _base.update(_strAuto);\n\n          if (doClearInterval && _autoUpdateRecommended) clearInterval(textareaUpdateIntervalID);\n        }\n\n        function textareaOnScroll(event) {\n          _targetElement[_strScrollLeft](_rtlScrollBehavior.i && _normalizeRTLCache ? 9999999 : 0);\n\n          _targetElement[_strScrollTop](0);\n\n          COMPATIBILITY.prvD(event);\n          COMPATIBILITY.stpP(event);\n          return false;\n        }\n\n        function textareaOnDrop(event) {\n          setTimeout(function () {\n            if (!_destroyed) updateTextarea();\n          }, 50);\n        }\n\n        function textareaOnFocus() {\n          _textareaHasFocus = true;\n          addClass(_hostElement, strFocus);\n        }\n\n        function textareaOnFocusout() {\n          _textareaHasFocus = false;\n          textareaKeyDownKeyCodesList = [];\n          removeClass(_hostElement, strFocus);\n          updateTextarea(true);\n        }\n\n        function textareaOnKeyDown(event) {\n          var keyCode = event.keyCode;\n\n          if (inArray(keyCode, textareaKeyDownRestrictedKeyCodes) < 0) {\n            if (!textareaKeyDownKeyCodesList[LEXICON.l]) {\n              updateTextarea();\n              textareaUpdateIntervalID = setInterval(updateTextarea, 1000 / 60);\n            }\n\n            if (inArray(keyCode, textareaKeyDownKeyCodesList) < 0) textareaKeyDownKeyCodesList.push(keyCode);\n          }\n        }\n\n        function textareaOnKeyUp(event) {\n          var keyCode = event.keyCode;\n          var index = inArray(keyCode, textareaKeyDownKeyCodesList);\n\n          if (inArray(keyCode, textareaKeyDownRestrictedKeyCodes) < 0) {\n            if (index > -1) textareaKeyDownKeyCodesList.splice(index, 1);\n            if (!textareaKeyDownKeyCodesList[LEXICON.l]) updateTextarea(true);\n          }\n        }\n\n        function contentOnTransitionEnd(event) {\n          if (_autoUpdateCache === true) return;\n          event = event.originalEvent || event;\n          if (isSizeAffectingCSSProperty(event.propertyName)) _base.update(_strAuto);\n        }\n\n        function viewportOnScroll(event) {\n          if (!_sleeping) {\n            if (scrollStopTimeoutId !== undefined) clearTimeout(scrollStopTimeoutId);else {\n              if (_scrollbarsAutoHideScroll || _scrollbarsAutoHideMove) refreshScrollbarsAutoHide(true);\n              if (!nativeOverlayScrollbarsAreActive()) addClass(_hostElement, _classNameHostScrolling);\n              dispatchCallback('onScrollStart', event);\n            } //if a scrollbars handle gets dragged, the mousemove event is responsible for refreshing the handle offset\n            //because if CSS scroll-snap is used, the handle offset gets only refreshed on every snap point\n            //this looks laggy & clunky, it looks much better if the offset refreshes with the mousemove\n\n            if (!_scrollbarsHandlesDefineScrollPos) {\n              refreshScrollbarHandleOffset(true);\n              refreshScrollbarHandleOffset(false);\n            }\n\n            dispatchCallback('onScroll', event);\n            scrollStopTimeoutId = setTimeout(function () {\n              if (!_destroyed) {\n                //OnScrollStop:\n                clearTimeout(scrollStopTimeoutId);\n                scrollStopTimeoutId = undefined;\n                if (_scrollbarsAutoHideScroll || _scrollbarsAutoHideMove) refreshScrollbarsAutoHide(false);\n                if (!nativeOverlayScrollbarsAreActive()) removeClass(_hostElement, _classNameHostScrolling);\n                dispatchCallback('onScrollStop', event);\n              }\n            }, scrollStopDelay);\n          }\n        }\n\n        if (_isTextarea) {\n          if (_msieVersion > 9 || !_autoUpdateRecommended) {\n            addDestroyEventListener(_targetElement, 'input', updateTextarea);\n          } else {\n            addDestroyEventListener(_targetElement, [_strKeyDownEvent, _strKeyUpEvent], [textareaOnKeyDown, textareaOnKeyUp]);\n          }\n\n          addDestroyEventListener(_targetElement, [_strScroll, 'drop', strFocus, strFocus + 'out'], [textareaOnScroll, textareaOnDrop, textareaOnFocus, textareaOnFocusout]);\n        } else {\n          addDestroyEventListener(_contentElement, _strTransitionEndEvent, contentOnTransitionEnd);\n        }\n\n        addDestroyEventListener(_viewportElement, _strScroll, viewportOnScroll, true);\n      } //==== Scrollbars ====//\n\n      /**\r\n       * Builds or destroys all scrollbar DOM elements (scrollbar, track, handle)\r\n       * @param destroy Indicates whether the DOM shall be build or destroyed.\r\n       */\n\n\n      function setupScrollbarsDOM(destroy) {\n        var selectOrGenerateScrollbarDOM = function selectOrGenerateScrollbarDOM(isHorizontal) {\n          var scrollbarClassName = isHorizontal ? _classNameScrollbarHorizontal : _classNameScrollbarVertical;\n          var scrollbar = selectOrGenerateDivByClass(_classNameScrollbar + _strSpace + scrollbarClassName, true);\n          var track = selectOrGenerateDivByClass(_classNameScrollbarTrack, scrollbar);\n          var handle = selectOrGenerateDivByClass(_classNameScrollbarHandle, scrollbar);\n\n          if (!_domExists && !destroy) {\n            scrollbar.append(track);\n            track.append(handle);\n          }\n\n          return {\n            _scrollbar: scrollbar,\n            _track: track,\n            _handle: handle\n          };\n        };\n\n        function resetScrollbarDOM(isHorizontal) {\n          var scrollbarVars = getScrollbarVars(isHorizontal);\n          var scrollbar = scrollbarVars._scrollbar;\n          var track = scrollbarVars._track;\n          var handle = scrollbarVars._handle;\n\n          if (_domExists && _initialized) {\n            each([scrollbar, track, handle], function (i, elm) {\n              removeClass(elm.removeAttr(LEXICON.s), _classNamesDynamicDestroy);\n            });\n          } else {\n            remove(scrollbar || selectOrGenerateScrollbarDOM(isHorizontal)._scrollbar);\n          }\n        }\n\n        var horizontalElements;\n        var verticalElements;\n\n        if (!destroy) {\n          horizontalElements = selectOrGenerateScrollbarDOM(true);\n          verticalElements = selectOrGenerateScrollbarDOM();\n          _scrollbarHorizontalElement = horizontalElements._scrollbar;\n          _scrollbarHorizontalTrackElement = horizontalElements._track;\n          _scrollbarHorizontalHandleElement = horizontalElements._handle;\n          _scrollbarVerticalElement = verticalElements._scrollbar;\n          _scrollbarVerticalTrackElement = verticalElements._track;\n          _scrollbarVerticalHandleElement = verticalElements._handle;\n\n          if (!_domExists) {\n            _paddingElement.after(_scrollbarVerticalElement);\n\n            _paddingElement.after(_scrollbarHorizontalElement);\n          }\n        } else {\n          resetScrollbarDOM(true);\n          resetScrollbarDOM();\n        }\n      }\n      /**\r\n       * Initializes all scrollbar interactivity events. (track and handle dragging, clicking, scrolling)\r\n       * @param isHorizontal True if the target scrollbar is the horizontal scrollbar, false if the target scrollbar is the vertical scrollbar.\r\n       */\n\n\n      function setupScrollbarEvents(isHorizontal) {\n        var scrollbarVars = getScrollbarVars(isHorizontal);\n        var scrollbarVarsInfo = scrollbarVars._info;\n        var insideIFrame = _windowElementNative.top !== _windowElementNative;\n        var xy = scrollbarVars._x_y;\n        var XY = scrollbarVars._X_Y;\n        var scroll = _strScroll + scrollbarVars._Left_Top;\n        var strActive = 'active';\n        var strSnapHandle = 'snapHandle';\n        var strClickEvent = 'click';\n        var scrollDurationFactor = 1;\n        var increaseDecreaseScrollAmountKeyCodes = [16, 17]; //shift, ctrl\n\n        var trackTimeout;\n        var mouseDownScroll;\n        var mouseDownOffset;\n        var mouseDownInvertedScale;\n\n        function getPointerPosition(event) {\n          return _msieVersion && insideIFrame ? event['screen' + XY] : COMPATIBILITY.page(event)[xy]; //use screen coordinates in EDGE & IE because the page values are incorrect in frames.\n        }\n\n        function getPreparedScrollbarsOption(name) {\n          return _currentPreparedOptions.scrollbars[name];\n        }\n\n        function increaseTrackScrollAmount() {\n          scrollDurationFactor = 0.5;\n        }\n\n        function decreaseTrackScrollAmount() {\n          scrollDurationFactor = 1;\n        }\n\n        function stopClickEventPropagation(event) {\n          COMPATIBILITY.stpP(event);\n        }\n\n        function documentKeyDown(event) {\n          if (inArray(event.keyCode, increaseDecreaseScrollAmountKeyCodes) > -1) increaseTrackScrollAmount();\n        }\n\n        function documentKeyUp(event) {\n          if (inArray(event.keyCode, increaseDecreaseScrollAmountKeyCodes) > -1) decreaseTrackScrollAmount();\n        }\n\n        function onMouseTouchDownContinue(event) {\n          var originalEvent = event.originalEvent || event;\n          var isTouchEvent = originalEvent.touches !== undefined;\n          return _sleeping || _destroyed || nativeOverlayScrollbarsAreActive() || !_scrollbarsDragScrollingCache || isTouchEvent && !getPreparedScrollbarsOption('touchSupport') ? false : COMPATIBILITY.mBtn(event) === 1 || isTouchEvent;\n        }\n\n        function documentDragMove(event) {\n          if (onMouseTouchDownContinue(event)) {\n            var trackLength = scrollbarVarsInfo._trackLength;\n            var handleLength = scrollbarVarsInfo._handleLength;\n            var scrollRange = scrollbarVarsInfo._maxScroll;\n            var scrollRaw = (getPointerPosition(event) - mouseDownOffset) * mouseDownInvertedScale;\n            var scrollDeltaPercent = scrollRaw / (trackLength - handleLength);\n            var scrollDelta = scrollRange * scrollDeltaPercent;\n            scrollDelta = isFinite(scrollDelta) ? scrollDelta : 0;\n            if (_isRTL && isHorizontal && !_rtlScrollBehavior.i) scrollDelta *= -1;\n\n            _viewportElement[scroll](MATH.round(mouseDownScroll + scrollDelta));\n\n            if (_scrollbarsHandlesDefineScrollPos) refreshScrollbarHandleOffset(isHorizontal, mouseDownScroll + scrollDelta);\n            if (!_supportPassiveEvents) COMPATIBILITY.prvD(event);\n          } else documentMouseTouchUp(event);\n        }\n\n        function documentMouseTouchUp(event) {\n          event = event || event.originalEvent;\n          setupResponsiveEventListener(_documentElement, [_strMouseTouchMoveEvent, _strMouseTouchUpEvent, _strKeyDownEvent, _strKeyUpEvent, _strSelectStartEvent], [documentDragMove, documentMouseTouchUp, documentKeyDown, documentKeyUp, documentOnSelectStart], true);\n          COMPATIBILITY.rAF()(function () {\n            setupResponsiveEventListener(_documentElement, strClickEvent, stopClickEventPropagation, true, {\n              _capture: true\n            });\n          });\n          if (_scrollbarsHandlesDefineScrollPos) refreshScrollbarHandleOffset(isHorizontal, true);\n          _scrollbarsHandlesDefineScrollPos = false;\n          removeClass(_bodyElement, _classNameDragging);\n          removeClass(scrollbarVars._handle, strActive);\n          removeClass(scrollbarVars._track, strActive);\n          removeClass(scrollbarVars._scrollbar, strActive);\n          mouseDownScroll = undefined;\n          mouseDownOffset = undefined;\n          mouseDownInvertedScale = 1;\n          decreaseTrackScrollAmount();\n\n          if (trackTimeout !== undefined) {\n            _base.scrollStop();\n\n            clearTimeout(trackTimeout);\n            trackTimeout = undefined;\n          }\n\n          if (event) {\n            var rect = _hostElementNative[LEXICON.bCR]();\n\n            var mouseInsideHost = event.clientX >= rect.left && event.clientX <= rect.right && event.clientY >= rect.top && event.clientY <= rect.bottom; //if mouse is outside host element\n\n            if (!mouseInsideHost) hostOnMouseLeave();\n            if (_scrollbarsAutoHideScroll || _scrollbarsAutoHideMove) refreshScrollbarsAutoHide(false);\n          }\n        }\n\n        function onHandleMouseTouchDown(event) {\n          if (onMouseTouchDownContinue(event)) onHandleMouseTouchDownAction(event);\n        }\n\n        function onHandleMouseTouchDownAction(event) {\n          mouseDownScroll = _viewportElement[scroll]();\n          mouseDownScroll = isNaN(mouseDownScroll) ? 0 : mouseDownScroll;\n          if (_isRTL && isHorizontal && !_rtlScrollBehavior.n || !_isRTL) mouseDownScroll = mouseDownScroll < 0 ? 0 : mouseDownScroll;\n          mouseDownInvertedScale = getHostElementInvertedScale()[xy];\n          mouseDownOffset = getPointerPosition(event);\n          _scrollbarsHandlesDefineScrollPos = !getPreparedScrollbarsOption(strSnapHandle);\n          addClass(_bodyElement, _classNameDragging);\n          addClass(scrollbarVars._handle, strActive);\n          addClass(scrollbarVars._scrollbar, strActive);\n          setupResponsiveEventListener(_documentElement, [_strMouseTouchMoveEvent, _strMouseTouchUpEvent, _strSelectStartEvent], [documentDragMove, documentMouseTouchUp, documentOnSelectStart]);\n          COMPATIBILITY.rAF()(function () {\n            setupResponsiveEventListener(_documentElement, strClickEvent, stopClickEventPropagation, false, {\n              _capture: true\n            });\n          });\n          if (_msieVersion || !_documentMixed) COMPATIBILITY.prvD(event);\n          COMPATIBILITY.stpP(event);\n        }\n\n        function onTrackMouseTouchDown(event) {\n          if (onMouseTouchDownContinue(event)) {\n            var handleToViewportRatio = scrollbarVars._info._handleLength / Math.round(MATH.min(1, _viewportSize[scrollbarVars._w_h] / _contentScrollSizeCache[scrollbarVars._w_h]) * scrollbarVars._info._trackLength);\n            var scrollDistance = MATH.round(_viewportSize[scrollbarVars._w_h] * handleToViewportRatio);\n            var scrollBaseDuration = 270 * handleToViewportRatio;\n            var scrollFirstIterationDelay = 400 * handleToViewportRatio;\n\n            var trackOffset = scrollbarVars._track.offset()[scrollbarVars._left_top];\n\n            var ctrlKey = event.ctrlKey;\n            var instantScroll = event.shiftKey;\n            var instantScrollTransition = instantScroll && ctrlKey;\n            var isFirstIteration = true;\n            var easing = 'linear';\n            var decreaseScroll;\n            var finishedCondition;\n\n            var scrollActionFinsished = function scrollActionFinsished(transition) {\n              if (_scrollbarsHandlesDefineScrollPos) refreshScrollbarHandleOffset(isHorizontal, transition);\n            };\n\n            var scrollActionInstantFinished = function scrollActionInstantFinished() {\n              scrollActionFinsished();\n              onHandleMouseTouchDownAction(event);\n            };\n\n            var scrollAction = function scrollAction() {\n              if (!_destroyed) {\n                var mouseOffset = (mouseDownOffset - trackOffset) * mouseDownInvertedScale;\n                var handleOffset = scrollbarVarsInfo._handleOffset;\n                var trackLength = scrollbarVarsInfo._trackLength;\n                var handleLength = scrollbarVarsInfo._handleLength;\n                var scrollRange = scrollbarVarsInfo._maxScroll;\n                var currScroll = scrollbarVarsInfo._currentScroll;\n                var scrollDuration = scrollBaseDuration * scrollDurationFactor;\n                var timeoutDelay = isFirstIteration ? MATH.max(scrollFirstIterationDelay, scrollDuration) : scrollDuration;\n                var instantScrollPosition = scrollRange * ((mouseOffset - handleLength / 2) / (trackLength - handleLength)); // 100% * positionPercent\n\n                var rtlIsNormal = _isRTL && isHorizontal && (!_rtlScrollBehavior.i && !_rtlScrollBehavior.n || _normalizeRTLCache);\n                var decreaseScrollCondition = rtlIsNormal ? handleOffset < mouseOffset : handleOffset > mouseOffset;\n                var scrollObj = {};\n                var animationObj = {\n                  easing: easing,\n                  step: function step(now) {\n                    if (_scrollbarsHandlesDefineScrollPos) {\n                      _viewportElement[scroll](now); //https://github.com/jquery/jquery/issues/4340\n\n\n                      refreshScrollbarHandleOffset(isHorizontal, now);\n                    }\n                  }\n                };\n                instantScrollPosition = isFinite(instantScrollPosition) ? instantScrollPosition : 0;\n                instantScrollPosition = _isRTL && isHorizontal && !_rtlScrollBehavior.i ? scrollRange - instantScrollPosition : instantScrollPosition; //_base.scrollStop();\n\n                if (instantScroll) {\n                  _viewportElement[scroll](instantScrollPosition); //scroll instantly to new position\n\n\n                  if (instantScrollTransition) {\n                    //get the scroll position after instant scroll (in case CSS Snap Points are used) to get the correct snapped scroll position\n                    //and the animation stops at the correct point\n                    instantScrollPosition = _viewportElement[scroll](); //scroll back to the position before instant scrolling so animation can be performed\n\n                    _viewportElement[scroll](currScroll);\n\n                    instantScrollPosition = rtlIsNormal && _rtlScrollBehavior.i ? scrollRange - instantScrollPosition : instantScrollPosition;\n                    instantScrollPosition = rtlIsNormal && _rtlScrollBehavior.n ? -instantScrollPosition : instantScrollPosition;\n                    scrollObj[xy] = instantScrollPosition;\n\n                    _base.scroll(scrollObj, extendDeep(animationObj, {\n                      duration: 130,\n                      complete: scrollActionInstantFinished\n                    }));\n                  } else scrollActionInstantFinished();\n                } else {\n                  decreaseScroll = isFirstIteration ? decreaseScrollCondition : decreaseScroll;\n                  finishedCondition = rtlIsNormal ? decreaseScroll ? handleOffset + handleLength >= mouseOffset : handleOffset <= mouseOffset : decreaseScroll ? handleOffset <= mouseOffset : handleOffset + handleLength >= mouseOffset;\n\n                  if (finishedCondition) {\n                    clearTimeout(trackTimeout);\n\n                    _base.scrollStop();\n\n                    trackTimeout = undefined;\n                    scrollActionFinsished(true);\n                  } else {\n                    trackTimeout = setTimeout(scrollAction, timeoutDelay);\n                    scrollObj[xy] = (decreaseScroll ? '-=' : '+=') + scrollDistance;\n\n                    _base.scroll(scrollObj, extendDeep(animationObj, {\n                      duration: scrollDuration\n                    }));\n                  }\n\n                  isFirstIteration = false;\n                }\n              }\n            };\n\n            if (ctrlKey) increaseTrackScrollAmount();\n            mouseDownInvertedScale = getHostElementInvertedScale()[xy];\n            mouseDownOffset = COMPATIBILITY.page(event)[xy];\n            _scrollbarsHandlesDefineScrollPos = !getPreparedScrollbarsOption(strSnapHandle);\n            addClass(_bodyElement, _classNameDragging);\n            addClass(scrollbarVars._track, strActive);\n            addClass(scrollbarVars._scrollbar, strActive);\n            setupResponsiveEventListener(_documentElement, [_strMouseTouchUpEvent, _strKeyDownEvent, _strKeyUpEvent, _strSelectStartEvent], [documentMouseTouchUp, documentKeyDown, documentKeyUp, documentOnSelectStart]);\n            scrollAction();\n            COMPATIBILITY.prvD(event);\n            COMPATIBILITY.stpP(event);\n          }\n        }\n\n        function onTrackMouseTouchEnter(event) {\n          //make sure both scrollbars will stay visible if one scrollbar is hovered if autoHide is \"scroll\" or \"move\".\n          _scrollbarsHandleHovered = true;\n          if (_scrollbarsAutoHideScroll || _scrollbarsAutoHideMove) refreshScrollbarsAutoHide(true);\n        }\n\n        function onTrackMouseTouchLeave(event) {\n          _scrollbarsHandleHovered = false;\n          if (_scrollbarsAutoHideScroll || _scrollbarsAutoHideMove) refreshScrollbarsAutoHide(false);\n        }\n\n        function onScrollbarMouseTouchDown(event) {\n          COMPATIBILITY.stpP(event);\n        }\n\n        addDestroyEventListener(scrollbarVars._handle, _strMouseTouchDownEvent, onHandleMouseTouchDown);\n        addDestroyEventListener(scrollbarVars._track, [_strMouseTouchDownEvent, _strMouseEnter, _strMouseLeave], [onTrackMouseTouchDown, onTrackMouseTouchEnter, onTrackMouseTouchLeave]);\n        addDestroyEventListener(scrollbarVars._scrollbar, _strMouseTouchDownEvent, onScrollbarMouseTouchDown);\n\n        if (_supportTransition) {\n          addDestroyEventListener(scrollbarVars._scrollbar, _strTransitionEndEvent, function (event) {\n            if (event.target !== scrollbarVars._scrollbar[0]) return;\n            refreshScrollbarHandleLength(isHorizontal);\n            refreshScrollbarHandleOffset(isHorizontal);\n          });\n        }\n      }\n      /**\r\n       * Shows or hides the given scrollbar and applied a class name which indicates if the scrollbar is scrollable or not.\r\n       * @param isHorizontal True if the horizontal scrollbar is the target, false if the vertical scrollbar is the target.\r\n       * @param shallBeVisible True if the scrollbar shall be shown, false if hidden.\r\n       * @param canScroll True if the scrollbar is scrollable, false otherwise.\r\n       */\n\n\n      function refreshScrollbarAppearance(isHorizontal, shallBeVisible, canScroll) {\n        var scrollbarHiddenClassName = isHorizontal ? _classNameHostScrollbarHorizontalHidden : _classNameHostScrollbarVerticalHidden;\n        var scrollbarElement = isHorizontal ? _scrollbarHorizontalElement : _scrollbarVerticalElement;\n        addRemoveClass(_hostElement, scrollbarHiddenClassName, !shallBeVisible);\n        addRemoveClass(scrollbarElement, _classNameScrollbarUnusable, !canScroll);\n      }\n      /**\r\n       * Autoshows / autohides both scrollbars with.\r\n       * @param shallBeVisible True if the scrollbars shall be autoshown (only the case if they are hidden by a autohide), false if the shall be auto hidden.\r\n       * @param delayfree True if the scrollbars shall be hidden without a delay, false or undefined otherwise.\r\n       */\n\n\n      function refreshScrollbarsAutoHide(shallBeVisible, delayfree) {\n        clearTimeout(_scrollbarsAutoHideTimeoutId);\n\n        if (shallBeVisible) {\n          //if(_hasOverflowCache.x && _hideOverflowCache.xs)\n          removeClass(_scrollbarHorizontalElement, _classNameScrollbarAutoHidden); //if(_hasOverflowCache.y && _hideOverflowCache.ys)\n\n          removeClass(_scrollbarVerticalElement, _classNameScrollbarAutoHidden);\n        } else {\n          var anyActive;\n          var strActive = 'active';\n\n          var hide = function hide() {\n            if (!_scrollbarsHandleHovered && !_destroyed) {\n              anyActive = _scrollbarHorizontalHandleElement.hasClass(strActive) || _scrollbarVerticalHandleElement.hasClass(strActive);\n              if (!anyActive && (_scrollbarsAutoHideScroll || _scrollbarsAutoHideMove || _scrollbarsAutoHideLeave)) addClass(_scrollbarHorizontalElement, _classNameScrollbarAutoHidden);\n              if (!anyActive && (_scrollbarsAutoHideScroll || _scrollbarsAutoHideMove || _scrollbarsAutoHideLeave)) addClass(_scrollbarVerticalElement, _classNameScrollbarAutoHidden);\n            }\n          };\n\n          if (_scrollbarsAutoHideDelay > 0 && delayfree !== true) _scrollbarsAutoHideTimeoutId = setTimeout(hide, _scrollbarsAutoHideDelay);else hide();\n        }\n      }\n      /**\r\n       * Refreshes the handle length of the given scrollbar.\r\n       * @param isHorizontal True if the horizontal scrollbar handle shall be refreshed, false if the vertical one shall be refreshed.\r\n       */\n\n\n      function refreshScrollbarHandleLength(isHorizontal) {\n        var handleCSS = {};\n        var scrollbarVars = getScrollbarVars(isHorizontal);\n        var scrollbarVarsInfo = scrollbarVars._info;\n        var digit = 1000000; //get and apply intended handle length\n\n        var handleRatio = MATH.min(1, _viewportSize[scrollbarVars._w_h] / _contentScrollSizeCache[scrollbarVars._w_h]);\n        handleCSS[scrollbarVars._width_height] = MATH.floor(handleRatio * 100 * digit) / digit + '%'; //the last * digit / digit is for flooring to the 4th digit\n\n        if (!nativeOverlayScrollbarsAreActive()) scrollbarVars._handle.css(handleCSS); //measure the handle length to respect min & max length\n\n        scrollbarVarsInfo._handleLength = scrollbarVars._handle[0]['offset' + scrollbarVars._Width_Height];\n        scrollbarVarsInfo._handleLengthRatio = handleRatio;\n      }\n      /**\r\n       * Refreshes the handle offset of the given scrollbar.\r\n       * @param isHorizontal True if the horizontal scrollbar handle shall be refreshed, false if the vertical one shall be refreshed.\r\n       * @param scrollOrTransition The scroll position of the given scrollbar axis to which the handle shall be moved or a boolean which indicates whether a transition shall be applied. If undefined or boolean if the current scroll-offset is taken. (if isHorizontal ? scrollLeft : scrollTop)\r\n       */\n\n\n      function refreshScrollbarHandleOffset(isHorizontal, scrollOrTransition) {\n        var transition = type(scrollOrTransition) == TYPES.b;\n        var transitionDuration = 250;\n        var isRTLisHorizontal = _isRTL && isHorizontal;\n        var scrollbarVars = getScrollbarVars(isHorizontal);\n        var scrollbarVarsInfo = scrollbarVars._info;\n        var strTranslateBrace = 'translate(';\n\n        var strTransform = VENDORS._cssProperty('transform');\n\n        var strTransition = VENDORS._cssProperty('transition');\n\n        var nativeScroll = isHorizontal ? _viewportElement[_strScrollLeft]() : _viewportElement[_strScrollTop]();\n        var currentScroll = scrollOrTransition === undefined || transition ? nativeScroll : scrollOrTransition; //measure the handle length to respect min & max length\n\n        var handleLength = scrollbarVarsInfo._handleLength;\n        var trackLength = scrollbarVars._track[0]['offset' + scrollbarVars._Width_Height];\n        var handleTrackDiff = trackLength - handleLength;\n        var handleCSS = {};\n        var transformOffset;\n        var translateValue; //DONT use the variable '_contentScrollSizeCache[scrollbarVars._w_h]' instead of '_viewportElement[0]['scroll' + scrollbarVars._Width_Height]'\n        // because its a bit behind during the small delay when content size updates\n        //(delay = mutationObserverContentLag, if its 0 then this var could be used)\n\n        var maxScroll = (_viewportElementNative[_strScroll + scrollbarVars._Width_Height] - _viewportElementNative['client' + scrollbarVars._Width_Height]) * (_rtlScrollBehavior.n && isRTLisHorizontal ? -1 : 1); //* -1 if rtl scroll max is negative\n\n        var getScrollRatio = function getScrollRatio(base) {\n          return isNaN(base / maxScroll) ? 0 : MATH.max(0, MATH.min(1, base / maxScroll));\n        };\n\n        var getHandleOffset = function getHandleOffset(scrollRatio) {\n          var offset = handleTrackDiff * scrollRatio;\n          offset = isNaN(offset) ? 0 : offset;\n          offset = isRTLisHorizontal && !_rtlScrollBehavior.i ? trackLength - handleLength - offset : offset;\n          offset = MATH.max(0, offset);\n          return offset;\n        };\n\n        var scrollRatio = getScrollRatio(nativeScroll);\n        var unsnappedScrollRatio = getScrollRatio(currentScroll);\n        var handleOffset = getHandleOffset(unsnappedScrollRatio);\n        var snappedHandleOffset = getHandleOffset(scrollRatio);\n        scrollbarVarsInfo._maxScroll = maxScroll;\n        scrollbarVarsInfo._currentScroll = nativeScroll;\n        scrollbarVarsInfo._currentScrollRatio = scrollRatio;\n\n        if (_supportTransform) {\n          transformOffset = isRTLisHorizontal ? -(trackLength - handleLength - handleOffset) : handleOffset; //in px\n          //transformOffset = (transformOffset / trackLength * 100) * (trackLength / handleLength); //in %\n\n          translateValue = isHorizontal ? strTranslateBrace + transformOffset + 'px, 0)' : strTranslateBrace + '0, ' + transformOffset + 'px)';\n          handleCSS[strTransform] = translateValue; //apply or clear up transition\n\n          if (_supportTransition) handleCSS[strTransition] = transition && MATH.abs(handleOffset - scrollbarVarsInfo._handleOffset) > 1 ? getCSSTransitionString(scrollbarVars._handle) + ', ' + (strTransform + _strSpace + transitionDuration + 'ms') : _strEmpty;\n        } else handleCSS[scrollbarVars._left_top] = handleOffset; //only apply css if offset has changed and overflow exists.\n\n\n        if (!nativeOverlayScrollbarsAreActive()) {\n          scrollbarVars._handle.css(handleCSS); //clear up transition\n\n\n          if (_supportTransform && _supportTransition && transition) {\n            scrollbarVars._handle.one(_strTransitionEndEvent, function () {\n              if (!_destroyed) scrollbarVars._handle.css(strTransition, _strEmpty);\n            });\n          }\n        }\n\n        scrollbarVarsInfo._handleOffset = handleOffset;\n        scrollbarVarsInfo._snappedHandleOffset = snappedHandleOffset;\n        scrollbarVarsInfo._trackLength = trackLength;\n      }\n      /**\r\n       * Refreshes the interactivity of the given scrollbar element.\r\n       * @param isTrack True if the track element is the target, false if the handle element is the target.\r\n       * @param value True for interactivity false for no interactivity.\r\n       */\n\n\n      function refreshScrollbarsInteractive(isTrack, value) {\n        var action = value ? 'removeClass' : 'addClass';\n        var element1 = isTrack ? _scrollbarHorizontalTrackElement : _scrollbarHorizontalHandleElement;\n        var element2 = isTrack ? _scrollbarVerticalTrackElement : _scrollbarVerticalHandleElement;\n        var className = isTrack ? _classNameScrollbarTrackOff : _classNameScrollbarHandleOff;\n        element1[action](className);\n        element2[action](className);\n      }\n      /**\r\n       * Returns a object which is used for fast access for specific variables.\r\n       * @param isHorizontal True if the horizontal scrollbar vars shall be accessed, false if the vertical scrollbar vars shall be accessed.\r\n       * @returns {{wh: string, WH: string, lt: string, _wh: string, _lt: string, t: *, h: *, c: {}, s: *}}\r\n       */\n\n\n      function getScrollbarVars(isHorizontal) {\n        return {\n          _width_height: isHorizontal ? _strWidth : _strHeight,\n          _Width_Height: isHorizontal ? 'Width' : 'Height',\n          _left_top: isHorizontal ? _strLeft : _strTop,\n          _Left_Top: isHorizontal ? 'Left' : 'Top',\n          _x_y: isHorizontal ? _strX : _strY,\n          _X_Y: isHorizontal ? 'X' : 'Y',\n          _w_h: isHorizontal ? 'w' : 'h',\n          _l_t: isHorizontal ? 'l' : 't',\n          _track: isHorizontal ? _scrollbarHorizontalTrackElement : _scrollbarVerticalTrackElement,\n          _handle: isHorizontal ? _scrollbarHorizontalHandleElement : _scrollbarVerticalHandleElement,\n          _scrollbar: isHorizontal ? _scrollbarHorizontalElement : _scrollbarVerticalElement,\n          _info: isHorizontal ? _scrollHorizontalInfo : _scrollVerticalInfo\n        };\n      } //==== Scrollbar Corner ====//\n\n      /**\r\n       * Builds or destroys the scrollbar corner DOM element.\r\n       * @param destroy Indicates whether the DOM shall be build or destroyed.\r\n       */\n\n\n      function setupScrollbarCornerDOM(destroy) {\n        _scrollbarCornerElement = _scrollbarCornerElement || selectOrGenerateDivByClass(_classNameScrollbarCorner, true);\n\n        if (!destroy) {\n          if (!_domExists) {\n            _hostElement.append(_scrollbarCornerElement);\n          }\n        } else {\n          if (_domExists && _initialized) {\n            removeClass(_scrollbarCornerElement.removeAttr(LEXICON.s), _classNamesDynamicDestroy);\n          } else {\n            remove(_scrollbarCornerElement);\n          }\n        }\n      }\n      /**\r\n       * Initializes all scrollbar corner interactivity events.\r\n       */\n\n\n      function setupScrollbarCornerEvents() {\n        var insideIFrame = _windowElementNative.top !== _windowElementNative;\n        var mouseDownPosition = {};\n        var mouseDownSize = {};\n        var mouseDownInvertedScale = {};\n        var reconnectMutationObserver;\n\n        function documentDragMove(event) {\n          if (onMouseTouchDownContinue(event)) {\n            var pageOffset = getCoordinates(event);\n            var hostElementCSS = {};\n            if (_resizeHorizontal || _resizeBoth) hostElementCSS[_strWidth] = mouseDownSize.w + (pageOffset.x - mouseDownPosition.x) * mouseDownInvertedScale.x;\n            if (_resizeVertical || _resizeBoth) hostElementCSS[_strHeight] = mouseDownSize.h + (pageOffset.y - mouseDownPosition.y) * mouseDownInvertedScale.y;\n\n            _hostElement.css(hostElementCSS);\n\n            COMPATIBILITY.stpP(event);\n          } else {\n            documentMouseTouchUp(event);\n          }\n        }\n\n        function documentMouseTouchUp(event) {\n          var eventIsTrusted = event !== undefined;\n          setupResponsiveEventListener(_documentElement, [_strSelectStartEvent, _strMouseTouchMoveEvent, _strMouseTouchUpEvent], [documentOnSelectStart, documentDragMove, documentMouseTouchUp], true);\n          removeClass(_bodyElement, _classNameDragging);\n          if (_scrollbarCornerElement.releaseCapture) _scrollbarCornerElement.releaseCapture();\n\n          if (eventIsTrusted) {\n            if (reconnectMutationObserver) connectMutationObservers();\n\n            _base.update(_strAuto);\n          }\n\n          reconnectMutationObserver = false;\n        }\n\n        function onMouseTouchDownContinue(event) {\n          var originalEvent = event.originalEvent || event;\n          var isTouchEvent = originalEvent.touches !== undefined;\n          return _sleeping || _destroyed ? false : COMPATIBILITY.mBtn(event) === 1 || isTouchEvent;\n        }\n\n        function getCoordinates(event) {\n          return _msieVersion && insideIFrame ? {\n            x: event.screenX,\n            y: event.screenY\n          } : COMPATIBILITY.page(event);\n        }\n\n        addDestroyEventListener(_scrollbarCornerElement, _strMouseTouchDownEvent, function (event) {\n          if (onMouseTouchDownContinue(event) && !_resizeNone) {\n            if (_mutationObserversConnected) {\n              reconnectMutationObserver = true;\n              disconnectMutationObservers();\n            }\n\n            mouseDownPosition = getCoordinates(event);\n            mouseDownSize.w = _hostElementNative[LEXICON.oW] - (!_isBorderBox ? _paddingX : 0);\n            mouseDownSize.h = _hostElementNative[LEXICON.oH] - (!_isBorderBox ? _paddingY : 0);\n            mouseDownInvertedScale = getHostElementInvertedScale();\n            setupResponsiveEventListener(_documentElement, [_strSelectStartEvent, _strMouseTouchMoveEvent, _strMouseTouchUpEvent], [documentOnSelectStart, documentDragMove, documentMouseTouchUp]);\n            addClass(_bodyElement, _classNameDragging);\n            if (_scrollbarCornerElement.setCapture) _scrollbarCornerElement.setCapture();\n            COMPATIBILITY.prvD(event);\n            COMPATIBILITY.stpP(event);\n          }\n        });\n      } //==== Utils ====//\n\n      /**\r\n       * Calls the callback with the given name. The Context of this callback is always _base (this).\r\n       * @param name The name of the target which shall be called.\r\n       * @param args The args with which the callback shall be called.\r\n       * @param dependent Boolean which decides whether the callback shall be fired, undefined is like a \"true\" value.\r\n       */\n\n\n      function dispatchCallback(name, args, dependent) {\n        if (dependent === false) return;\n\n        if (_initialized) {\n          var callback = _currentPreparedOptions.callbacks[name];\n          var extensionOnName = name;\n          var ext;\n          if (extensionOnName.substr(0, 2) === 'on') extensionOnName = extensionOnName.substr(2, 1).toLowerCase() + extensionOnName.substr(3);\n          if (type(callback) == TYPES.f) callback.call(_base, args);\n          each(_extensions, function () {\n            ext = this;\n            if (type(ext.on) == TYPES.f) ext.on(extensionOnName, args);\n          });\n        } else if (!_destroyed) _callbacksInitQeueue.push({\n          n: name,\n          a: args\n        });\n      }\n      /**\r\n       * Sets the \"top, right, bottom, left\" properties, with a given prefix, of the given css object.\r\n       * @param targetCSSObject The css object to which the values shall be applied.\r\n       * @param prefix The prefix of the \"top, right, bottom, left\" css properties. (example: 'padding-' is a valid prefix)\r\n       * @param values A array of values which shall be applied to the \"top, right, bottom, left\" -properties. The array order is [top, right, bottom, left].\r\n       * If this argument is undefined the value '' (empty string) will be applied to all properties.\r\n       */\n\n\n      function setTopRightBottomLeft(targetCSSObject, prefix, values) {\n        prefix = prefix || _strEmpty;\n        values = values || [_strEmpty, _strEmpty, _strEmpty, _strEmpty];\n        targetCSSObject[prefix + _strTop] = values[0];\n        targetCSSObject[prefix + _strRight] = values[1];\n        targetCSSObject[prefix + _strBottom] = values[2];\n        targetCSSObject[prefix + _strLeft] = values[3];\n      }\n      /**\r\n       * Gets the \"top, right, bottom, left\" CSS properties of the CSS property with the given prefix from the host element.\r\n       * @param prefix The prefix of the \"top, right, bottom, left\" css properties. (example: 'padding-' is a valid prefix)\r\n       * @param suffix The suffix of the \"top, right, bottom, left\" css properties. (example: 'border-' is a valid prefix with '-width' is a valid suffix)\r\n       * @param zeroX True if the x axis shall be 0.\r\n       * @param zeroY True if the y axis shall be 0.\r\n       * @returns {{}} The object which contains the numbers of the read CSS properties.\r\n       */\n\n\n      function getTopRightBottomLeftHost(prefix, suffix, zeroX, zeroY) {\n        suffix = suffix || _strEmpty;\n        prefix = prefix || _strEmpty;\n        return {\n          t: zeroY ? 0 : parseToZeroOrNumber(_hostElement.css(prefix + _strTop + suffix)),\n          r: zeroX ? 0 : parseToZeroOrNumber(_hostElement.css(prefix + _strRight + suffix)),\n          b: zeroY ? 0 : parseToZeroOrNumber(_hostElement.css(prefix + _strBottom + suffix)),\n          l: zeroX ? 0 : parseToZeroOrNumber(_hostElement.css(prefix + _strLeft + suffix))\n        };\n      }\n      /**\r\n       * Returns the computed CSS transition string from the given element.\r\n       * @param element The element from which the transition string shall be returned.\r\n       * @returns {string} The CSS transition string from the given element.\r\n       */\n\n\n      function getCSSTransitionString(element) {\n        var transitionStr = VENDORS._cssProperty('transition');\n\n        var assembledValue = element.css(transitionStr);\n        if (assembledValue) return assembledValue;\n        var regExpString = '\\\\s*(' + '([^,(]+(\\\\(.+?\\\\))?)+' + ')[\\\\s,]*';\n        var regExpMain = new RegExp(regExpString);\n        var regExpValidate = new RegExp('^(' + regExpString + ')+$');\n        var properties = 'property duration timing-function delay'.split(' ');\n        var result = [];\n        var strResult;\n        var valueArray;\n        var i = 0;\n        var j;\n\n        var splitCssStyleByComma = function splitCssStyleByComma(str) {\n          strResult = [];\n          if (!str.match(regExpValidate)) return str;\n\n          while (str.match(regExpMain)) {\n            strResult.push(RegExp.$1);\n            str = str.replace(regExpMain, _strEmpty);\n          }\n\n          return strResult;\n        };\n\n        for (; i < properties[LEXICON.l]; i++) {\n          valueArray = splitCssStyleByComma(element.css(transitionStr + '-' + properties[i]));\n\n          for (j = 0; j < valueArray[LEXICON.l]; j++) {\n            result[j] = (result[j] ? result[j] + _strSpace : _strEmpty) + valueArray[j];\n          }\n        }\n\n        return result.join(', ');\n      }\n      /**\r\n       * Generates a Regular Expression which matches with a string which starts with 'os-host'.\r\n       * @param {boolean} withCurrClassNameOption The Regular Expression also matches if the string is the current ClassName option (multiple values splitted by space possible).\r\n       * @param {boolean} withOldClassNameOption The Regular Expression also matches if the string is the old ClassName option (multiple values splitted by space possible).\r\n       */\n\n\n      function createHostClassNameRegExp(withCurrClassNameOption, withOldClassNameOption) {\n        var i;\n        var split;\n        var appendix;\n\n        var appendClasses = function appendClasses(classes, condition) {\n          appendix = '';\n\n          if (condition && typeof classes == TYPES.s) {\n            split = classes.split(_strSpace);\n\n            for (i = 0; i < split[LEXICON.l]; i++) {\n              appendix += '|' + split[i] + '$';\n            } // split[i].replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') for escaping regex characters\n\n          }\n\n          return appendix;\n        };\n\n        return new RegExp('(^' + _classNameHostElement + '([-_].+|)$)' + appendClasses(_classNameCache, withCurrClassNameOption) + appendClasses(_oldClassName, withOldClassNameOption), 'g');\n      }\n      /**\r\n       * Calculates the host-elements inverted scale. (invertedScale = 1 / scale)\r\n       * @returns {{x: number, y: number}} The scale of the host-element.\r\n       */\n\n\n      function getHostElementInvertedScale() {\n        var rect = _paddingElementNative[LEXICON.bCR]();\n\n        return {\n          x: _supportTransform ? 1 / (MATH.round(rect.width) / _paddingElementNative[LEXICON.oW]) || 1 : 1,\n          y: _supportTransform ? 1 / (MATH.round(rect.height) / _paddingElementNative[LEXICON.oH]) || 1 : 1\n        };\n      }\n      /**\r\n       * Checks whether the given object is a HTMLElement.\r\n       * @param o The object which shall be checked.\r\n       * @returns {boolean} True the given object is a HTMLElement, false otherwise.\r\n       */\n\n\n      function isHTMLElement(o) {\n        var strOwnerDocument = 'ownerDocument';\n        var strHTMLElement = 'HTMLElement';\n        var wnd = o && o[strOwnerDocument] ? o[strOwnerDocument].parentWindow || window : window;\n        return typeof wnd[strHTMLElement] == TYPES.o ? o instanceof wnd[strHTMLElement] : //DOM2\n        o && typeof o == TYPES.o && o !== null && o.nodeType === 1 && typeof o.nodeName == TYPES.s;\n      }\n      /**\r\n       * Compares 2 arrays and returns the differences between them as a array.\r\n       * @param a1 The first array which shall be compared.\r\n       * @param a2 The second array which shall be compared.\r\n       * @returns {Array} The differences between the two arrays.\r\n       */\n\n\n      function getArrayDifferences(a1, a2) {\n        var a = [];\n        var diff = [];\n        var i;\n        var k;\n\n        for (i = 0; i < a1.length; i++) {\n          a[a1[i]] = true;\n        }\n\n        for (i = 0; i < a2.length; i++) {\n          if (a[a2[i]]) delete a[a2[i]];else a[a2[i]] = true;\n        }\n\n        for (k in a) {\n          diff.push(k);\n        }\n\n        return diff;\n      }\n      /**\r\n       * Returns Zero or the number to which the value can be parsed.\r\n       * @param value The value which shall be parsed.\r\n       * @param toFloat Indicates whether the number shall be parsed to a float.\r\n       */\n\n\n      function parseToZeroOrNumber(value, toFloat) {\n        var num = toFloat ? parseFloat(value) : parseInt(value, 10);\n        return isNaN(num) ? 0 : num;\n      }\n      /**\r\n       * Gets several information of the textarea and returns them as a object or undefined if the browser doesn't support it.\r\n       * @returns {{cursorRow: Number, cursorCol, rows: Number, cols: number, wRow: number, pos: number, max : number}} or undefined if not supported.\r\n       */\n\n\n      function getTextareaInfo() {\n        //read needed values\n        var textareaCursorPosition = _targetElementNative.selectionStart;\n        if (textareaCursorPosition === undefined) return;\n\n        var textareaValue = _targetElement.val();\n\n        var textareaLength = textareaValue[LEXICON.l];\n        var textareaRowSplit = textareaValue.split('\\n');\n        var textareaLastRow = textareaRowSplit[LEXICON.l];\n        var textareaCurrentCursorRowSplit = textareaValue.substr(0, textareaCursorPosition).split('\\n');\n        var widestRow = 0;\n        var textareaLastCol = 0;\n        var cursorRow = textareaCurrentCursorRowSplit[LEXICON.l];\n        var cursorCol = textareaCurrentCursorRowSplit[textareaCurrentCursorRowSplit[LEXICON.l] - 1][LEXICON.l];\n        var rowCols;\n        var i; //get widest Row and the last column of the textarea\n\n        for (i = 0; i < textareaRowSplit[LEXICON.l]; i++) {\n          rowCols = textareaRowSplit[i][LEXICON.l];\n\n          if (rowCols > textareaLastCol) {\n            widestRow = i + 1;\n            textareaLastCol = rowCols;\n          }\n        }\n\n        return {\n          _cursorRow: cursorRow,\n          //cursorRow\n          _cursorColumn: cursorCol,\n          //cursorCol\n          _rows: textareaLastRow,\n          //rows\n          _columns: textareaLastCol,\n          //cols\n          _widestRow: widestRow,\n          //wRow\n          _cursorPosition: textareaCursorPosition,\n          //pos\n          _cursorMax: textareaLength //max\n\n        };\n      }\n      /**\r\n       * Determines whether native overlay scrollbars are active.\r\n       * @returns {boolean} True if native overlay scrollbars are active, false otherwise.\r\n       */\n\n\n      function nativeOverlayScrollbarsAreActive() {\n        return _ignoreOverlayScrollbarHidingCache && _nativeScrollbarIsOverlaid.x && _nativeScrollbarIsOverlaid.y;\n      }\n      /**\r\n       * Gets the element which is used to measure the content size.\r\n       * @returns {*} TextareaCover if target element is textarea else the ContentElement.\r\n       */\n\n\n      function getContentMeasureElement() {\n        return _isTextarea ? _textareaCoverElement[0] : _contentElementNative;\n      }\n      /**\r\n       * Generates a string which represents a HTML div with the given classes or attributes.\r\n       * @param classesOrAttrs The class of the div as string or a object which represents the attributes of the div. (The class attribute can also be written as \"className\".)\r\n       * @param content The content of the div as string.\r\n       * @returns {string} The concated string which represents a HTML div and its content.\r\n       */\n\n\n      function generateDiv(classesOrAttrs, content) {\n        return '<div ' + (classesOrAttrs ? type(classesOrAttrs) == TYPES.s ? 'class=\"' + classesOrAttrs + '\"' : function () {\n          var key;\n          var attrs = _strEmpty;\n\n          if (FRAMEWORK.isPlainObject(classesOrAttrs)) {\n            for (key in classesOrAttrs) {\n              attrs += (key === 'c' ? 'class' : key) + '=\"' + classesOrAttrs[key] + '\" ';\n            }\n          }\n\n          return attrs;\n        }() : _strEmpty) + '>' + (content || _strEmpty) + '</div>';\n      }\n      /**\r\n       * Selects or generates a div with the given class attribute.\r\n       * @param className The class names (divided by spaces) of the div which shall be selected or generated.\r\n       * @param selectParentOrOnlyChildren The parent element from which of the element shall be selected. (if undefined or boolean its hostElement)\r\n       * If its a boolean it decides whether only the children of the host element shall be selected.\r\n       * @returns {*} The generated or selected element.\r\n       */\n\n\n      function selectOrGenerateDivByClass(className, selectParentOrOnlyChildren) {\n        var onlyChildren = type(selectParentOrOnlyChildren) == TYPES.b;\n        var selectParent = onlyChildren ? _hostElement : selectParentOrOnlyChildren || _hostElement;\n        return _domExists && !selectParent[LEXICON.l] ? null : _domExists ? selectParent[onlyChildren ? 'children' : 'find'](_strDot + className.replace(/\\s/g, _strDot)).eq(0) : FRAMEWORK(generateDiv(className));\n      }\n      /**\r\n       * Gets the value of the given property from the given object.\r\n       * @param obj The object from which the property value shall be got.\r\n       * @param path The property of which the value shall be got.\r\n       * @returns {*} Returns the value of the searched property or undefined of the property wasn't found.\r\n       */\n\n\n      function getObjectPropVal(obj, path) {\n        var splits = path.split(_strDot);\n        var i = 0;\n        var val;\n\n        for (; i < splits.length; i++) {\n          if (!obj[LEXICON.hOP](splits[i])) return;\n          val = obj[splits[i]];\n          if (i < splits.length && type(val) == TYPES.o) obj = val;\n        }\n\n        return val;\n      }\n      /**\r\n       * Sets the value of the given property from the given object.\r\n       * @param obj The object from which the property value shall be set.\r\n       * @param path The property of which the value shall be set.\r\n       * @param val The value of the property which shall be set.\r\n       */\n\n\n      function setObjectPropVal(obj, path, val) {\n        var splits = path.split(_strDot);\n        var splitsLength = splits.length;\n        var i = 0;\n        var extendObj = {};\n        var extendObjRoot = extendObj;\n\n        for (; i < splitsLength; i++) {\n          extendObj = extendObj[splits[i]] = i + 1 < splitsLength ? {} : val;\n        }\n\n        FRAMEWORK.extend(obj, extendObjRoot, true);\n      }\n      /**\t\r\n       * Runs a action for each selector inside the updateOnLoad option.\t\r\n       * @param {Function} action The action for each updateOnLoad selector, the arguments the function takes is the index and the value (the selector).\t\r\n       */\n\n\n      function eachUpdateOnLoad(action) {\n        var updateOnLoad = _currentPreparedOptions.updateOnLoad;\n        updateOnLoad = type(updateOnLoad) == TYPES.s ? updateOnLoad.split(_strSpace) : updateOnLoad;\n\n        if (COMPATIBILITY.isA(updateOnLoad) && !_destroyed) {\n          each(updateOnLoad, action);\n        }\n      } //==== Utils Cache ====//\n\n      /**\r\n       * Compares two values or objects and returns true if they aren't equal.\r\n       * @param current The first value or object which shall be compared.\r\n       * @param cache The second value or object which shall be compared.\r\n       * @param force If true the returned value is always true.\r\n       * @returns {boolean} True if both values or objects aren't equal or force is true, false otherwise.\r\n       */\n\n\n      function checkCache(current, cache, force) {\n        if (force) return force;\n\n        if (type(current) == TYPES.o && type(cache) == TYPES.o) {\n          for (var prop in current) {\n            if (prop !== 'c') {\n              if (current[LEXICON.hOP](prop) && cache[LEXICON.hOP](prop)) {\n                if (checkCache(current[prop], cache[prop])) return true;\n              } else {\n                return true;\n              }\n            }\n          }\n        } else {\n          return current !== cache;\n        }\n\n        return false;\n      } //==== Shortcuts ====//\n\n      /**\r\n       * jQuery extend method shortcut with a appended \"true\" as first argument.\r\n       */\n\n\n      function extendDeep() {\n        return FRAMEWORK.extend.apply(this, [true].concat([].slice.call(arguments)));\n      }\n      /**\r\n       * jQuery addClass method shortcut.\r\n       */\n\n\n      function addClass(el, classes) {\n        return _frameworkProto.addClass.call(el, classes);\n      }\n      /**\r\n       * jQuery removeClass method shortcut.\r\n       */\n\n\n      function removeClass(el, classes) {\n        return _frameworkProto.removeClass.call(el, classes);\n      }\n      /**\r\n       * Adds or removes the given classes dependent on the boolean value. True for add, false for remove.\r\n       */\n\n\n      function addRemoveClass(el, classes, doAdd) {\n        return doAdd ? addClass(el, classes) : removeClass(el, classes);\n      }\n      /**\r\n       * jQuery remove method shortcut.\r\n       */\n\n\n      function remove(el) {\n        return _frameworkProto.remove.call(el);\n      }\n      /**\r\n       * Finds the first child element with the given selector of the given element.\r\n       * @param el The root element from which the selector shall be valid.\r\n       * @param selector The selector of the searched element.\r\n       * @returns {*} The first element which is a child of the given element and matches the givens selector.\r\n       */\n\n\n      function findFirst(el, selector) {\n        return _frameworkProto.find.call(el, selector).eq(0);\n      } //==== API ====//\n\n      /**\r\n       * Puts the instance to sleep. It wont respond to any changes in the DOM and won't update. Scrollbar Interactivity is also disabled as well as the resize handle.\r\n       * This behavior can be reset by calling the update method.\r\n       */\n\n\n      _base.sleep = function () {\n        _sleeping = true;\n      };\n      /**\r\n       * Updates the plugin and DOM to the current options.\r\n       * This method should only be called if a update is 100% required.\r\n       * @param force True if every property shall be updated and the cache shall be ignored.\r\n       * !INTERNAL USAGE! : force can be a string \"auto\", \"sync\" or \"zoom\" too\r\n       * if \"auto\" then before a real update the content size and host element attributes gets checked, and if they changed only then the update method will be called.\r\n       * if \"sync\" then the async update process (MutationObserver or UpdateLoop) gets synchronized and a corresponding update takes place if one was needed due to pending changes.\r\n       * if \"zoom\" then a update takes place where it's assumed that content and host size changed\r\n       * @returns {boolean|undefined} \r\n       * If force is \"sync\" then a boolean is returned which indicates whether a update was needed due to pending changes.\r\n       * If force is \"auto\" then a boolean is returned whether a update was needed due to attribute or size changes.\r\n       * undefined otherwise.\r\n       */\n\n\n      _base.update = function (force) {\n        if (_destroyed) return;\n        var attrsChanged;\n        var contentSizeC;\n        var isString = type(force) == TYPES.s;\n        var doUpdateAuto;\n        var mutHost;\n        var mutContent;\n\n        if (isString) {\n          if (force === _strAuto) {\n            attrsChanged = meaningfulAttrsChanged();\n            contentSizeC = updateAutoContentSizeChanged();\n            doUpdateAuto = attrsChanged || contentSizeC;\n\n            if (doUpdateAuto) {\n              update({\n                _contentSizeChanged: contentSizeC,\n                _changedOptions: _initialized ? undefined : _currentPreparedOptions\n              });\n            }\n          } else if (force === _strSync) {\n            if (_mutationObserversConnected) {\n              mutHost = _mutationObserverHostCallback(_mutationObserverHost.takeRecords());\n              mutContent = _mutationObserverContentCallback(_mutationObserverContent.takeRecords());\n            } else {\n              mutHost = _base.update(_strAuto);\n            }\n          } else if (force === 'zoom') {\n            update({\n              _hostSizeChanged: true,\n              _contentSizeChanged: true\n            });\n          }\n        } else {\n          force = _sleeping || force;\n          _sleeping = false;\n          if (!_base.update(_strSync) || force) update({\n            _force: force\n          });\n        }\n\n        updateElementsOnLoad();\n        return doUpdateAuto || mutHost || mutContent;\n      };\n      /**\r\n       Gets or sets the current options. The update method will be called automatically if new options were set.\r\n       * @param newOptions If new options are given, then the new options will be set, if new options aren't given (undefined or a not a plain object) then the current options will be returned.\r\n       * @param value If new options is a property path string, then this value will be used to set the option to which the property path string leads.\r\n       * @returns {*}\r\n       */\n\n\n      _base.options = function (newOptions, value) {\n        var option = {};\n        var changedOps; //return current options if newOptions are undefined or empty\n\n        if (FRAMEWORK.isEmptyObject(newOptions) || !FRAMEWORK.isPlainObject(newOptions)) {\n          if (type(newOptions) == TYPES.s) {\n            if (arguments.length > 1) {\n              setObjectPropVal(option, newOptions, value);\n              changedOps = setOptions(option);\n            } else return getObjectPropVal(_currentOptions, newOptions);\n          } else return _currentOptions;\n        } else {\n          changedOps = setOptions(newOptions);\n        }\n\n        if (!FRAMEWORK.isEmptyObject(changedOps)) {\n          update({\n            _changedOptions: changedOps\n          });\n        }\n      };\n      /**\r\n       * Restore the DOM, disconnects all observers, remove all resize observers and put the instance to sleep.\r\n       */\n\n\n      _base.destroy = function () {\n        if (_destroyed) return; //remove this instance from auto update loop\n\n        autoUpdateLoop.remove(_base); //disconnect all mutation observers\n\n        disconnectMutationObservers(); //remove all resize observers\n\n        setupResizeObserver(_sizeObserverElement);\n        setupResizeObserver(_sizeAutoObserverElement); //remove all extensions\n\n        for (var extName in _extensions) {\n          _base.removeExt(extName);\n        } //remove all 'destroy' events\n\n\n        while (_destroyEvents[LEXICON.l] > 0) {\n          _destroyEvents.pop()();\n        } //remove all events from host element\n\n\n        setupHostMouseTouchEvents(true); //remove all helper / detection elements\n\n        if (_contentGlueElement) remove(_contentGlueElement);\n        if (_contentArrangeElement) remove(_contentArrangeElement);\n        if (_sizeAutoObserverAdded) remove(_sizeAutoObserverElement); //remove all generated DOM\n\n        setupScrollbarsDOM(true);\n        setupScrollbarCornerDOM(true);\n        setupStructureDOM(true); //remove all generated image load events\n\n        for (var i = 0; i < _updateOnLoadElms[LEXICON.l]; i++) {\n          FRAMEWORK(_updateOnLoadElms[i]).off(_updateOnLoadEventName, updateOnLoadCallback);\n        }\n\n        _updateOnLoadElms = undefined;\n        _destroyed = true;\n        _sleeping = true; //remove this instance from the instances list\n\n        INSTANCES(pluginTargetElement, 0);\n        dispatchCallback('onDestroyed'); //remove all properties and methods\n        //for (var property in _base)\n        //    delete _base[property];\n        //_base = undefined;\n      };\n      /**\r\n       * Scrolls to a given position or element.\r\n       * @param coordinates\r\n       * 1. Can be \"coordinates\" which looks like:\r\n       *    { x : ?, y : ? } OR          Object with x and y properties\r\n       *    { left : ?, top : ? } OR     Object with left and top properties\r\n       *    { l : ?, t : ? } OR          Object with l and t properties\r\n       *    [ ?, ? ] OR                  Array where the first two element are the coordinates (first is x, second is y)\r\n       *    ?                            A single value which stays for both axis\r\n       *    A value can be a number, a string or a calculation.\r\n       *\r\n       *    Operators:\r\n       *    [NONE]  The current scroll will be overwritten by the value.\r\n       *    '+='    The value will be added to the current scroll offset\r\n       *    '-='    The value will be subtracted from the current scroll offset\r\n       *    '*='    The current scroll wil be multiplicated by the value.\r\n       *    '/='    The current scroll wil be divided by the value.\r\n       *\r\n       *    Units:\r\n       *    [NONE]  The value is the final scroll amount.                   final = (value * 1)\r\n       *    'px'    Same as none\r\n       *    '%'     The value is dependent on the current scroll value.     final = ((currentScrollValue / 100) * value)\r\n       *    'vw'    The value is multiplicated by the viewport width.       final = (value * viewportWidth)\r\n       *    'vh'    The value is multiplicated by the viewport height.      final = (value * viewportHeight)\r\n       *\r\n       *    example final values:\r\n       *    200, '200px', '50%', '1vw', '1vh', '+=200', '/=1vw', '*=2px', '-=5vh', '+=33%', '+= 50% - 2px', '-= 1vw - 50%'\r\n       *\r\n       * 2. Can be a HTML or jQuery element:\r\n       *    The final scroll offset is the offset (without margin) of the given HTML / jQuery element.\r\n       *\r\n       * 3. Can be a object with a HTML or jQuery element with additional settings:\r\n       *    {\r\n       *      el : [HTMLElement, jQuery element],             MUST be specified, else this object isn't valid.\r\n       *      scroll : [string, array, object],               Default value is 'always'.\r\n       *      block : [string, array, object],                Default value is 'begin'.\r\n       *      margin : [number, boolean, array, object]       Default value is false.\r\n       *    }\r\n       *\r\n       *    Possible scroll settings are:\r\n       *    'always'      Scrolls always.\r\n       *    'ifneeded'    Scrolls only if the element isnt fully in view.\r\n       *    'never'       Scrolls never.\r\n       *\r\n       *    Possible block settings are:\r\n       *    'begin'   Both axis shall be docked to the \"begin\" edge. - The element will be docked to the top and left edge of the viewport.\r\n       *    'end'     Both axis shall be docked to the \"end\" edge. - The element will be docked to the bottom and right edge of the viewport. (If direction is RTL to the bottom and left edge.)\r\n       *    'center'  Both axis shall be docked to \"center\". - The element will be centered in the viewport.\r\n       *    'nearest' The element will be docked to the nearest edge(s).\r\n       *\r\n       *    Possible margin settings are: -- The actual margin of the element wont be affect, this option affects only the final scroll offset.\r\n       *    [BOOLEAN]                                         If true the css margin of the element will be used, if false no margin will be used.\r\n       *    [NUMBER]                                          The margin will be used for all edges.\r\n       *\r\n       * @param duration The duration of the scroll animation, OR a jQuery animation configuration object.\r\n       * @param easing The animation easing.\r\n       * @param complete The animation complete callback.\r\n       * @returns {{\r\n       *   position: {x: number, y: number},\r\n       *   ratio: {x: number, y: number},\r\n       *   max: {x: number, y: number},\r\n       *   handleOffset: {x: number, y: number},\r\n       *   handleLength: {x: number, y: number},\r\n       *   handleLengthRatio: {x: number, y: number}, t\r\n       *   rackLength: {x: number, y: number},\r\n       *   isRTL: boolean,\r\n       *   isRTLNormalized: boolean\r\n       *  }}\r\n       */\n\n\n      _base.scroll = function (coordinates, duration, easing, complete) {\n        if (arguments.length === 0 || coordinates === undefined) {\n          var infoX = _scrollHorizontalInfo;\n          var infoY = _scrollVerticalInfo;\n          var normalizeInvert = _normalizeRTLCache && _isRTL && _rtlScrollBehavior.i;\n          var normalizeNegate = _normalizeRTLCache && _isRTL && _rtlScrollBehavior.n;\n          var scrollX = infoX._currentScroll;\n          var scrollXRatio = infoX._currentScrollRatio;\n          var maxScrollX = infoX._maxScroll;\n          scrollXRatio = normalizeInvert ? 1 - scrollXRatio : scrollXRatio;\n          scrollX = normalizeInvert ? maxScrollX - scrollX : scrollX;\n          scrollX *= normalizeNegate ? -1 : 1;\n          maxScrollX *= normalizeNegate ? -1 : 1;\n          return {\n            position: {\n              x: scrollX,\n              y: infoY._currentScroll\n            },\n            ratio: {\n              x: scrollXRatio,\n              y: infoY._currentScrollRatio\n            },\n            max: {\n              x: maxScrollX,\n              y: infoY._maxScroll\n            },\n            handleOffset: {\n              x: infoX._handleOffset,\n              y: infoY._handleOffset\n            },\n            handleLength: {\n              x: infoX._handleLength,\n              y: infoY._handleLength\n            },\n            handleLengthRatio: {\n              x: infoX._handleLengthRatio,\n              y: infoY._handleLengthRatio\n            },\n            trackLength: {\n              x: infoX._trackLength,\n              y: infoY._trackLength\n            },\n            snappedHandleOffset: {\n              x: infoX._snappedHandleOffset,\n              y: infoY._snappedHandleOffset\n            },\n            isRTL: _isRTL,\n            isRTLNormalized: _normalizeRTLCache\n          };\n        }\n\n        _base.update(_strSync);\n\n        var normalizeRTL = _normalizeRTLCache;\n        var coordinatesXAxisProps = [_strX, _strLeft, 'l'];\n        var coordinatesYAxisProps = [_strY, _strTop, 't'];\n        var coordinatesOperators = ['+=', '-=', '*=', '/='];\n        var durationIsObject = type(duration) == TYPES.o;\n        var completeCallback = durationIsObject ? duration.complete : complete;\n        var i;\n        var finalScroll = {};\n        var specialEasing = {};\n        var doScrollLeft;\n        var doScrollTop;\n        var animationOptions;\n        var strEnd = 'end';\n        var strBegin = 'begin';\n        var strCenter = 'center';\n        var strNearest = 'nearest';\n        var strAlways = 'always';\n        var strNever = 'never';\n        var strIfNeeded = 'ifneeded';\n        var strLength = LEXICON.l;\n        var settingsAxis;\n        var settingsScroll;\n        var settingsBlock;\n        var settingsMargin;\n        var finalElement;\n        var elementObjSettingsAxisValues = [_strX, _strY, 'xy', 'yx'];\n        var elementObjSettingsBlockValues = [strBegin, strEnd, strCenter, strNearest];\n        var elementObjSettingsScrollValues = [strAlways, strNever, strIfNeeded];\n        var coordinatesIsElementObj = coordinates[LEXICON.hOP]('el');\n        var possibleElement = coordinatesIsElementObj ? coordinates.el : coordinates;\n        var possibleElementIsJQuery = possibleElement instanceof FRAMEWORK || JQUERY ? possibleElement instanceof JQUERY : false;\n        var possibleElementIsHTMLElement = possibleElementIsJQuery ? false : isHTMLElement(possibleElement);\n\n        var updateScrollbarInfos = function updateScrollbarInfos() {\n          if (doScrollLeft) refreshScrollbarHandleOffset(true);\n          if (doScrollTop) refreshScrollbarHandleOffset(false);\n        };\n\n        var proxyCompleteCallback = type(completeCallback) != TYPES.f ? undefined : function () {\n          updateScrollbarInfos();\n          completeCallback();\n        };\n\n        function checkSettingsStringValue(currValue, allowedValues) {\n          for (i = 0; i < allowedValues[strLength]; i++) {\n            if (currValue === allowedValues[i]) return true;\n          }\n\n          return false;\n        }\n\n        function getRawScroll(isX, coordinates) {\n          var coordinateProps = isX ? coordinatesXAxisProps : coordinatesYAxisProps;\n          coordinates = type(coordinates) == TYPES.s || type(coordinates) == TYPES.n ? [coordinates, coordinates] : coordinates;\n          if (COMPATIBILITY.isA(coordinates)) return isX ? coordinates[0] : coordinates[1];else if (type(coordinates) == TYPES.o) {\n            //decides RTL normalization \"hack\" with .n\n            //normalizeRTL = type(coordinates.n) == TYPES.b ? coordinates.n : normalizeRTL; \n            for (i = 0; i < coordinateProps[strLength]; i++) {\n              if (coordinateProps[i] in coordinates) return coordinates[coordinateProps[i]];\n            }\n          }\n        }\n\n        function getFinalScroll(isX, rawScroll) {\n          var isString = type(rawScroll) == TYPES.s;\n          var operator;\n          var amount;\n          var scrollInfo = isX ? _scrollHorizontalInfo : _scrollVerticalInfo;\n          var currScroll = scrollInfo._currentScroll;\n          var maxScroll = scrollInfo._maxScroll;\n          var mult = ' * ';\n          var finalValue;\n          var isRTLisX = _isRTL && isX;\n          var normalizeShortcuts = isRTLisX && _rtlScrollBehavior.n && !normalizeRTL;\n          var strReplace = 'replace';\n          var evalFunc = eval;\n          var possibleOperator;\n\n          if (isString) {\n            //check operator\n            if (rawScroll[strLength] > 2) {\n              possibleOperator = rawScroll.substr(0, 2);\n              if (inArray(possibleOperator, coordinatesOperators) > -1) operator = possibleOperator;\n            } //calculate units and shortcuts\n\n\n            rawScroll = operator ? rawScroll.substr(2) : rawScroll;\n            rawScroll = rawScroll[strReplace](/min/g, 0) //'min' = 0%\n            [strReplace](/</g, 0) //'<'   = 0%\n            [strReplace](/max/g, (normalizeShortcuts ? '-' : _strEmpty) + _strHundredPercent) //'max' = 100%\n            [strReplace](/>/g, (normalizeShortcuts ? '-' : _strEmpty) + _strHundredPercent) //'>'   = 100%\n            [strReplace](/px/g, _strEmpty)[strReplace](/%/g, mult + maxScroll * (isRTLisX && _rtlScrollBehavior.n ? -1 : 1) / 100.0)[strReplace](/vw/g, mult + _viewportSize.w)[strReplace](/vh/g, mult + _viewportSize.h);\n            amount = parseToZeroOrNumber(isNaN(rawScroll) ? parseToZeroOrNumber(evalFunc(rawScroll), true).toFixed() : rawScroll);\n          } else {\n            amount = rawScroll;\n          }\n\n          if (amount !== undefined && !isNaN(amount) && type(amount) == TYPES.n) {\n            var normalizeIsRTLisX = normalizeRTL && isRTLisX;\n            var operatorCurrScroll = currScroll * (normalizeIsRTLisX && _rtlScrollBehavior.n ? -1 : 1);\n            var invert = normalizeIsRTLisX && _rtlScrollBehavior.i;\n            var negate = normalizeIsRTLisX && _rtlScrollBehavior.n;\n            operatorCurrScroll = invert ? maxScroll - operatorCurrScroll : operatorCurrScroll;\n\n            switch (operator) {\n              case '+=':\n                finalValue = operatorCurrScroll + amount;\n                break;\n\n              case '-=':\n                finalValue = operatorCurrScroll - amount;\n                break;\n\n              case '*=':\n                finalValue = operatorCurrScroll * amount;\n                break;\n\n              case '/=':\n                finalValue = operatorCurrScroll / amount;\n                break;\n\n              default:\n                finalValue = amount;\n                break;\n            }\n\n            finalValue = invert ? maxScroll - finalValue : finalValue;\n            finalValue *= negate ? -1 : 1;\n            finalValue = isRTLisX && _rtlScrollBehavior.n ? MATH.min(0, MATH.max(maxScroll, finalValue)) : MATH.max(0, MATH.min(maxScroll, finalValue));\n          }\n\n          return finalValue === currScroll ? undefined : finalValue;\n        }\n\n        function getPerAxisValue(value, valueInternalType, defaultValue, allowedValues) {\n          var resultDefault = [defaultValue, defaultValue];\n          var valueType = type(value);\n          var valueArrLength;\n          var valueArrItem; //value can be [ string, or array of two strings ]\n\n          if (valueType == valueInternalType) {\n            value = [value, value];\n          } else if (valueType == TYPES.a) {\n            valueArrLength = value[strLength];\n            if (valueArrLength > 2 || valueArrLength < 1) value = resultDefault;else {\n              if (valueArrLength === 1) value[1] = defaultValue;\n\n              for (i = 0; i < valueArrLength; i++) {\n                valueArrItem = value[i];\n\n                if (type(valueArrItem) != valueInternalType || !checkSettingsStringValue(valueArrItem, allowedValues)) {\n                  value = resultDefault;\n                  break;\n                }\n              }\n            }\n          } else if (valueType == TYPES.o) value = [value[_strX] || defaultValue, value[_strY] || defaultValue];else value = resultDefault;\n\n          return {\n            x: value[0],\n            y: value[1]\n          };\n        }\n\n        function generateMargin(marginTopRightBottomLeftArray) {\n          var result = [];\n          var currValue;\n          var currValueType;\n          var valueDirections = [_strTop, _strRight, _strBottom, _strLeft];\n\n          for (i = 0; i < marginTopRightBottomLeftArray[strLength]; i++) {\n            if (i === valueDirections[strLength]) break;\n            currValue = marginTopRightBottomLeftArray[i];\n            currValueType = type(currValue);\n            if (currValueType == TYPES.b) result.push(currValue ? parseToZeroOrNumber(finalElement.css(_strMarginMinus + valueDirections[i])) : 0);else result.push(currValueType == TYPES.n ? currValue : 0);\n          }\n\n          return result;\n        }\n\n        if (possibleElementIsJQuery || possibleElementIsHTMLElement) {\n          //get settings\n          var margin = coordinatesIsElementObj ? coordinates.margin : 0;\n          var axis = coordinatesIsElementObj ? coordinates.axis : 0;\n          var scroll = coordinatesIsElementObj ? coordinates.scroll : 0;\n          var block = coordinatesIsElementObj ? coordinates.block : 0;\n          var marginDefault = [0, 0, 0, 0];\n          var marginType = type(margin);\n          var marginLength;\n          finalElement = possibleElementIsJQuery ? possibleElement : FRAMEWORK(possibleElement);\n\n          if (finalElement[strLength] > 0) {\n            //margin can be [ boolean, number, array of 2, array of 4, object ]\n            if (marginType == TYPES.n || marginType == TYPES.b) margin = generateMargin([margin, margin, margin, margin]);else if (marginType == TYPES.a) {\n              marginLength = margin[strLength];\n              if (marginLength === 2) margin = generateMargin([margin[0], margin[1], margin[0], margin[1]]);else if (marginLength >= 4) margin = generateMargin(margin);else margin = marginDefault;\n            } else if (marginType == TYPES.o) margin = generateMargin([margin[_strTop], margin[_strRight], margin[_strBottom], margin[_strLeft]]);else margin = marginDefault; //block = type(block) === TYPES.b ? block ? [ strNearest, strBegin ] : [ strNearest, strEnd ] : block;\n\n            settingsAxis = checkSettingsStringValue(axis, elementObjSettingsAxisValues) ? axis : 'xy';\n            settingsScroll = getPerAxisValue(scroll, TYPES.s, strAlways, elementObjSettingsScrollValues);\n            settingsBlock = getPerAxisValue(block, TYPES.s, strBegin, elementObjSettingsBlockValues);\n            settingsMargin = margin;\n            var viewportScroll = {\n              l: _scrollHorizontalInfo._currentScroll,\n              t: _scrollVerticalInfo._currentScroll\n            }; // use padding element instead of viewport element because padding element has never padding, margin or position applied.\n\n            var viewportOffset = _paddingElement.offset(); //get coordinates\n\n\n            var elementOffset = finalElement.offset();\n            var doNotScroll = {\n              x: settingsScroll.x == strNever || settingsAxis == _strY,\n              y: settingsScroll.y == strNever || settingsAxis == _strX\n            };\n            elementOffset[_strTop] -= settingsMargin[0];\n            elementOffset[_strLeft] -= settingsMargin[3];\n            var elementScrollCoordinates = {\n              x: MATH.round(elementOffset[_strLeft] - viewportOffset[_strLeft] + viewportScroll.l),\n              y: MATH.round(elementOffset[_strTop] - viewportOffset[_strTop] + viewportScroll.t)\n            };\n\n            if (_isRTL) {\n              if (!_rtlScrollBehavior.n && !_rtlScrollBehavior.i) elementScrollCoordinates.x = MATH.round(viewportOffset[_strLeft] - elementOffset[_strLeft] + viewportScroll.l);\n              if (_rtlScrollBehavior.n && normalizeRTL) elementScrollCoordinates.x *= -1;\n              if (_rtlScrollBehavior.i && normalizeRTL) elementScrollCoordinates.x = MATH.round(viewportOffset[_strLeft] - elementOffset[_strLeft] + (_scrollHorizontalInfo._maxScroll - viewportScroll.l));\n            } //measuring is required\n\n\n            if (settingsBlock.x != strBegin || settingsBlock.y != strBegin || settingsScroll.x == strIfNeeded || settingsScroll.y == strIfNeeded || _isRTL) {\n              var measuringElm = finalElement[0];\n              var rawElementSize = _supportTransform ? measuringElm[LEXICON.bCR]() : {\n                width: measuringElm[LEXICON.oW],\n                height: measuringElm[LEXICON.oH]\n              };\n              var elementSize = {\n                w: rawElementSize[_strWidth] + settingsMargin[3] + settingsMargin[1],\n                h: rawElementSize[_strHeight] + settingsMargin[0] + settingsMargin[2]\n              };\n\n              var finalizeBlock = function finalizeBlock(isX) {\n                var vars = getScrollbarVars(isX);\n                var wh = vars._w_h;\n                var lt = vars._left_top;\n                var xy = vars._x_y;\n                var blockIsEnd = settingsBlock[xy] == (isX ? _isRTL ? strBegin : strEnd : strEnd);\n                var blockIsCenter = settingsBlock[xy] == strCenter;\n                var blockIsNearest = settingsBlock[xy] == strNearest;\n                var scrollNever = settingsScroll[xy] == strNever;\n                var scrollIfNeeded = settingsScroll[xy] == strIfNeeded;\n                var vpSize = _viewportSize[wh];\n                var vpOffset = viewportOffset[lt];\n                var elSize = elementSize[wh];\n                var elOffset = elementOffset[lt];\n                var divide = blockIsCenter ? 2 : 1;\n                var elementCenterOffset = elOffset + elSize / 2;\n                var viewportCenterOffset = vpOffset + vpSize / 2;\n                var isInView = elSize <= vpSize && elOffset >= vpOffset && elOffset + elSize <= vpOffset + vpSize;\n                if (scrollNever) doNotScroll[xy] = true;else if (!doNotScroll[xy]) {\n                  if (blockIsNearest || scrollIfNeeded) {\n                    doNotScroll[xy] = scrollIfNeeded ? isInView : false;\n                    blockIsEnd = elSize < vpSize ? elementCenterOffset > viewportCenterOffset : elementCenterOffset < viewportCenterOffset;\n                  }\n\n                  elementScrollCoordinates[xy] -= blockIsEnd || blockIsCenter ? (vpSize / divide - elSize / divide) * (isX && _isRTL && normalizeRTL ? -1 : 1) : 0;\n                }\n              };\n\n              finalizeBlock(true);\n              finalizeBlock(false);\n            }\n\n            if (doNotScroll.y) delete elementScrollCoordinates.y;\n            if (doNotScroll.x) delete elementScrollCoordinates.x;\n            coordinates = elementScrollCoordinates;\n          }\n        }\n\n        finalScroll[_strScrollLeft] = getFinalScroll(true, getRawScroll(true, coordinates));\n        finalScroll[_strScrollTop] = getFinalScroll(false, getRawScroll(false, coordinates));\n        doScrollLeft = finalScroll[_strScrollLeft] !== undefined;\n        doScrollTop = finalScroll[_strScrollTop] !== undefined;\n\n        if ((doScrollLeft || doScrollTop) && (duration > 0 || durationIsObject)) {\n          if (durationIsObject) {\n            duration.complete = proxyCompleteCallback;\n\n            _viewportElement.animate(finalScroll, duration);\n          } else {\n            animationOptions = {\n              duration: duration,\n              complete: proxyCompleteCallback\n            };\n\n            if (COMPATIBILITY.isA(easing) || FRAMEWORK.isPlainObject(easing)) {\n              specialEasing[_strScrollLeft] = easing[0] || easing.x;\n              specialEasing[_strScrollTop] = easing[1] || easing.y;\n              animationOptions.specialEasing = specialEasing;\n            } else {\n              animationOptions.easing = easing;\n            }\n\n            _viewportElement.animate(finalScroll, animationOptions);\n          }\n        } else {\n          if (doScrollLeft) _viewportElement[_strScrollLeft](finalScroll[_strScrollLeft]);\n          if (doScrollTop) _viewportElement[_strScrollTop](finalScroll[_strScrollTop]);\n          updateScrollbarInfos();\n        }\n      };\n      /**\r\n       * Stops all scroll animations.\r\n       * @returns {*} The current OverlayScrollbars instance (for chaining).\r\n       */\n\n\n      _base.scrollStop = function (param1, param2, param3) {\n        _viewportElement.stop(param1, param2, param3);\n\n        return _base;\n      };\n      /**\r\n       * Returns all relevant elements.\r\n       * @param elementName The name of the element which shall be returned.\r\n       * @returns {{target: *, host: *, padding: *, viewport: *, content: *, scrollbarHorizontal: {scrollbar: *, track: *, handle: *}, scrollbarVertical: {scrollbar: *, track: *, handle: *}, scrollbarCorner: *} | *}\r\n       */\n\n\n      _base.getElements = function (elementName) {\n        var obj = {\n          target: _targetElementNative,\n          host: _hostElementNative,\n          padding: _paddingElementNative,\n          viewport: _viewportElementNative,\n          content: _contentElementNative,\n          scrollbarHorizontal: {\n            scrollbar: _scrollbarHorizontalElement[0],\n            track: _scrollbarHorizontalTrackElement[0],\n            handle: _scrollbarHorizontalHandleElement[0]\n          },\n          scrollbarVertical: {\n            scrollbar: _scrollbarVerticalElement[0],\n            track: _scrollbarVerticalTrackElement[0],\n            handle: _scrollbarVerticalHandleElement[0]\n          },\n          scrollbarCorner: _scrollbarCornerElement[0]\n        };\n        return type(elementName) == TYPES.s ? getObjectPropVal(obj, elementName) : obj;\n      };\n      /**\r\n       * Returns a object which describes the current state of this instance.\r\n       * @param stateProperty A specific property from the state object which shall be returned.\r\n       * @returns {{widthAuto, heightAuto, overflowAmount, hideOverflow, hasOverflow, contentScrollSize, viewportSize, hostSize, autoUpdate} | *}\r\n       */\n\n\n      _base.getState = function (stateProperty) {\n        function prepare(obj) {\n          if (!FRAMEWORK.isPlainObject(obj)) return obj;\n          var extended = extendDeep({}, obj);\n\n          var changePropertyName = function changePropertyName(from, to) {\n            if (extended[LEXICON.hOP](from)) {\n              extended[to] = extended[from];\n              delete extended[from];\n            }\n          };\n\n          changePropertyName('w', _strWidth); //change w to width\n\n          changePropertyName('h', _strHeight); //change h to height\n\n          delete extended.c; //delete c (the 'changed' prop)\n\n          return extended;\n        }\n\n        ;\n        var obj = {\n          destroyed: !!prepare(_destroyed),\n          sleeping: !!prepare(_sleeping),\n          autoUpdate: prepare(!_mutationObserversConnected),\n          widthAuto: prepare(_widthAutoCache),\n          heightAuto: prepare(_heightAutoCache),\n          padding: prepare(_cssPaddingCache),\n          overflowAmount: prepare(_overflowAmountCache),\n          hideOverflow: prepare(_hideOverflowCache),\n          hasOverflow: prepare(_hasOverflowCache),\n          contentScrollSize: prepare(_contentScrollSizeCache),\n          viewportSize: prepare(_viewportSize),\n          hostSize: prepare(_hostSizeCache),\n          documentMixed: prepare(_documentMixed)\n        };\n        return type(stateProperty) == TYPES.s ? getObjectPropVal(obj, stateProperty) : obj;\n      };\n      /**\r\n       * Gets all or specific extension instance.\r\n       * @param extName The name of the extension from which the instance shall be got.\r\n       * @returns {{}} The instance of the extension with the given name or undefined if the instance couldn't be found.\r\n       */\n\n\n      _base.ext = function (extName) {\n        var result;\n\n        var privateMethods = _extensionsPrivateMethods.split(' ');\n\n        var i = 0;\n\n        if (type(extName) == TYPES.s) {\n          if (_extensions[LEXICON.hOP](extName)) {\n            result = extendDeep({}, _extensions[extName]);\n\n            for (; i < privateMethods.length; i++) {\n              delete result[privateMethods[i]];\n            }\n          }\n        } else {\n          result = {};\n\n          for (i in _extensions) {\n            result[i] = extendDeep({}, _base.ext(i));\n          }\n        }\n\n        return result;\n      };\n      /**\r\n       * Adds a extension to this instance.\r\n       * @param extName The name of the extension which shall be added.\r\n       * @param extensionOptions The extension options which shall be used.\r\n       * @returns {{}} The instance of the added extension or undefined if the extension couldn't be added properly.\r\n       */\n\n\n      _base.addExt = function (extName, extensionOptions) {\n        var registeredExtensionObj = _plugin.extension(extName);\n\n        var instance;\n        var instanceAdded;\n        var instanceContract;\n        var contractResult;\n        var contractFulfilled = true;\n\n        if (registeredExtensionObj) {\n          if (!_extensions[LEXICON.hOP](extName)) {\n            instance = registeredExtensionObj.extensionFactory.call(_base, extendDeep({}, registeredExtensionObj.defaultOptions), FRAMEWORK, COMPATIBILITY);\n\n            if (instance) {\n              instanceContract = instance.contract;\n\n              if (type(instanceContract) == TYPES.f) {\n                contractResult = instanceContract(window);\n                contractFulfilled = type(contractResult) == TYPES.b ? contractResult : contractFulfilled;\n              }\n\n              if (contractFulfilled) {\n                _extensions[extName] = instance;\n                instanceAdded = instance.added;\n                if (type(instanceAdded) == TYPES.f) instanceAdded(extensionOptions);\n                return _base.ext(extName);\n              }\n            }\n          } else return _base.ext(extName);\n        } else console.warn(\"A extension with the name \\\"\" + extName + \"\\\" isn't registered.\");\n      };\n      /**\r\n       * Removes a extension from this instance.\r\n       * @param extName The name of the extension which shall be removed.\r\n       * @returns {boolean} True if the extension was removed, false otherwise e.g. if the extension wasn't added before.\r\n       */\n\n\n      _base.removeExt = function (extName) {\n        var instance = _extensions[extName];\n        var instanceRemoved;\n\n        if (instance) {\n          delete _extensions[extName];\n          instanceRemoved = instance.removed;\n          if (type(instanceRemoved) == TYPES.f) instanceRemoved();\n          return true;\n        }\n\n        return false;\n      };\n      /**\r\n       * Constructs the plugin.\r\n       * @param targetElement The element to which the plugin shall be applied.\r\n       * @param options The initial options of the plugin.\r\n       * @param extensions The extension(s) which shall be added right after the initialization.\r\n       * @returns {boolean} True if the plugin was successfully initialized, false otherwise.\r\n       */\n\n\n      function construct(targetElement, options, extensions) {\n        _defaultOptions = globals.defaultOptions;\n        _nativeScrollbarStyling = globals.nativeScrollbarStyling;\n        _nativeScrollbarSize = extendDeep({}, globals.nativeScrollbarSize);\n        _nativeScrollbarIsOverlaid = extendDeep({}, globals.nativeScrollbarIsOverlaid);\n        _overlayScrollbarDummySize = extendDeep({}, globals.overlayScrollbarDummySize);\n        _rtlScrollBehavior = extendDeep({}, globals.rtlScrollBehavior); //parse & set options but don't update\n\n        setOptions(extendDeep({}, _defaultOptions, options));\n        _cssCalc = globals.cssCalc;\n        _msieVersion = globals.msie;\n        _autoUpdateRecommended = globals.autoUpdateRecommended;\n        _supportTransition = globals.supportTransition;\n        _supportTransform = globals.supportTransform;\n        _supportPassiveEvents = globals.supportPassiveEvents;\n        _supportResizeObserver = globals.supportResizeObserver;\n        _supportMutationObserver = globals.supportMutationObserver;\n        _restrictedMeasuring = globals.restrictedMeasuring;\n        _documentElement = FRAMEWORK(targetElement.ownerDocument);\n        _documentElementNative = _documentElement[0];\n        _windowElement = FRAMEWORK(_documentElementNative.defaultView || _documentElementNative.parentWindow);\n        _windowElementNative = _windowElement[0];\n        _htmlElement = findFirst(_documentElement, 'html');\n        _bodyElement = findFirst(_htmlElement, 'body');\n        _targetElement = FRAMEWORK(targetElement);\n        _targetElementNative = _targetElement[0];\n        _isTextarea = _targetElement.is('textarea');\n        _isBody = _targetElement.is('body');\n        _documentMixed = _documentElementNative !== document;\n        /* On a div Element The if checks only whether:\r\n         * - the targetElement has the class \"os-host\"\r\n         * - the targetElement has a a child with the class \"os-padding\"\r\n         * \r\n         * If that's the case, its assumed the DOM has already the following structure:\r\n         * (The \".os-host\" element is the targetElement)\r\n         *\r\n         *  <div class=\"os-host\">\r\n         *      <div class=\"os-resize-observer-host\"></div>\r\n         *      <div class=\"os-padding\">\r\n         *          <div class=\"os-viewport\">\r\n         *              <div class=\"os-content\"></div>\r\n         *          </div>\r\n         *      </div>\r\n         *      <div class=\"os-scrollbar os-scrollbar-horizontal \">\r\n         *          <div class=\"os-scrollbar-track\">\r\n         *              <div class=\"os-scrollbar-handle\"></div>\r\n         *          </div>\r\n         *      </div>\r\n         *      <div class=\"os-scrollbar os-scrollbar-vertical\">\r\n         *          <div class=\"os-scrollbar-track\">\r\n         *              <div class=\"os-scrollbar-handle\"></div>\r\n         *          </div>\r\n         *      </div>\r\n         *      <div class=\"os-scrollbar-corner\"></div>\r\n         *  </div>\r\n         *\r\n         * =====================================================================================\r\n         * \r\n         * On a Textarea Element The if checks only whether:\r\n         * - the targetElement has the class \"os-textarea\" \r\n         * - the targetElement is inside a element with the class \"os-content\" \r\n         * \r\n         * If that's the case, its assumed the DOM has already the following structure:\r\n         * (The \".os-textarea\" (textarea) element is the targetElement)\r\n         *\r\n         *  <div class=\"os-host-textarea\">\r\n         *      <div class=\"os-resize-observer-host\"></div>\r\n         *      <div class=\"os-padding os-text-inherit\">\r\n         *          <div class=\"os-viewport os-text-inherit\">\r\n         *              <div class=\"os-content os-text-inherit\">\r\n         *                  <div class=\"os-textarea-cover\"></div>\r\n         *                  <textarea class=\"os-textarea os-text-inherit\"></textarea>\r\n         *              </div>\r\n         *          </div>\r\n         *      </div>\r\n         *      <div class=\"os-scrollbar os-scrollbar-horizontal \">\r\n         *          <div class=\"os-scrollbar-track\">\r\n         *              <div class=\"os-scrollbar-handle\"></div>\r\n         *          </div>\r\n         *      </div>\r\n         *      <div class=\"os-scrollbar os-scrollbar-vertical\">\r\n         *          <div class=\"os-scrollbar-track\">\r\n         *              <div class=\"os-scrollbar-handle\"></div>\r\n         *          </div>\r\n         *      </div>\r\n         *      <div class=\"os-scrollbar-corner\"></div>\r\n         *  </div>\r\n         */\n\n        _domExists = _isTextarea ? _targetElement.hasClass(_classNameTextareaElement) && _targetElement.parent().hasClass(_classNameContentElement) : _targetElement.hasClass(_classNameHostElement) && _targetElement.children(_strDot + _classNamePaddingElement)[LEXICON.l];\n        var initBodyScroll;\n\n        var _bodyMouseTouchDownListener; //check if the plugin hasn't to be initialized\n\n\n        if (_nativeScrollbarIsOverlaid.x && _nativeScrollbarIsOverlaid.y && !_currentPreparedOptions.nativeScrollbarsOverlaid.initialize) {\n          dispatchCallback('onInitializationWithdrawn');\n\n          if (_domExists) {\n            setupStructureDOM(true);\n            setupScrollbarsDOM(true);\n            setupScrollbarCornerDOM(true);\n          }\n\n          _destroyed = true;\n          _sleeping = true;\n          return _base;\n        }\n\n        if (_isBody) {\n          initBodyScroll = {};\n          initBodyScroll.l = MATH.max(_targetElement[_strScrollLeft](), _htmlElement[_strScrollLeft](), _windowElement[_strScrollLeft]());\n          initBodyScroll.t = MATH.max(_targetElement[_strScrollTop](), _htmlElement[_strScrollTop](), _windowElement[_strScrollTop]());\n\n          _bodyMouseTouchDownListener = function bodyMouseTouchDownListener() {\n            _viewportElement.removeAttr(LEXICON.ti);\n\n            setupResponsiveEventListener(_viewportElement, _strMouseTouchDownEvent, _bodyMouseTouchDownListener, true, true);\n          };\n        } //build OverlayScrollbars DOM\n\n\n        setupStructureDOM();\n        setupScrollbarsDOM();\n        setupScrollbarCornerDOM(); //create OverlayScrollbars events\n\n        setupStructureEvents();\n        setupScrollbarEvents(true);\n        setupScrollbarEvents(false);\n        setupScrollbarCornerEvents(); //create mutation observers\n\n        createMutationObservers(); //build resize observer for the host element\n\n        setupResizeObserver(_sizeObserverElement, hostOnResized);\n\n        if (_isBody) {\n          //apply the body scroll to handle it right in the update method\n          _viewportElement[_strScrollLeft](initBodyScroll.l)[_strScrollTop](initBodyScroll.t); //set the focus on the viewport element so you dont have to click on the page to use keyboard keys (up / down / space) for scrolling\n\n\n          if (document.activeElement == targetElement && _viewportElementNative.focus) {\n            //set a tabindex to make the viewportElement focusable\n            _viewportElement.attr(LEXICON.ti, '-1');\n\n            _viewportElementNative.focus();\n            /* the tabindex has to be removed due to;\r\n             * If you set the tabindex attribute on an <div>, then its child content cannot be scrolled with the arrow keys unless you set tabindex on the content, too\r\n             * https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex\r\n             */\n\n\n            setupResponsiveEventListener(_viewportElement, _strMouseTouchDownEvent, _bodyMouseTouchDownListener, false, true);\n          }\n        } //update for the first time & initialize cache\n\n\n        _base.update(_strAuto); //the plugin is initialized now!\n\n\n        _initialized = true;\n        dispatchCallback('onInitialized'); //call all callbacks which would fire before the initialized was complete\n\n        each(_callbacksInitQeueue, function (index, value) {\n          dispatchCallback(value.n, value.a);\n        });\n        _callbacksInitQeueue = []; //add extensions\n\n        if (type(extensions) == TYPES.s) extensions = [extensions];\n        if (COMPATIBILITY.isA(extensions)) each(extensions, function (index, value) {\n          _base.addExt(value);\n        });else if (FRAMEWORK.isPlainObject(extensions)) each(extensions, function (key, value) {\n          _base.addExt(key, value);\n        }); //add the transition class for transitions AFTER the first update & AFTER the applied extensions (for preventing unwanted transitions)\n\n        setTimeout(function () {\n          if (_supportTransition && !_destroyed) addClass(_hostElement, _classNameHostTransition);\n        }, 333);\n        return _base;\n      }\n\n      if (_plugin.valid(construct(pluginTargetElement, options, extensions))) {\n        INSTANCES(pluginTargetElement, _base);\n      }\n\n      return _base;\n    }\n    /**\r\n     * Initializes a new OverlayScrollbarsInstance object or changes options if already initialized or returns the current instance.\r\n     * @param pluginTargetElements The elements to which the Plugin shall be initialized.\r\n     * @param options The custom options with which the plugin shall be initialized.\r\n     * @param extensions The extension(s) which shall be added right after initialization.\r\n     * @returns {*}\r\n     */\n\n\n    _plugin = window[PLUGINNAME] = function (pluginTargetElements, options, extensions) {\n      if (arguments[LEXICON.l] === 0) return this;\n      var arr = [];\n      var optsIsPlainObj = FRAMEWORK.isPlainObject(options);\n      var inst;\n      var result; //pluginTargetElements is null or undefined\n\n      if (!pluginTargetElements) return optsIsPlainObj || !options ? result : arr;\n      /*\r\n         pluginTargetElements will be converted to:\r\n         1. A jQueryElement Array\r\n         2. A HTMLElement Array\r\n         3. A Array with a single HTML Element\r\n         so pluginTargetElements is always a array.\r\n      */\n\n      pluginTargetElements = pluginTargetElements[LEXICON.l] != undefined ? pluginTargetElements : [pluginTargetElements[0] || pluginTargetElements];\n      initOverlayScrollbarsStatics();\n\n      if (pluginTargetElements[LEXICON.l] > 0) {\n        if (optsIsPlainObj) {\n          FRAMEWORK.each(pluginTargetElements, function (i, v) {\n            inst = v;\n            if (inst !== undefined) arr.push(OverlayScrollbarsInstance(inst, options, extensions, _pluginsGlobals, _pluginsAutoUpdateLoop));\n          });\n        } else {\n          FRAMEWORK.each(pluginTargetElements, function (i, v) {\n            inst = INSTANCES(v);\n            if (options === '!' && _plugin.valid(inst) || COMPATIBILITY.type(options) == TYPES.f && options(v, inst)) arr.push(inst);else if (options === undefined) arr.push(inst);\n          });\n        }\n\n        result = arr[LEXICON.l] === 1 ? arr[0] : arr;\n      }\n\n      return result;\n    };\n    /**\r\n     * Returns a object which contains global information about the plugin and each instance of it.\r\n     * The returned object is just a copy, that means that changes to the returned object won't have any effect to the original object.\r\n     */\n\n\n    _plugin.globals = function () {\n      initOverlayScrollbarsStatics();\n      var globals = FRAMEWORK.extend(true, {}, _pluginsGlobals);\n      delete globals['msie'];\n      return globals;\n    };\n    /**\r\n     * Gets or Sets the default options for each new plugin initialization.\r\n     * @param newDefaultOptions The object with which the default options shall be extended.\r\n     */\n\n\n    _plugin.defaultOptions = function (newDefaultOptions) {\n      initOverlayScrollbarsStatics();\n      var currDefaultOptions = _pluginsGlobals.defaultOptions;\n      if (newDefaultOptions === undefined) return FRAMEWORK.extend(true, {}, currDefaultOptions); //set the new default options\n\n      _pluginsGlobals.defaultOptions = FRAMEWORK.extend(true, {}, currDefaultOptions, _pluginsOptions._validate(newDefaultOptions, _pluginsOptions._template, true, currDefaultOptions)._default);\n    };\n    /**\r\n     * Checks whether the passed instance is a non-destroyed OverlayScrollbars instance.\r\n     * @param osInstance The potential OverlayScrollbars instance which shall be checked.\r\n     * @returns {boolean} True if the passed value is a non-destroyed OverlayScrollbars instance, false otherwise.\r\n     */\n\n\n    _plugin.valid = function (osInstance) {\n      return osInstance instanceof _plugin && !osInstance.getState().destroyed;\n    };\n    /**\r\n     * Registers, Unregisters or returns a extension.\r\n     * Register: Pass the name and the extension. (defaultOptions is optional)\r\n     * Unregister: Pass the name and anything except a function as extension parameter.\r\n     * Get extension: Pass the name of the extension which shall be got.\r\n     * Get all extensions: Pass no arguments.\r\n     * @param extensionName The name of the extension which shall be registered, unregistered or returned.\r\n     * @param extension A function which generates the instance of the extension or anything other to remove a already registered extension.\r\n     * @param defaultOptions The default options which shall be used for the registered extension.\r\n     */\n\n\n    _plugin.extension = function (extensionName, extension, defaultOptions) {\n      var extNameTypeString = COMPATIBILITY.type(extensionName) == TYPES.s;\n      var argLen = arguments[LEXICON.l];\n      var i = 0;\n\n      if (argLen < 1 || !extNameTypeString) {\n        //return a copy of all extension objects\n        return FRAMEWORK.extend(true, {\n          length: _pluginsExtensions[LEXICON.l]\n        }, _pluginsExtensions);\n      } else if (extNameTypeString) {\n        if (COMPATIBILITY.type(extension) == TYPES.f) {\n          //register extension\n          _pluginsExtensions.push({\n            name: extensionName,\n            extensionFactory: extension,\n            defaultOptions: defaultOptions\n          });\n        } else {\n          for (; i < _pluginsExtensions[LEXICON.l]; i++) {\n            if (_pluginsExtensions[i].name === extensionName) {\n              if (argLen > 1) _pluginsExtensions.splice(i, 1); //remove extension\n              else return FRAMEWORK.extend(true, {}, _pluginsExtensions[i]); //return extension with the given name\n            }\n          }\n        }\n      }\n    };\n\n    return _plugin;\n  }();\n\n  if (JQUERY && JQUERY.fn) {\n    /**\r\n     * The jQuery initialization interface.\r\n     * @param options The initial options for the construction of the plugin. To initialize the plugin, this option has to be a object! If it isn't a object, the instance(s) are returned and the plugin wont be initialized.\r\n     * @param extensions The extension(s) which shall be added right after initialization.\r\n     * @returns {*} After initialization it returns the jQuery element array, else it returns the instance(s) of the elements which are selected.\r\n     */\n    JQUERY.fn.overlayScrollbars = function (options, extensions) {\n      var _elements = this;\n\n      if (JQUERY.isPlainObject(options)) {\n        JQUERY.each(_elements, function () {\n          PLUGIN(this, options, extensions);\n        });\n        return _elements;\n      } else return PLUGIN(_elements, options);\n    };\n  }\n\n  return PLUGIN;\n});","map":{"version":3,"sources":["C:/Users/jaclu/Desktop/ReactTutWebsite/reacttutorials/node_modules/overlayscrollbars/js/OverlayScrollbars.js"],"names":["global","factory","define","amd","document","undefined","module","exports","window","PLUGINNAME","TYPES","o","f","a","s","b","n","u","z","LEXICON","c","i","l","p","ti","oH","cH","sH","oW","cW","sW","hOP","bCR","VENDORS","jsCache","cssCache","cssPrefixes","jsPrefixes","firstLetterToUpper","str","charAt","toUpperCase","slice","_cssPrefixes","_jsPrefixes","_cssProperty","name","result","uppercasedName","elmStyle","createElement","resultPossibilities","v","currVendorWithoutDashes","length","replace","_cssPropertyValue","property","values","suffix","dummyStyle","possbleValues","split","preparedSuffix","prop","cssText","_jsAPI","isInterface","fallback","toLowerCase","COMPATIBILITY","windowSize","x","innerWidth","documentElement","body","innerHeight","bind","func","thisObj","proto","aArgs","Array","call","arguments","fNOP","fBound","apply","concat","wW","wH","mO","rO","rAF","setTimeout","cAF","id","clearTimeout","now","Date","getTime","stpP","event","stopPropagation","cancelBubble","prvD","preventDefault","cancelable","returnValue","page","originalEvent","strPage","strClient","strX","strY","target","srcElement","eventDoc","ownerDocument","doc","touches","touch","y","scrollLeft","clientLeft","scrollTop","clientTop","mBtn","button","which","inA","item","arr","e","isA","def","isArray","type","obj","Object","toString","MATH","Math","JQUERY","jQuery","EASING","_easingsMath","PI","cos","sin","w","pow","t","sqrt","asin","abs","swing","d","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","FRAMEWORK","_rnothtmlwhite","_strSpace","_strEmpty","_strScrollLeft","_strScrollTop","_animations","_type","_cssNumber","animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","fontWeight","lineHeight","opacity","order","orphans","widows","zIndex","zoom","extend","src","copyIsArray","copy","options","clone","deep","FakejQuery","isPlainObject","inArray","fromIndex","isFunction","isEmptyObject","key","hasOwnProperty","hasOwnConstructor","hasIsPrototypeOf","constructor","each","callback","isArrayLike","stripAndCollapse","value","tokens","match","join","matches","elem","selector","nodeList","parentNode","querySelectorAll","insertAdjacentElement","el","strategy","child","insertAdjacentHTML","nodeType","setCSSVal","val","parseCSSVal","startNextAnimationInQ","animObj","removeFromQ","index","nextAnim","q","splice","animate","props","duration","easing","complete","setAnimationValue","guaranteedNext","hasOptions","from","to","start","progress","step","specialEasing","push","css","timeNow","end","percent","fromVal","toVal","easedVal","timeStart","frame","elapsed","qPos","qObj","stop","max","parseFloat","pos","speacialEasing","startTime","clearQ","jumpToEnd","elementIsVisible","getClientRects","base","elements","elms","innerHTML","children","self","on","eventName","handler","eventNameLength","addEventListener","detachEvent","attachEvent","off","removeEventListener","one","oneEventName","oneHandler","trigger","createEvent","initEvent","dispatchEvent","fireEvent","append","prepend","before","after","remove","removeChild","unwrap","parents","parent","firstChild","insertBefore","wrapAll","wrapperHTML","nodes","wrapper","deepest","previousSibling","childNodes","appendChild","nextSibling","wrapInner","contents","wrap","styles","cptStyle","getCptStyle","getComputedStyle","currentStyle","getPropertyValue","hasClass","className","classNamePrepared","classList","contains","indexOf","addClass","classes","cur","curValue","clazz","finalValue","supportClassList","elmClassList","add","removeClass","hide","display","show","attr","attrName","getAttribute","setAttribute","removeAttr","removeAttribute","offset","rect","pageXOffset","pageYOffset","top","left","position","offsetTop","offsetLeft","first","eq","last","find","ch","is","childs","jump","INSTANCES","_targets","_instancePropertyString","instance","argLen","PLUGIN","_plugin","_pluginsGlobals","_pluginsAutoUpdateLoop","_pluginsExtensions","_pluginsOptions","possibleTemplateTypes","restrictedStringsSplit","restrictedStringsPossibilitiesSplit","classNameAllowedValues","numberAllowedValues","booleanNullAllowedValues","booleanTrueTemplate","booleanFalseTemplate","callbackTemplate","updateOnLoadTemplate","inheritedAttrsTemplate","resizeAllowedValues","overflowBehaviorAllowedValues","scrollbarsVisibilityAllowedValues","scrollbarsAutoHideAllowedValues","optionsDefaultsAndTemplate","resize","sizeAutoCapable","clipAlways","normalizeRTL","paddingAbsolute","autoUpdate","autoUpdateInterval","updateOnLoad","nativeScrollbarsOverlaid","showNativeScrollbars","initialize","overflowBehavior","scrollbars","visibility","autoHide","autoHideDelay","dragScrolling","clickScrolling","touchSupport","snapHandle","textarea","dynWidth","dynHeight","inheritedAttrs","callbacks","onInitialized","onInitializationWithdrawn","onDestroyed","onScrollStart","onScroll","onScrollStop","onOverflowChanged","onOverflowAmountChanged","onDirectionChanged","onContentSizeChanged","onHostSizeChanged","onUpdated","convert","template","recursive","valType","_defaults","_template","_validate","writeErrors","diffObj","validatedOptions","validatedOptionsPrepared","objectCopy","isEmptyObj","checkObjectProps","data","diffData","prevPropName","isValid","isDiff","templateValue","templateValueType","templateIsComplex","templateTypes","dataDiffValue","dataValue","dataValueType","propPrefix","error","errorPossibleTypes","errorRestrictedStrings","restrictedStringValuesSplit","restrictedStringValuesPossibilitiesSplit","isRestrictedValue","mainPossibility","currType","j","console","warn","JSON","stringify","_default","_prepared","initOverlayScrollbarsStatics","OverlayScrollbarsGlobals","OverlayScrollbarsAutoUpdateLoop","defaultOptions","_base","strOverflow","strHidden","strScroll","bodyElement","scrollbarDummyElement","scrollbarDummyElement0","dummyContainerChild","nativeScrollbarSize","calcNativeScrollbarSize","nativeScrollbarIsOverlaid","msie","ua","navigator","userAgent","strIndexOf","strSubString","trident","edge","rv","parseIntFunc","parseInt","autoUpdateLoop","autoUpdateRecommended","nativeScrollbarStyling","ex","overlayScrollbarDummySize","cssCalc","restrictedMeasuring","scrollSize","h","scrollSize2","rtlScrollBehavior","dummyContainerOffset","dummyContainerChildOffset","dummyContainerChildOffsetAfterScroll","supportTransform","supportTransition","supportPassiveEvents","supportsPassive","defineProperty","get","supportResizeObserver","supportMutationObserver","windowWidth","windowHeight","windowDpr","getWindowDPR","onResize","newW","newH","deltaW","deltaH","deltaWRatio","round","deltaHRatio","absDeltaW","absDeltaH","absDeltaWRatio","absDeltaHRatio","newDPR","deltaIsBigger","difference","differenceIsBiggerThanOne","dprChanged","isZoom","oldScrollbarSize","newScrollbarSize","update","valOne","valTwo","absValOne","absValTwo","dDPI","screen","deviceXDPI","sDPI","logicalXDPI","devicePixelRatio","measureElement","globals","_inArray","_getNow","_strAutoUpdate","_strAutoUpdateInterval","_strLength","_loopingInstances","_loopingInstancesIntervalCache","_loopIsActive","_loopIntervalDefault","_loopInterval","_loopTimeOld","_loopID","loop","timeNew","timeDelta","lowestInterval","instanceOptions","instanceAutoUpdateAllowed","instanceAutoUpdateInterval","min","OverlayScrollbarsInstance","pluginTargetElement","extensions","_frameworkProto","isHTMLElement","inst","_nativeScrollbarIsOverlaid","_overlayScrollbarDummySize","_rtlScrollBehavior","_autoUpdateRecommended","_msieVersion","_nativeScrollbarStyling","_cssCalc","_nativeScrollbarSize","_supportTransition","_supportTransform","_supportPassiveEvents","_supportResizeObserver","_supportMutationObserver","_restrictedMeasuring","_initialized","_destroyed","_isTextarea","_isBody","_documentMixed","_domExists","_isBorderBox","_sizeAutoObserverAdded","_paddingX","_paddingY","_borderX","_borderY","_marginX","_marginY","_isRTL","_sleeping","_contentBorderSize","_scrollHorizontalInfo","_scrollVerticalInfo","_viewportSize","_nativeScrollbarMinSize","_strMinusHidden","_strMarginMinus","_strPaddingMinus","_strBorderMinus","_strTop","_strRight","_strBottom","_strLeft","_strMinMinus","_strMaxMinus","_strWidth","_strHeight","_strFloat","_strAuto","_strSync","_strScroll","_strHundredPercent","_strX","_strY","_strDot","_strScrollbar","_strMinusHorizontal","_strMinusVertical","_strMouseTouchDownEvent","_strMouseTouchUpEvent","_strMouseTouchMoveEvent","_strMouseEnter","_strMouseLeave","_strKeyDownEvent","_strKeyUpEvent","_strSelectStartEvent","_strTransitionEndEvent","_strResizeObserverProperty","_cassNamesPrefix","_classNameHTMLElement","_classNameHostElement","_classNameHostElementForeign","_classNameHostTextareaElement","_classNameHostScrollbarHorizontalHidden","_classNameHostScrollbarVerticalHidden","_classNameHostTransition","_classNameHostRTL","_classNameHostResizeDisabled","_classNameHostScrolling","_classNameHostOverflow","_classNameHostOverflowX","_classNameHostOverflowY","_classNameTextareaElement","_classNameTextareaCoverElement","_classNamePaddingElement","_classNameViewportElement","_classNameViewportNativeScrollbarsInvisible","_classNameViewportNativeScrollbarsOverlaid","_classNameContentElement","_classNameContentArrangeElement","_classNameContentGlueElement","_classNameSizeAutoObserverElement","_classNameResizeObserverElement","_classNameResizeObserverItemElement","_classNameResizeObserverItemFinalElement","_classNameTextInherit","_classNameScrollbar","_classNameScrollbarTrack","_classNameScrollbarTrackOff","_classNameScrollbarHandle","_classNameScrollbarHandleOff","_classNameScrollbarUnusable","_classNameScrollbarAutoHidden","_classNameScrollbarCorner","_classNameScrollbarCornerResize","_classNameScrollbarCornerResizeB","_classNameScrollbarCornerResizeH","_classNameScrollbarCornerResizeV","_classNameScrollbarHorizontal","_classNameScrollbarVertical","_classNameDragging","_classNameThemeNone","_classNamesDynamicDestroy","_callbacksInitQeueue","_viewportAttrsFromTarget","_defaultOptions","_currentOptions","_currentPreparedOptions","_extensions","_extensionsPrivateMethods","_lastUpdateTime","_swallowedUpdateHints","_swallowedUpdateTimeout","_swallowUpdateLag","_updateOnLoadEventName","_updateOnLoadElms","_windowElement","_documentElement","_htmlElement","_bodyElement","_targetElement","_hostElement","_sizeAutoObserverElement","_sizeObserverElement","_paddingElement","_viewportElement","_contentElement","_contentArrangeElement","_contentGlueElement","_textareaCoverElement","_scrollbarCornerElement","_scrollbarHorizontalElement","_scrollbarHorizontalTrackElement","_scrollbarHorizontalHandleElement","_scrollbarVerticalElement","_scrollbarVerticalTrackElement","_scrollbarVerticalHandleElement","_windowElementNative","_documentElementNative","_targetElementNative","_hostElementNative","_sizeAutoObserverElementNative","_sizeObserverElementNative","_paddingElementNative","_viewportElementNative","_contentElementNative","_hostSizeCache","_contentScrollSizeCache","_arrangeContentSizeCache","_hasOverflowCache","_hideOverflowCache","_widthAutoCache","_heightAutoCache","_cssBoxSizingCache","_cssPaddingCache","_cssBorderCache","_cssMarginCache","_cssDirectionCache","_cssDirectionDetectedCache","_paddingAbsoluteCache","_clipAlwaysCache","_contentGlueSizeCache","_overflowBehaviorCache","_overflowAmountCache","_ignoreOverlayScrollbarHidingCache","_autoUpdateCache","_sizeAutoCapableCache","_contentElementScrollSizeChangeDetectedCache","_hostElementSizeChangeDetectedCache","_scrollbarsVisibilityCache","_scrollbarsAutoHideCache","_scrollbarsClickScrollingCache","_scrollbarsDragScrollingCache","_resizeCache","_normalizeRTLCache","_classNameCache","_oldClassName","_textareaAutoWrappingCache","_textareaInfoCache","_textareaSizeCache","_textareaDynHeightCache","_textareaDynWidthCache","_bodyMinSizeCache","_updateAutoCache","_mutationObserverHost","_mutationObserverContent","_mutationObserverHostCallback","_mutationObserverContentCallback","_mutationObserversConnected","_mutationObserverAttrsTextarea","_mutationObserverAttrsHost","_destroyEvents","_textareaHasFocus","_scrollbarsAutoHideTimeoutId","_scrollbarsAutoHideMoveTimeoutId","_scrollbarsAutoHideDelay","_scrollbarsAutoHideNever","_scrollbarsAutoHideScroll","_scrollbarsAutoHideMove","_scrollbarsAutoHideLeave","_scrollbarsHandleHovered","_scrollbarsHandlesDefineScrollPos","_resizeNone","_resizeBoth","_resizeHorizontal","_resizeVertical","setupResponsiveEventListener","element","eventNames","listener","passiveOrOptions","collected","method","onOff","events","passiveOrOptionsIsObj","passive","_passive","capture","_capture","useNative","nativeParam","addDestroyEventListener","setupResizeObserver","targetElement","onElementResizedCallback","resizeObserver","strAnimationStartEvent","strChildNodes","constScroll","generateDiv","observer","observe","dir","style","observerElement","shrinkElement","expandElement","expandElementChild","widthCache","heightCache","isDirty","rAFId","currWidth","currHeight","factor","reset","onResized","expandChildCSS","observerElementCSS","setTopRightBottomLeft","isIE","findFirst","onload","wnd","contentDocument","defaultView","directionChanged","scrollLeftValue","resizeObserverObj","disconnect","createMutationObservers","mutationObserverContentLag","mutationObserver","contentLastUpdate","mutationTarget","mutationAttrName","mutationIsClass","oldMutationVal","newClassVal","hostClassNameRegex","contentTimeout","sizeAuto","action","mutations","doUpdate","doUpdateForce","mutation","mutatedAttrs","attributeName","oldValue","createHostClassNameRegExp","filter","hostClassNamesChanged","updateViewportAttrsFromTarget","isUnknownMutation","textareaUpdate","connectMutationObservers","attributes","attributeOldValue","attributeFilter","subtree","childList","characterData","disconnectMutationObservers","hostOnResized","changed","hostSize","checkCache","_hostSizeChanged","hostOnMouseEnter","refreshScrollbarsAutoHide","hostOnMouseLeave","hostOnMouseMove","documentOnSelectStart","updateOnLoadCallback","elm","eachUpdateOnLoad","updateOnLoadSelector","_contentSizeChanged","setupHostMouseTouchEvents","destroy","bodyMinSizeChanged","bodyMinSize","parseToZeroOrNumber","oldClassNames","newClassNames","currClasses","oldClasses","diff","getArrayDifferences","idx","regex","mutationType","strClosest","updateAutoContentSizeChanged","contentMeasureElement","getContentMeasureElement","textareaValueLength","setCSS","float","bodyMinSizeC","contentElementScrollSize","meaningfulAttrsChanged","curr","cache","changedAttrs","checks","_elem","_attrs","check","isSizeAffectingCSSProperty","propertyName","flexBasis","affectingPropsX","affectingPropsXContentBox","affectingPropsY","affectingPropsYContentBox","_strS","_strVS","checkX","checkY","sizeIsAffected","checkPropertyName","attrs","targetAttr","wrapAttrOff","minWidth","minHeight","doMeasure","origWidth","width","origHeight","height","_originalWidth","_originalHeight","_dynamicWidth","_dynamicHeight","updateHints","_force","hostSizeChanged","contentSizeChanged","force","changedOptions","_changedOptions","swallow","displayIsHidden","extendDeep","checkCacheAutoForce","currScroll","currentPreparedOptionsScrollbars","currentPreparedOptionsTextarea","scrollbarsVisibility","scrollbarsVisibilityChanged","scrollbarsAutoHide","scrollbarsAutoHideChanged","scrollbarsClickScrolling","scrollbarsClickScrollingChanged","scrollbarsDragScrolling","scrollbarsDragScrollingChanged","classNameChanged","resizeChanged","paddingAbsoluteChanged","clipAlwaysChanged","sizeAutoCapableChanged","ignoreOverlayScrollbarHiding","ignoreOverlayScrollbarHidingChanged","autoUpdateChanged","overflowBehaviorChanged","textareaDynWidth","textareaDynWidthChanged","textareaDynHeight","textareaDynHeightChanged","oldSize","newSize","textareaAutoWrapping","textareaAutoWrappingChanged","cssDirection","cssDirectionChanged","boxSizing","boxSizingChanged","padding","getTopRightBottomLeftHost","sizeAutoObserverElementBCRect","isRTLLeft","isRTLRight","widthAutoResizeDetection","widthAutoObserverDetection","right","tmpCurrHostWidth","tmpCurrContentGlueWidth","tmpNewHostWidth","widthAuto","widthAutoChanged","wasWidthAuto","heightAuto","bottom","heightAutoChanged","wasHeightAuto","updateBorderX","updateBorderY","border","margin","contentElementCSS","contentGlueElementCSS","getHostSize","getViewportSize","paddingAbsoluteX","r","paddingAbsoluteY","paddingElementCSS","textareaCSS","paddingValues","textareaSize","textareaSizeChanged","textareaDynOrigSize","strOverflowX","strOverflowY","strVisible","viewportElementResetCSS","resetXTmp","ys","resetBottomTmp","xs","contentSize","hostAbsoluteRectSize","contentGlueSize","textareaCoverCSS","setContentGlueElementCSSfunction","horizontal","scrollbarVars","getScrollbarVars","wh","_w_h","strWH","_width_height","autoSize","borderSize","paddingSize","marginSize","viewportSize","contentScrollSize","hideOverflowForceTextarea","previousOverflowAmount","overflowBehaviorIsVS","overflowBehaviorIsVH","overflowBehaviorIsS","overflowAmount","hasOverflow","hideOverflow","canScroll","viewportRect","setOverflowVariables","scrollbarVarsInverted","xyI","_x_y","xy","widthHeight","scrollMax","_Left_Top","fractionalOverflowAmount","checkFractionalOverflowAmount","borderDesign","contentArrangeElementCSS","arrangeContent","arrangeChanged","setContentElementCSS","strDirection","invertedAutoSize","addRemoveClass","viewportElementCSS","setViewportCSS","XY","_X_Y","elementStyle","dump","webkitTransform","floatTmp","posLeftWithoutFloat","posLeftWithFloat","textareaInfo","getTextareaInfo","textareaRowsChanged","_rows","cursorRow","_cursorRow","cursorCol","_cursorColumn","widestRow","_widestRow","lastRow","lastCol","_columns","cursorPos","_cursorPosition","cursorMax","_cursorMax","cursorIsLastPosition","textareaScrollAmount","scrollbarsVisibilityVisible","scrollbarsVisibilityHidden","scrollbarsVisibilityAuto","refreshScrollbarsVisibility","showX","showY","refreshScrollbarAppearance","refreshScrollbarHandleLength","refreshScrollbarHandleOffset","refreshScrollbarsInteractive","dispatchCallback","isRTL","xScrollable","yScrollable","clipped","updateElementsOnLoad","forced","setOptions","newOptions","validatedOpts","setupStructureDOM","strParent","classNameResizeObserverHost","classNameTextareaElementFull","textareaClass","adoptAttrs","adoptAttrsMap","applyAdoptedAttrs","applyAdoptedAttrsElm","hostElementClassNames","hostElementCSS","selectOrGenerateDivByClass","setupStructureEvents","textareaKeyDownRestrictedKeyCodes","textareaKeyDownKeyCodesList","textareaUpdateIntervalID","scrollStopTimeoutId","scrollStopDelay","strFocus","updateTextarea","doClearInterval","clearInterval","textareaOnScroll","textareaOnDrop","textareaOnFocus","textareaOnFocusout","textareaOnKeyDown","keyCode","setInterval","textareaOnKeyUp","contentOnTransitionEnd","viewportOnScroll","nativeOverlayScrollbarsAreActive","setupScrollbarsDOM","selectOrGenerateScrollbarDOM","isHorizontal","scrollbarClassName","scrollbar","track","handle","_scrollbar","_track","_handle","resetScrollbarDOM","horizontalElements","verticalElements","setupScrollbarEvents","scrollbarVarsInfo","_info","insideIFrame","scroll","strActive","strSnapHandle","strClickEvent","scrollDurationFactor","increaseDecreaseScrollAmountKeyCodes","trackTimeout","mouseDownScroll","mouseDownOffset","mouseDownInvertedScale","getPointerPosition","getPreparedScrollbarsOption","increaseTrackScrollAmount","decreaseTrackScrollAmount","stopClickEventPropagation","documentKeyDown","documentKeyUp","onMouseTouchDownContinue","isTouchEvent","documentDragMove","trackLength","_trackLength","handleLength","_handleLength","scrollRange","_maxScroll","scrollRaw","scrollDeltaPercent","scrollDelta","isFinite","documentMouseTouchUp","scrollStop","mouseInsideHost","clientX","clientY","onHandleMouseTouchDown","onHandleMouseTouchDownAction","isNaN","getHostElementInvertedScale","onTrackMouseTouchDown","handleToViewportRatio","scrollDistance","scrollBaseDuration","scrollFirstIterationDelay","trackOffset","_left_top","ctrlKey","instantScroll","shiftKey","instantScrollTransition","isFirstIteration","decreaseScroll","finishedCondition","scrollActionFinsished","transition","scrollActionInstantFinished","scrollAction","mouseOffset","handleOffset","_handleOffset","_currentScroll","scrollDuration","timeoutDelay","instantScrollPosition","rtlIsNormal","decreaseScrollCondition","scrollObj","animationObj","onTrackMouseTouchEnter","onTrackMouseTouchLeave","onScrollbarMouseTouchDown","shallBeVisible","scrollbarHiddenClassName","scrollbarElement","delayfree","anyActive","handleCSS","digit","handleRatio","floor","_Width_Height","_handleLengthRatio","scrollOrTransition","transitionDuration","isRTLisHorizontal","strTranslateBrace","strTransform","strTransition","nativeScroll","currentScroll","handleTrackDiff","transformOffset","translateValue","maxScroll","getScrollRatio","getHandleOffset","scrollRatio","unsnappedScrollRatio","snappedHandleOffset","_currentScrollRatio","getCSSTransitionString","_snappedHandleOffset","isTrack","element1","element2","_l_t","setupScrollbarCornerDOM","setupScrollbarCornerEvents","mouseDownPosition","mouseDownSize","reconnectMutationObserver","pageOffset","getCoordinates","eventIsTrusted","releaseCapture","screenX","screenY","setCapture","args","dependent","extensionOnName","ext","substr","targetCSSObject","prefix","zeroX","zeroY","transitionStr","assembledValue","regExpString","regExpMain","RegExp","regExpValidate","properties","strResult","valueArray","splitCssStyleByComma","$1","withCurrClassNameOption","withOldClassNameOption","appendix","appendClasses","condition","strOwnerDocument","strHTMLElement","parentWindow","nodeName","a1","a2","k","toFloat","num","textareaCursorPosition","selectionStart","textareaValue","textareaLength","textareaRowSplit","textareaLastRow","textareaCurrentCursorRowSplit","textareaLastCol","rowCols","classesOrAttrs","content","selectParentOrOnlyChildren","onlyChildren","selectParent","getObjectPropVal","path","splits","setObjectPropVal","splitsLength","extendObj","extendObjRoot","current","doAdd","sleep","attrsChanged","contentSizeC","isString","doUpdateAuto","mutHost","mutContent","takeRecords","option","changedOps","extName","removeExt","pop","coordinates","infoX","infoY","normalizeInvert","normalizeNegate","scrollX","scrollXRatio","maxScrollX","ratio","handleLengthRatio","isRTLNormalized","coordinatesXAxisProps","coordinatesYAxisProps","coordinatesOperators","durationIsObject","completeCallback","finalScroll","doScrollLeft","doScrollTop","animationOptions","strEnd","strBegin","strCenter","strNearest","strAlways","strNever","strIfNeeded","strLength","settingsAxis","settingsScroll","settingsBlock","settingsMargin","finalElement","elementObjSettingsAxisValues","elementObjSettingsBlockValues","elementObjSettingsScrollValues","coordinatesIsElementObj","possibleElement","possibleElementIsJQuery","possibleElementIsHTMLElement","updateScrollbarInfos","proxyCompleteCallback","checkSettingsStringValue","currValue","allowedValues","getRawScroll","isX","coordinateProps","getFinalScroll","rawScroll","operator","amount","scrollInfo","mult","isRTLisX","normalizeShortcuts","strReplace","evalFunc","eval","possibleOperator","toFixed","normalizeIsRTLisX","operatorCurrScroll","invert","negate","getPerAxisValue","valueInternalType","defaultValue","resultDefault","valueType","valueArrLength","valueArrItem","generateMargin","marginTopRightBottomLeftArray","currValueType","valueDirections","axis","block","marginDefault","marginType","marginLength","viewportScroll","viewportOffset","elementOffset","doNotScroll","elementScrollCoordinates","measuringElm","rawElementSize","elementSize","finalizeBlock","vars","lt","blockIsEnd","blockIsCenter","blockIsNearest","scrollNever","scrollIfNeeded","vpSize","vpOffset","elSize","elOffset","divide","elementCenterOffset","viewportCenterOffset","isInView","param1","param2","param3","getElements","elementName","host","viewport","scrollbarHorizontal","scrollbarVertical","scrollbarCorner","getState","stateProperty","prepare","extended","changePropertyName","destroyed","sleeping","documentMixed","privateMethods","addExt","extensionOptions","registeredExtensionObj","extension","instanceAdded","instanceContract","contractResult","contractFulfilled","extensionFactory","contract","added","instanceRemoved","removed","construct","initBodyScroll","bodyMouseTouchDownListener","activeElement","focus","valid","pluginTargetElements","optsIsPlainObj","newDefaultOptions","currDefaultOptions","osInstance","extensionName","extNameTypeString","fn","overlayScrollbars","_elements"],"mappings":"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","sourcesContent":["/*!\r\n * OverlayScrollbars\r\n * https://github.com/KingSora/OverlayScrollbars\r\n *\r\n * Version: 1.13.0\r\n *\r\n * Copyright KingSora | Rene Haas.\r\n * https://github.com/KingSora\r\n *\r\n * Released under the MIT license.\r\n * Date: 02.08.2020\r\n */\r\n\r\n(function (global, factory) {\r\n    if (typeof define === 'function' && define.amd)\r\n        define(function () { return factory(global, global.document, undefined); });\r\n    else if (typeof module === 'object' && typeof module.exports === 'object')\r\n        module.exports = factory(global, global.document, undefined);\r\n    else\r\n        factory(global, global.document, undefined);\r\n}(typeof window !== 'undefined' ? window : this,\r\n    function (window, document, undefined) {\r\n        'use strict';\r\n        var PLUGINNAME = 'OverlayScrollbars';\r\n        var TYPES = {\r\n            o: 'object',\r\n            f: 'function',\r\n            a: 'array',\r\n            s: 'string',\r\n            b: 'boolean',\r\n            n: 'number',\r\n            u: 'undefined',\r\n            z: 'null'\r\n            //d : 'date',\r\n            //e : 'error',\r\n            //r : 'regexp',\r\n            //y : 'symbol'\r\n        };\r\n        var LEXICON = {\r\n            c: 'class',\r\n            s: 'style',\r\n            i: 'id',\r\n            l: 'length',\r\n            p: 'prototype',\r\n            ti: 'tabindex',\r\n            oH: 'offsetHeight',\r\n            cH: 'clientHeight',\r\n            sH: 'scrollHeight',\r\n            oW: 'offsetWidth',\r\n            cW: 'clientWidth',\r\n            sW: 'scrollWidth',\r\n            hOP: 'hasOwnProperty',\r\n            bCR: 'getBoundingClientRect'\r\n        };\r\n        var VENDORS = (function () {\r\n            //https://developer.mozilla.org/en-US/docs/Glossary/Vendor_Prefix\r\n            var jsCache = {};\r\n            var cssCache = {};\r\n            var cssPrefixes = ['-webkit-', '-moz-', '-o-', '-ms-'];\r\n            var jsPrefixes = ['WebKit', 'Moz', 'O', 'MS'];\r\n            function firstLetterToUpper(str) {\r\n                return str.charAt(0).toUpperCase() + str.slice(1);\r\n            }\r\n\r\n            return {\r\n                _cssPrefixes: cssPrefixes,\r\n                _jsPrefixes: jsPrefixes,\r\n                _cssProperty: function (name) {\r\n                    var result = cssCache[name];\r\n\r\n                    if (cssCache[LEXICON.hOP](name))\r\n                        return result;\r\n\r\n                    var uppercasedName = firstLetterToUpper(name);\r\n                    var elmStyle = document.createElement('div')[LEXICON.s];\r\n                    var resultPossibilities;\r\n                    var i = 0;\r\n                    var v;\r\n                    var currVendorWithoutDashes;\r\n\r\n                    for (; i < cssPrefixes.length; i++) {\r\n                        currVendorWithoutDashes = cssPrefixes[i].replace(/-/g, '');\r\n                        resultPossibilities = [\r\n                            name, //transition\r\n                            cssPrefixes[i] + name, //-webkit-transition\r\n                            currVendorWithoutDashes + uppercasedName, //webkitTransition\r\n                            firstLetterToUpper(currVendorWithoutDashes) + uppercasedName //WebkitTransition\r\n                        ];\r\n                        for (v = 0; v < resultPossibilities[LEXICON.l]; v++) {\r\n                            if (elmStyle[resultPossibilities[v]] !== undefined) {\r\n                                result = resultPossibilities[v];\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    cssCache[name] = result;\r\n                    return result;\r\n                },\r\n                _cssPropertyValue: function (property, values, suffix) {\r\n                    var name = property + ' ' + values;\r\n                    var result = cssCache[name];\r\n\r\n                    if (cssCache[LEXICON.hOP](name))\r\n                        return result;\r\n\r\n                    var dummyStyle = document.createElement('div')[LEXICON.s];\r\n                    var possbleValues = values.split(' ');\r\n                    var preparedSuffix = suffix || '';\r\n                    var i = 0;\r\n                    var v = -1;\r\n                    var prop;\r\n\r\n                    for (; i < possbleValues[LEXICON.l]; i++) {\r\n                        for (; v < VENDORS._cssPrefixes[LEXICON.l]; v++) {\r\n                            prop = v < 0 ? possbleValues[i] : VENDORS._cssPrefixes[v] + possbleValues[i];\r\n                            dummyStyle.cssText = property + ':' + prop + preparedSuffix;\r\n                            if (dummyStyle[LEXICON.l]) {\r\n                                result = prop;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    cssCache[name] = result;\r\n                    return result;\r\n                },\r\n                _jsAPI: function (name, isInterface, fallback) {\r\n                    var i = 0;\r\n                    var result = jsCache[name];\r\n\r\n                    if (!jsCache[LEXICON.hOP](name)) {\r\n                        result = window[name];\r\n                        for (; i < jsPrefixes[LEXICON.l]; i++)\r\n                            result = result || window[(isInterface ? jsPrefixes[i] : jsPrefixes[i].toLowerCase()) + firstLetterToUpper(name)];\r\n                        jsCache[name] = result;\r\n                    }\r\n                    return result || fallback;\r\n                }\r\n            }\r\n        })();\r\n        var COMPATIBILITY = (function () {\r\n            function windowSize(x) {\r\n                return x ? window.innerWidth || document.documentElement[LEXICON.cW] || document.body[LEXICON.cW] : window.innerHeight || document.documentElement[LEXICON.cH] || document.body[LEXICON.cH];\r\n            }\r\n            function bind(func, thisObj) {\r\n                if (typeof func != TYPES.f) {\r\n                    throw \"Can't bind function!\";\r\n                    // closest thing possible to the ECMAScript 5\r\n                    // internal IsCallable function\r\n                    //throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\r\n                }\r\n                var proto = LEXICON.p;\r\n                var aArgs = Array[proto].slice.call(arguments, 2);\r\n                var fNOP = function () { };\r\n                var fBound = function () { return func.apply(this instanceof fNOP ? this : thisObj, aArgs.concat(Array[proto].slice.call(arguments))); };\r\n\r\n                if (func[proto])\r\n                    fNOP[proto] = func[proto]; // Function.prototype doesn't have a prototype property\r\n                fBound[proto] = new fNOP();\r\n\r\n                return fBound;\r\n            }\r\n\r\n            return {\r\n                /**\r\n                 * Gets the current window width.\r\n                 * @returns {Number|number} The current window width in pixel.\r\n                 */\r\n                wW: bind(windowSize, 0, true),\r\n\r\n                /**\r\n                 * Gets the current window height.\r\n                 * @returns {Number|number} The current window height in pixel.\r\n                 */\r\n                wH: bind(windowSize, 0),\r\n\r\n                /**\r\n                 * Gets the MutationObserver Object or undefined if not supported.\r\n                 * @returns {MutationObserver|*|undefined} The MutationsObserver Object or undefined.\r\n                 */\r\n                mO: bind(VENDORS._jsAPI, 0, 'MutationObserver', true),\r\n\r\n                /**\r\n                 * Gets the ResizeObserver Object or undefined if not supported.\r\n                 * @returns {MutationObserver|*|undefined} The ResizeObserver Object or undefined.\r\n                 */\r\n                rO: bind(VENDORS._jsAPI, 0, 'ResizeObserver', true),\r\n\r\n                /**\r\n                 * Gets the RequestAnimationFrame method or it's corresponding polyfill.\r\n                 * @returns {*|Function} The RequestAnimationFrame method or it's corresponding polyfill.\r\n                 */\r\n                rAF: bind(VENDORS._jsAPI, 0, 'requestAnimationFrame', false, function (func) { return window.setTimeout(func, 1000 / 60); }),\r\n\r\n                /**\r\n                 * Gets the CancelAnimationFrame method or it's corresponding polyfill.\r\n                 * @returns {*|Function} The CancelAnimationFrame method or it's corresponding polyfill.\r\n                 */\r\n                cAF: bind(VENDORS._jsAPI, 0, 'cancelAnimationFrame', false, function (id) { return window.clearTimeout(id); }),\r\n\r\n                /**\r\n                 * Gets the current time.\r\n                 * @returns {number} The current time.\r\n                 */\r\n                now: function () {\r\n                    return Date.now && Date.now() || new Date().getTime();\r\n                },\r\n\r\n                /**\r\n                 * Stops the propagation of the given event.\r\n                 * @param event The event of which the propagation shall be stoped.\r\n                 */\r\n                stpP: function (event) {\r\n                    if (event.stopPropagation)\r\n                        event.stopPropagation();\r\n                    else\r\n                        event.cancelBubble = true;\r\n                },\r\n\r\n                /**\r\n                 * Prevents the default action of the given event.\r\n                 * @param event The event of which the default action shall be prevented.\r\n                 */\r\n                prvD: function (event) {\r\n                    if (event.preventDefault && event.cancelable)\r\n                        event.preventDefault();\r\n                    else\r\n                        event.returnValue = false;\r\n                },\r\n\r\n                /**\r\n                 * Gets the pageX and pageY values of the given mouse event.\r\n                 * @param event The mouse event of which the pageX and pageX shall be got.\r\n                 * @returns {{x: number, y: number}} x = pageX value, y = pageY value.\r\n                 */\r\n                page: function (event) {\r\n                    event = event.originalEvent || event;\r\n\r\n                    var strPage = 'page';\r\n                    var strClient = 'client';\r\n                    var strX = 'X';\r\n                    var strY = 'Y';\r\n                    var target = event.target || event.srcElement || document;\r\n                    var eventDoc = target.ownerDocument || document;\r\n                    var doc = eventDoc.documentElement;\r\n                    var body = eventDoc.body;\r\n\r\n                    //if touch event return return pageX/Y of it\r\n                    if (event.touches !== undefined) {\r\n                        var touch = event.touches[0];\r\n                        return {\r\n                            x: touch[strPage + strX],\r\n                            y: touch[strPage + strY]\r\n                        }\r\n                    }\r\n\r\n                    // Calculate pageX/Y if not native supported\r\n                    if (!event[strPage + strX] && event[strClient + strX] && event[strClient + strX] != null) {\r\n\r\n                        return {\r\n                            x: event[strClient + strX] +\r\n                                (doc && doc.scrollLeft || body && body.scrollLeft || 0) -\r\n                                (doc && doc.clientLeft || body && body.clientLeft || 0),\r\n                            y: event[strClient + strY] +\r\n                                (doc && doc.scrollTop || body && body.scrollTop || 0) -\r\n                                (doc && doc.clientTop || body && body.clientTop || 0)\r\n                        }\r\n                    }\r\n                    return {\r\n                        x: event[strPage + strX],\r\n                        y: event[strPage + strY]\r\n                    };\r\n                },\r\n\r\n                /**\r\n                 * Gets the clicked mouse button of the given mouse event.\r\n                 * @param event The mouse event of which the clicked button shal be got.\r\n                 * @returns {number} The number of the clicked mouse button. (0 : none | 1 : leftButton | 2 : middleButton | 3 : rightButton)\r\n                 */\r\n                mBtn: function (event) {\r\n                    var button = event.button;\r\n                    if (!event.which && button !== undefined)\r\n                        return (button & 1 ? 1 : (button & 2 ? 3 : (button & 4 ? 2 : 0)));\r\n                    else\r\n                        return event.which;\r\n                },\r\n\r\n                /**\r\n                 * Checks whether a item is in the given array and returns its index.\r\n                 * @param item The item of which the position in the array shall be determined.\r\n                 * @param arr The array.\r\n                 * @returns {number} The zero based index of the item or -1 if the item isn't in the array.\r\n                 */\r\n                inA: function (item, arr) {\r\n                    for (var i = 0; i < arr[LEXICON.l]; i++)\r\n                        //Sometiems in IE a \"SCRIPT70\" Permission denied error occurs if HTML elements in a iFrame are compared\r\n                        try {\r\n                            if (arr[i] === item)\r\n                                return i;\r\n                        }\r\n                        catch (e) { }\r\n                    return -1;\r\n                },\r\n\r\n                /**\r\n                 * Returns true if the given value is a array.\r\n                 * @param arr The potential array.\r\n                 * @returns {boolean} True if the given value is a array, false otherwise.\r\n                 */\r\n                isA: function (arr) {\r\n                    var def = Array.isArray;\r\n                    return def ? def(arr) : this.type(arr) == TYPES.a;\r\n                },\r\n\r\n                /**\r\n                 * Determine the internal JavaScript [[Class]] of the given object.\r\n                 * @param obj The object of which the type shall be determined.\r\n                 * @returns {string} The type of the given object.\r\n                 */\r\n                type: function (obj) {\r\n                    if (obj === undefined)\r\n                        return obj + '';\r\n                    if (obj === null)\r\n                        return obj + '';\r\n                    return Object[LEXICON.p].toString.call(obj).replace(/^\\[object (.+)\\]$/, '$1').toLowerCase();\r\n                },\r\n\r\n\r\n                bind: bind\r\n\r\n                /**\r\n                 * Gets the vendor-prefixed CSS property by the given name.\r\n                 * For example the given name is \"transform\" and you're using a old Firefox browser then the returned value would be \"-moz-transform\".\r\n                 * If the browser doesn't need a vendor-prefix, then the returned string is the given name.\r\n                 * If the browser doesn't support the given property name at all (not even with a vendor-prefix) the returned value is null.\r\n                 * @param propName The unprefixed CSS property name.\r\n                 * @returns {string|null} The vendor-prefixed CSS property or null if the browser doesn't support the given CSS property.\r\n\r\n                cssProp: function(propName) {\r\n                    return VENDORS._cssProperty(propName);\r\n                }\r\n                */\r\n            }\r\n        })();\r\n\r\n\r\n        var MATH = Math;\r\n        var JQUERY = window.jQuery;\r\n        var EASING = (function () {\r\n            var _easingsMath = {\r\n                p: MATH.PI,\r\n                c: MATH.cos,\r\n                s: MATH.sin,\r\n                w: MATH.pow,\r\n                t: MATH.sqrt,\r\n                n: MATH.asin,\r\n                a: MATH.abs,\r\n                o: 1.70158\r\n            };\r\n\r\n            /*\r\n             x : current percent (0 - 1),\r\n             t : current time (duration * percent),\r\n             b : start value (from),\r\n             c : end value (to),\r\n             d : duration\r\n\r\n             easingName : function(x, t, b, c, d) { return easedValue; }\r\n             */\r\n\r\n            return {\r\n                swing: function (x, t, b, c, d) {\r\n                    return 0.5 - _easingsMath.c(x * _easingsMath.p) / 2;\r\n                },\r\n                linear: function (x, t, b, c, d) {\r\n                    return x;\r\n                },\r\n                easeInQuad: function (x, t, b, c, d) {\r\n                    return c * (t /= d) * t + b;\r\n                },\r\n                easeOutQuad: function (x, t, b, c, d) {\r\n                    return -c * (t /= d) * (t - 2) + b;\r\n                },\r\n                easeInOutQuad: function (x, t, b, c, d) {\r\n                    return ((t /= d / 2) < 1) ? c / 2 * t * t + b : -c / 2 * ((--t) * (t - 2) - 1) + b;\r\n                },\r\n                easeInCubic: function (x, t, b, c, d) {\r\n                    return c * (t /= d) * t * t + b;\r\n                },\r\n                easeOutCubic: function (x, t, b, c, d) {\r\n                    return c * ((t = t / d - 1) * t * t + 1) + b;\r\n                },\r\n                easeInOutCubic: function (x, t, b, c, d) {\r\n                    return ((t /= d / 2) < 1) ? c / 2 * t * t * t + b : c / 2 * ((t -= 2) * t * t + 2) + b;\r\n                },\r\n                easeInQuart: function (x, t, b, c, d) {\r\n                    return c * (t /= d) * t * t * t + b;\r\n                },\r\n                easeOutQuart: function (x, t, b, c, d) {\r\n                    return -c * ((t = t / d - 1) * t * t * t - 1) + b;\r\n                },\r\n                easeInOutQuart: function (x, t, b, c, d) {\r\n                    return ((t /= d / 2) < 1) ? c / 2 * t * t * t * t + b : -c / 2 * ((t -= 2) * t * t * t - 2) + b;\r\n                },\r\n                easeInQuint: function (x, t, b, c, d) {\r\n                    return c * (t /= d) * t * t * t * t + b;\r\n                },\r\n                easeOutQuint: function (x, t, b, c, d) {\r\n                    return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\r\n                },\r\n                easeInOutQuint: function (x, t, b, c, d) {\r\n                    return ((t /= d / 2) < 1) ? c / 2 * t * t * t * t * t + b : c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\r\n                },\r\n                easeInSine: function (x, t, b, c, d) {\r\n                    return -c * _easingsMath.c(t / d * (_easingsMath.p / 2)) + c + b;\r\n                },\r\n                easeOutSine: function (x, t, b, c, d) {\r\n                    return c * _easingsMath.s(t / d * (_easingsMath.p / 2)) + b;\r\n                },\r\n                easeInOutSine: function (x, t, b, c, d) {\r\n                    return -c / 2 * (_easingsMath.c(_easingsMath.p * t / d) - 1) + b;\r\n                },\r\n                easeInExpo: function (x, t, b, c, d) {\r\n                    return (t == 0) ? b : c * _easingsMath.w(2, 10 * (t / d - 1)) + b;\r\n                },\r\n                easeOutExpo: function (x, t, b, c, d) {\r\n                    return (t == d) ? b + c : c * (-_easingsMath.w(2, -10 * t / d) + 1) + b;\r\n                },\r\n                easeInOutExpo: function (x, t, b, c, d) {\r\n                    if (t == 0) return b;\r\n                    if (t == d) return b + c;\r\n                    if ((t /= d / 2) < 1) return c / 2 * _easingsMath.w(2, 10 * (t - 1)) + b;\r\n                    return c / 2 * (-_easingsMath.w(2, -10 * --t) + 2) + b;\r\n                },\r\n                easeInCirc: function (x, t, b, c, d) {\r\n                    return -c * (_easingsMath.t(1 - (t /= d) * t) - 1) + b;\r\n                },\r\n                easeOutCirc: function (x, t, b, c, d) {\r\n                    return c * _easingsMath.t(1 - (t = t / d - 1) * t) + b;\r\n                },\r\n                easeInOutCirc: function (x, t, b, c, d) {\r\n                    return ((t /= d / 2) < 1) ? -c / 2 * (_easingsMath.t(1 - t * t) - 1) + b : c / 2 * (_easingsMath.t(1 - (t -= 2) * t) + 1) + b;\r\n                },\r\n                easeInElastic: function (x, t, b, c, d) {\r\n                    var s = _easingsMath.o; var p = 0; var a = c;\r\n                    if (t == 0) return b; if ((t /= d) == 1) return b + c; if (!p) p = d * .3;\r\n                    if (a < _easingsMath.a(c)) { a = c; s = p / 4; }\r\n                    else s = p / (2 * _easingsMath.p) * _easingsMath.n(c / a);\r\n                    return -(a * _easingsMath.w(2, 10 * (t -= 1)) * _easingsMath.s((t * d - s) * (2 * _easingsMath.p) / p)) + b;\r\n                },\r\n                easeOutElastic: function (x, t, b, c, d) {\r\n                    var s = _easingsMath.o; var p = 0; var a = c;\r\n                    if (t == 0) return b;\r\n                    if ((t /= d) == 1) return b + c;\r\n                    if (!p) p = d * .3;\r\n                    if (a < _easingsMath.a(c)) { a = c; s = p / 4; }\r\n                    else s = p / (2 * _easingsMath.p) * _easingsMath.n(c / a);\r\n                    return a * _easingsMath.w(2, -10 * t) * _easingsMath.s((t * d - s) * (2 * _easingsMath.p) / p) + c + b;\r\n                },\r\n                easeInOutElastic: function (x, t, b, c, d) {\r\n                    var s = _easingsMath.o; var p = 0; var a = c;\r\n                    if (t == 0) return b;\r\n                    if ((t /= d / 2) == 2) return b + c;\r\n                    if (!p) p = d * (.3 * 1.5);\r\n                    if (a < _easingsMath.a(c)) { a = c; s = p / 4; }\r\n                    else s = p / (2 * _easingsMath.p) * _easingsMath.n(c / a);\r\n                    if (t < 1) return -.5 * (a * _easingsMath.w(2, 10 * (t -= 1)) * _easingsMath.s((t * d - s) * (2 * _easingsMath.p) / p)) + b;\r\n                    return a * _easingsMath.w(2, -10 * (t -= 1)) * _easingsMath.s((t * d - s) * (2 * _easingsMath.p) / p) * .5 + c + b;\r\n                },\r\n                easeInBack: function (x, t, b, c, d, s) {\r\n                    s = s || _easingsMath.o;\r\n                    return c * (t /= d) * t * ((s + 1) * t - s) + b;\r\n                },\r\n                easeOutBack: function (x, t, b, c, d, s) {\r\n                    s = s || _easingsMath.o;\r\n                    return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\r\n                },\r\n                easeInOutBack: function (x, t, b, c, d, s) {\r\n                    s = s || _easingsMath.o;\r\n                    return ((t /= d / 2) < 1) ? c / 2 * (t * t * (((s *= (1.525)) + 1) * t - s)) + b : c / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2) + b;\r\n                },\r\n                easeInBounce: function (x, t, b, c, d) {\r\n                    return c - this.easeOutBounce(x, d - t, 0, c, d) + b;\r\n                },\r\n                easeOutBounce: function (x, t, b, c, d) {\r\n                    var o = 7.5625;\r\n                    if ((t /= d) < (1 / 2.75)) {\r\n                        return c * (o * t * t) + b;\r\n                    } else if (t < (2 / 2.75)) {\r\n                        return c * (o * (t -= (1.5 / 2.75)) * t + .75) + b;\r\n                    } else if (t < (2.5 / 2.75)) {\r\n                        return c * (o * (t -= (2.25 / 2.75)) * t + .9375) + b;\r\n                    } else {\r\n                        return c * (o * (t -= (2.625 / 2.75)) * t + .984375) + b;\r\n                    }\r\n                },\r\n                easeInOutBounce: function (x, t, b, c, d) {\r\n                    return (t < d / 2) ? this.easeInBounce(x, t * 2, 0, c, d) * .5 + b : this.easeOutBounce(x, t * 2 - d, 0, c, d) * .5 + c * .5 + b;\r\n                }\r\n            };\r\n            /*\r\n             *\r\n             * TERMS OF USE - EASING EQUATIONS\r\n             * \r\n             * Open source under the BSD License. \r\n             * \r\n             * Copyright Â© 2001 Robert Penner\r\n             * All rights reserved.\r\n             * \r\n             * Redistribution and use in source and binary forms, with or without modification, \r\n             * are permitted provided that the following conditions are met:\r\n             * \r\n             * Redistributions of source code must retain the above copyright notice, this list of \r\n             * conditions and the following disclaimer.\r\n             * Redistributions in binary form must reproduce the above copyright notice, this list \r\n             * of conditions and the following disclaimer in the documentation and/or other materials \r\n             * provided with the distribution.\r\n             * \r\n             * Neither the name of the author nor the names of contributors may be used to endorse \r\n             * or promote products derived from this software without specific prior written permission.\r\n             * \r\n             * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY \r\n             * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\r\n             * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\r\n             *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\r\n             *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\r\n             *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED \r\n             * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n             *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED \r\n             * OF THE POSSIBILITY OF SUCH DAMAGE. \r\n             *\r\n             */\r\n        })();\r\n        var FRAMEWORK = (function () {\r\n            var _rnothtmlwhite = (/[^\\x20\\t\\r\\n\\f]+/g);\r\n            var _strSpace = ' ';\r\n            var _strEmpty = '';\r\n            var _strScrollLeft = 'scrollLeft';\r\n            var _strScrollTop = 'scrollTop';\r\n            var _animations = [];\r\n            var _type = COMPATIBILITY.type;\r\n            var _cssNumber = {\r\n                animationIterationCount: true,\r\n                columnCount: true,\r\n                fillOpacity: true,\r\n                flexGrow: true,\r\n                flexShrink: true,\r\n                fontWeight: true,\r\n                lineHeight: true,\r\n                opacity: true,\r\n                order: true,\r\n                orphans: true,\r\n                widows: true,\r\n                zIndex: true,\r\n                zoom: true\r\n            };\r\n\r\n            function extend() {\r\n                var src, copyIsArray, copy, name, options, clone, target = arguments[0] || {},\r\n                    i = 1,\r\n                    length = arguments[LEXICON.l],\r\n                    deep = false;\r\n\r\n                // Handle a deep copy situation\r\n                if (_type(target) == TYPES.b) {\r\n                    deep = target;\r\n                    target = arguments[1] || {};\r\n                    // skip the boolean and the target\r\n                    i = 2;\r\n                }\r\n\r\n                // Handle case when target is a string or something (possible in deep copy)\r\n                if (_type(target) != TYPES.o && !_type(target) == TYPES.f) {\r\n                    target = {};\r\n                }\r\n\r\n                // extend jQuery itself if only one argument is passed\r\n                if (length === i) {\r\n                    target = FakejQuery;\r\n                    --i;\r\n                }\r\n\r\n                for (; i < length; i++) {\r\n                    // Only deal with non-null/undefined values\r\n                    if ((options = arguments[i]) != null) {\r\n                        // Extend the base object\r\n                        for (name in options) {\r\n                            src = target[name];\r\n                            copy = options[name];\r\n\r\n                            // Prevent never-ending loop\r\n                            if (target === copy) {\r\n                                continue;\r\n                            }\r\n\r\n                            // Recurse if we're merging plain objects or arrays\r\n                            if (deep && copy && (isPlainObject(copy) || (copyIsArray = COMPATIBILITY.isA(copy)))) {\r\n                                if (copyIsArray) {\r\n                                    copyIsArray = false;\r\n                                    clone = src && COMPATIBILITY.isA(src) ? src : [];\r\n\r\n                                } else {\r\n                                    clone = src && isPlainObject(src) ? src : {};\r\n                                }\r\n\r\n                                // Never move original objects, clone them\r\n                                target[name] = extend(deep, clone, copy);\r\n\r\n                                // Don't bring in undefined values\r\n                            } else if (copy !== undefined) {\r\n                                target[name] = copy;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Return the modified object\r\n                return target;\r\n            };\r\n\r\n            function inArray(item, arr, fromIndex) {\r\n                for (var i = fromIndex || 0; i < arr[LEXICON.l]; i++)\r\n                    if (arr[i] === item)\r\n                        return i;\r\n                return -1;\r\n            }\r\n\r\n            function isFunction(obj) {\r\n                return _type(obj) == TYPES.f;\r\n            };\r\n\r\n            function isEmptyObject(obj) {\r\n                for (var name in obj)\r\n                    return false;\r\n                return true;\r\n            };\r\n\r\n            function isPlainObject(obj) {\r\n                if (!obj || _type(obj) != TYPES.o)\r\n                    return false;\r\n\r\n                var key;\r\n                var proto = LEXICON.p;\r\n                var hasOwnProperty = Object[proto].hasOwnProperty;\r\n                var hasOwnConstructor = hasOwnProperty.call(obj, 'constructor');\r\n                var hasIsPrototypeOf = obj.constructor && obj.constructor[proto] && hasOwnProperty.call(obj.constructor[proto], 'isPrototypeOf');\r\n\r\n                if (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\r\n                    return false;\r\n                }\r\n\r\n\r\n                for (key in obj) { /**/ }\r\n\r\n                return _type(key) == TYPES.u || hasOwnProperty.call(obj, key);\r\n            };\r\n\r\n            function each(obj, callback) {\r\n                var i = 0;\r\n\r\n                if (isArrayLike(obj)) {\r\n                    for (; i < obj[LEXICON.l]; i++) {\r\n                        if (callback.call(obj[i], i, obj[i]) === false)\r\n                            break;\r\n                    }\r\n                }\r\n                else {\r\n                    for (i in obj) {\r\n                        if (callback.call(obj[i], i, obj[i]) === false)\r\n                            break;\r\n                    }\r\n                }\r\n\r\n                return obj;\r\n            };\r\n\r\n            function isArrayLike(obj) {\r\n                var length = !!obj && [LEXICON.l] in obj && obj[LEXICON.l];\r\n                var t = _type(obj);\r\n                return isFunction(t) ? false : (t == TYPES.a || length === 0 || _type(length) == TYPES.n && length > 0 && (length - 1) in obj);\r\n            }\r\n\r\n            function stripAndCollapse(value) {\r\n                var tokens = value.match(_rnothtmlwhite) || [];\r\n                return tokens.join(_strSpace);\r\n            }\r\n\r\n            function matches(elem, selector) {\r\n                var nodeList = (elem.parentNode || document).querySelectorAll(selector) || [];\r\n                var i = nodeList[LEXICON.l];\r\n\r\n                while (i--)\r\n                    if (nodeList[i] == elem)\r\n                        return true;\r\n\r\n                return false;\r\n            }\r\n\r\n            function insertAdjacentElement(el, strategy, child) {\r\n                if (COMPATIBILITY.isA(child)) {\r\n                    for (var i = 0; i < child[LEXICON.l]; i++)\r\n                        insertAdjacentElement(el, strategy, child[i]);\r\n                }\r\n                else if (_type(child) == TYPES.s)\r\n                    el.insertAdjacentHTML(strategy, child);\r\n                else\r\n                    el.insertAdjacentElement(strategy, child.nodeType ? child : child[0]);\r\n            }\r\n\r\n            function setCSSVal(el, prop, val) {\r\n                try {\r\n                    if (el[LEXICON.s][prop] !== undefined)\r\n                        el[LEXICON.s][prop] = parseCSSVal(prop, val);\r\n                } catch (e) { }\r\n            }\r\n\r\n            function parseCSSVal(prop, val) {\r\n                if (!_cssNumber[prop.toLowerCase()] && _type(val) == TYPES.n)\r\n                    val += 'px';\r\n                return val;\r\n            }\r\n\r\n            function startNextAnimationInQ(animObj, removeFromQ) {\r\n                var index;\r\n                var nextAnim;\r\n                if (removeFromQ !== false)\r\n                    animObj.q.splice(0, 1);\r\n                if (animObj.q[LEXICON.l] > 0) {\r\n                    nextAnim = animObj.q[0];\r\n                    animate(animObj.el, nextAnim.props, nextAnim.duration, nextAnim.easing, nextAnim.complete, true);\r\n                }\r\n                else {\r\n                    index = inArray(animObj, _animations);\r\n                    if (index > -1)\r\n                        _animations.splice(index, 1);\r\n                }\r\n            }\r\n\r\n            function setAnimationValue(el, prop, value) {\r\n                if (prop === _strScrollLeft || prop === _strScrollTop)\r\n                    el[prop] = value;\r\n                else\r\n                    setCSSVal(el, prop, value);\r\n            }\r\n\r\n            function animate(el, props, options, easing, complete, guaranteedNext) {\r\n                var hasOptions = isPlainObject(options);\r\n                var from = {};\r\n                var to = {};\r\n                var i = 0;\r\n                var key;\r\n                var animObj;\r\n                var start;\r\n                var progress;\r\n                var step;\r\n                var specialEasing;\r\n                var duration;\r\n                if (hasOptions) {\r\n                    easing = options.easing;\r\n                    start = options.start;\r\n                    progress = options.progress;\r\n                    step = options.step;\r\n                    specialEasing = options.specialEasing;\r\n                    complete = options.complete;\r\n                    duration = options.duration;\r\n                }\r\n                else\r\n                    duration = options;\r\n                specialEasing = specialEasing || {};\r\n                duration = duration || 400;\r\n                easing = easing || 'swing';\r\n                guaranteedNext = guaranteedNext || false;\r\n\r\n                for (; i < _animations[LEXICON.l]; i++) {\r\n                    if (_animations[i].el === el) {\r\n                        animObj = _animations[i];\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (!animObj) {\r\n                    animObj = {\r\n                        el: el,\r\n                        q: []\r\n                    };\r\n                    _animations.push(animObj);\r\n                }\r\n\r\n                for (key in props) {\r\n                    if (key === _strScrollLeft || key === _strScrollTop)\r\n                        from[key] = el[key];\r\n                    else\r\n                        from[key] = FakejQuery(el).css(key);\r\n                }\r\n\r\n                for (key in from) {\r\n                    if (from[key] !== props[key] && props[key] !== undefined)\r\n                        to[key] = props[key];\r\n                }\r\n\r\n                if (!isEmptyObject(to)) {\r\n                    var timeNow;\r\n                    var end;\r\n                    var percent;\r\n                    var fromVal;\r\n                    var toVal;\r\n                    var easedVal;\r\n                    var timeStart;\r\n                    var frame;\r\n                    var elapsed;\r\n                    var qPos = guaranteedNext ? 0 : inArray(qObj, animObj.q);\r\n                    var qObj = {\r\n                        props: to,\r\n                        duration: hasOptions ? options : duration,\r\n                        easing: easing,\r\n                        complete: complete\r\n                    };\r\n                    if (qPos === -1) {\r\n                        qPos = animObj.q[LEXICON.l];\r\n                        animObj.q.push(qObj);\r\n                    }\r\n\r\n                    if (qPos === 0) {\r\n                        if (duration > 0) {\r\n                            timeStart = COMPATIBILITY.now();\r\n                            frame = function () {\r\n                                timeNow = COMPATIBILITY.now();\r\n                                elapsed = (timeNow - timeStart);\r\n                                end = qObj.stop || elapsed >= duration;\r\n                                percent = 1 - ((MATH.max(0, timeStart + duration - timeNow) / duration) || 0);\r\n\r\n                                for (key in to) {\r\n                                    fromVal = parseFloat(from[key]);\r\n                                    toVal = parseFloat(to[key]);\r\n                                    easedVal = (toVal - fromVal) * EASING[specialEasing[key] || easing](percent, percent * duration, 0, 1, duration) + fromVal;\r\n                                    setAnimationValue(el, key, easedVal);\r\n                                    if (isFunction(step)) {\r\n                                        step(easedVal, {\r\n                                            elem: el,\r\n                                            prop: key,\r\n                                            start: fromVal,\r\n                                            now: easedVal,\r\n                                            end: toVal,\r\n                                            pos: percent,\r\n                                            options: {\r\n                                                easing: easing,\r\n                                                speacialEasing: specialEasing,\r\n                                                duration: duration,\r\n                                                complete: complete,\r\n                                                step: step\r\n                                            },\r\n                                            startTime: timeStart\r\n                                        });\r\n                                    }\r\n                                }\r\n\r\n                                if (isFunction(progress))\r\n                                    progress({}, percent, MATH.max(0, duration - elapsed));\r\n\r\n                                if (end) {\r\n                                    startNextAnimationInQ(animObj);\r\n                                    if (isFunction(complete))\r\n                                        complete();\r\n                                }\r\n                                else\r\n                                    qObj.frame = COMPATIBILITY.rAF()(frame);\r\n                            };\r\n                            qObj.frame = COMPATIBILITY.rAF()(frame);\r\n                        }\r\n                        else {\r\n                            for (key in to)\r\n                                setAnimationValue(el, key, to[key]);\r\n                            startNextAnimationInQ(animObj);\r\n                        }\r\n                    }\r\n                }\r\n                else if (guaranteedNext)\r\n                    startNextAnimationInQ(animObj);\r\n            }\r\n\r\n            function stop(el, clearQ, jumpToEnd) {\r\n                var animObj;\r\n                var qObj;\r\n                var key;\r\n                var i = 0;\r\n                for (; i < _animations[LEXICON.l]; i++) {\r\n                    animObj = _animations[i];\r\n                    if (animObj.el === el) {\r\n                        if (animObj.q[LEXICON.l] > 0) {\r\n                            qObj = animObj.q[0];\r\n                            qObj.stop = true;\r\n                            COMPATIBILITY.cAF()(qObj.frame);\r\n                            animObj.q.splice(0, 1);\r\n\r\n                            if (jumpToEnd)\r\n                                for (key in qObj.props)\r\n                                    setAnimationValue(el, key, qObj.props[key]);\r\n\r\n                            if (clearQ)\r\n                                animObj.q = [];\r\n                            else\r\n                                startNextAnimationInQ(animObj, false);\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            function elementIsVisible(el) {\r\n                return !!(el[LEXICON.oW] || el[LEXICON.oH] || el.getClientRects()[LEXICON.l]);\r\n            }\r\n\r\n            function FakejQuery(selector) {\r\n                if (arguments[LEXICON.l] === 0)\r\n                    return this;\r\n\r\n                var base = new FakejQuery();\r\n                var elements = selector;\r\n                var i = 0;\r\n                var elms;\r\n                var el;\r\n\r\n                if (_type(selector) == TYPES.s) {\r\n                    elements = [];\r\n                    if (selector.charAt(0) === '<') {\r\n                        el = document.createElement('div');\r\n                        el.innerHTML = selector;\r\n                        elms = el.children;\r\n                    }\r\n                    else {\r\n                        elms = document.querySelectorAll(selector);\r\n                    }\r\n\r\n                    for (; i < elms[LEXICON.l]; i++)\r\n                        elements.push(elms[i]);\r\n                }\r\n\r\n                if (elements) {\r\n                    if (_type(elements) != TYPES.s && (!isArrayLike(elements) || elements === window || elements === elements.self))\r\n                        elements = [elements];\r\n\r\n                    for (i = 0; i < elements[LEXICON.l]; i++)\r\n                        base[i] = elements[i];\r\n\r\n                    base[LEXICON.l] = elements[LEXICON.l];\r\n                }\r\n\r\n                return base;\r\n            };\r\n\r\n            FakejQuery[LEXICON.p] = {\r\n\r\n                //EVENTS:\r\n\r\n                on: function (eventName, handler) {\r\n                    eventName = (eventName || _strEmpty).match(_rnothtmlwhite) || [_strEmpty];\r\n\r\n                    var eventNameLength = eventName[LEXICON.l];\r\n                    var i = 0;\r\n                    var el;\r\n                    return this.each(function () {\r\n                        el = this;\r\n                        try {\r\n                            if (el.addEventListener) {\r\n                                for (; i < eventNameLength; i++)\r\n                                    el.addEventListener(eventName[i], handler);\r\n                            }\r\n                            else if (el.detachEvent) {\r\n                                for (; i < eventNameLength; i++)\r\n                                    el.attachEvent('on' + eventName[i], handler);\r\n                            }\r\n                        } catch (e) { }\r\n                    });\r\n                },\r\n\r\n                off: function (eventName, handler) {\r\n                    eventName = (eventName || _strEmpty).match(_rnothtmlwhite) || [_strEmpty];\r\n\r\n                    var eventNameLength = eventName[LEXICON.l];\r\n                    var i = 0;\r\n                    var el;\r\n                    return this.each(function () {\r\n                        el = this;\r\n                        try {\r\n                            if (el.removeEventListener) {\r\n                                for (; i < eventNameLength; i++)\r\n                                    el.removeEventListener(eventName[i], handler);\r\n                            }\r\n                            else if (el.detachEvent) {\r\n                                for (; i < eventNameLength; i++)\r\n                                    el.detachEvent('on' + eventName[i], handler);\r\n                            }\r\n                        } catch (e) { }\r\n                    });\r\n                },\r\n\r\n                one: function (eventName, handler) {\r\n                    eventName = (eventName || _strEmpty).match(_rnothtmlwhite) || [_strEmpty];\r\n                    return this.each(function () {\r\n                        var el = FakejQuery(this);\r\n                        FakejQuery.each(eventName, function (i, oneEventName) {\r\n                            var oneHandler = function (e) {\r\n                                handler.call(this, e);\r\n                                el.off(oneEventName, oneHandler);\r\n                            };\r\n                            el.on(oneEventName, oneHandler);\r\n                        });\r\n                    });\r\n                },\r\n\r\n                trigger: function (eventName) {\r\n                    var el;\r\n                    var event;\r\n                    return this.each(function () {\r\n                        el = this;\r\n                        if (document.createEvent) {\r\n                            event = document.createEvent('HTMLEvents');\r\n                            event.initEvent(eventName, true, false);\r\n                            el.dispatchEvent(event);\r\n                        }\r\n                        else {\r\n                            el.fireEvent('on' + eventName);\r\n                        }\r\n                    });\r\n                },\r\n\r\n                //DOM NODE INSERTING / REMOVING:\r\n\r\n                append: function (child) {\r\n                    return this.each(function () { insertAdjacentElement(this, 'beforeend', child); });\r\n                },\r\n\r\n                prepend: function (child) {\r\n                    return this.each(function () { insertAdjacentElement(this, 'afterbegin', child); });\r\n                },\r\n\r\n                before: function (child) {\r\n                    return this.each(function () { insertAdjacentElement(this, 'beforebegin', child); });\r\n                },\r\n\r\n                after: function (child) {\r\n                    return this.each(function () { insertAdjacentElement(this, 'afterend', child); });\r\n                },\r\n\r\n                remove: function () {\r\n                    return this.each(function () {\r\n                        var el = this;\r\n                        var parentNode = el.parentNode;\r\n                        if (parentNode != null)\r\n                            parentNode.removeChild(el);\r\n                    });\r\n                },\r\n\r\n                unwrap: function () {\r\n                    var parents = [];\r\n                    var i;\r\n                    var el;\r\n                    var parent;\r\n\r\n                    this.each(function () {\r\n                        parent = this.parentNode;\r\n                        if (inArray(parent, parents) === - 1)\r\n                            parents.push(parent);\r\n                    });\r\n\r\n                    for (i = 0; i < parents[LEXICON.l]; i++) {\r\n                        el = parents[i];\r\n                        parent = el.parentNode;\r\n                        while (el.firstChild)\r\n                            parent.insertBefore(el.firstChild, el);\r\n                        parent.removeChild(el);\r\n                    }\r\n\r\n                    return this;\r\n                },\r\n\r\n                wrapAll: function (wrapperHTML) {\r\n                    var i;\r\n                    var nodes = this;\r\n                    var wrapper = FakejQuery(wrapperHTML)[0];\r\n                    var deepest = wrapper;\r\n                    var parent = nodes[0].parentNode;\r\n                    var previousSibling = nodes[0].previousSibling;\r\n                    while (deepest.childNodes[LEXICON.l] > 0)\r\n                        deepest = deepest.childNodes[0];\r\n\r\n                    for (i = 0; nodes[LEXICON.l] - i; deepest.firstChild === nodes[0] && i++)\r\n                        deepest.appendChild(nodes[i]);\r\n\r\n                    var nextSibling = previousSibling ? previousSibling.nextSibling : parent.firstChild;\r\n                    parent.insertBefore(wrapper, nextSibling);\r\n\r\n                    return this;\r\n                },\r\n\r\n                wrapInner: function (wrapperHTML) {\r\n                    return this.each(function () {\r\n                        var el = FakejQuery(this);\r\n                        var contents = el.contents();\r\n\r\n                        if (contents[LEXICON.l])\r\n                            contents.wrapAll(wrapperHTML);\r\n                        else\r\n                            el.append(wrapperHTML);\r\n                    });\r\n                },\r\n\r\n                wrap: function (wrapperHTML) {\r\n                    return this.each(function () { FakejQuery(this).wrapAll(wrapperHTML); });\r\n                },\r\n\r\n\r\n                //DOM NODE MANIPULATION / INFORMATION:\r\n\r\n                css: function (styles, val) {\r\n                    var el;\r\n                    var key;\r\n                    var cptStyle;\r\n                    var getCptStyle = window.getComputedStyle;\r\n                    if (_type(styles) == TYPES.s) {\r\n                        if (val === undefined) {\r\n                            el = this[0];\r\n                            cptStyle = getCptStyle ? getCptStyle(el, null) : el.currentStyle[styles];\r\n\r\n                            //https://bugzilla.mozilla.org/show_bug.cgi?id=548397 can be null sometimes if iframe with display: none (firefox only!)\r\n                            return getCptStyle ? cptStyle != null ? cptStyle.getPropertyValue(styles) : el[LEXICON.s][styles] : cptStyle;\r\n                        }\r\n                        else {\r\n                            return this.each(function () {\r\n                                setCSSVal(this, styles, val);\r\n                            });\r\n                        }\r\n                    }\r\n                    else {\r\n                        return this.each(function () {\r\n                            for (key in styles)\r\n                                setCSSVal(this, key, styles[key]);\r\n                        });\r\n                    }\r\n                },\r\n\r\n                hasClass: function (className) {\r\n                    var elem, i = 0;\r\n                    var classNamePrepared = _strSpace + className + _strSpace;\r\n                    var classList;\r\n\r\n                    while ((elem = this[i++])) {\r\n                        classList = elem.classList;\r\n                        if (classList && classList.contains(className))\r\n                            return true;\r\n                        else if (elem.nodeType === 1 && (_strSpace + stripAndCollapse(elem.className + _strEmpty) + _strSpace).indexOf(classNamePrepared) > -1)\r\n                            return true;\r\n                    }\r\n\r\n                    return false;\r\n                },\r\n\r\n                addClass: function (className) {\r\n                    var classes;\r\n                    var elem;\r\n                    var cur;\r\n                    var curValue;\r\n                    var clazz;\r\n                    var finalValue;\r\n                    var supportClassList;\r\n                    var elmClassList;\r\n                    var i = 0;\r\n                    var v = 0;\r\n\r\n                    if (className) {\r\n                        classes = className.match(_rnothtmlwhite) || [];\r\n\r\n                        while ((elem = this[i++])) {\r\n                            elmClassList = elem.classList;\r\n                            if (supportClassList === undefined)\r\n                                supportClassList = elmClassList !== undefined;\r\n\r\n                            if (supportClassList) {\r\n                                while ((clazz = classes[v++]))\r\n                                    elmClassList.add(clazz);\r\n                            }\r\n                            else {\r\n                                curValue = elem.className + _strEmpty;\r\n                                cur = elem.nodeType === 1 && (_strSpace + stripAndCollapse(curValue) + _strSpace);\r\n\r\n                                if (cur) {\r\n                                    while ((clazz = classes[v++]))\r\n                                        if (cur.indexOf(_strSpace + clazz + _strSpace) < 0)\r\n                                            cur += clazz + _strSpace;\r\n\r\n                                    finalValue = stripAndCollapse(cur);\r\n                                    if (curValue !== finalValue)\r\n                                        elem.className = finalValue;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    return this;\r\n                },\r\n\r\n                removeClass: function (className) {\r\n                    var classes;\r\n                    var elem;\r\n                    var cur;\r\n                    var curValue;\r\n                    var clazz;\r\n                    var finalValue;\r\n                    var supportClassList;\r\n                    var elmClassList;\r\n                    var i = 0;\r\n                    var v = 0;\r\n\r\n                    if (className) {\r\n                        classes = className.match(_rnothtmlwhite) || [];\r\n\r\n                        while ((elem = this[i++])) {\r\n                            elmClassList = elem.classList;\r\n                            if (supportClassList === undefined)\r\n                                supportClassList = elmClassList !== undefined;\r\n\r\n                            if (supportClassList) {\r\n                                while ((clazz = classes[v++]))\r\n                                    elmClassList.remove(clazz);\r\n                            }\r\n                            else {\r\n                                curValue = elem.className + _strEmpty;\r\n                                cur = elem.nodeType === 1 && (_strSpace + stripAndCollapse(curValue) + _strSpace);\r\n\r\n                                if (cur) {\r\n                                    while ((clazz = classes[v++]))\r\n                                        while (cur.indexOf(_strSpace + clazz + _strSpace) > -1)\r\n                                            cur = cur.replace(_strSpace + clazz + _strSpace, _strSpace);\r\n\r\n                                    finalValue = stripAndCollapse(cur);\r\n                                    if (curValue !== finalValue)\r\n                                        elem.className = finalValue;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    return this;\r\n                },\r\n\r\n                hide: function () {\r\n                    return this.each(function () { this[LEXICON.s].display = 'none'; });\r\n                },\r\n\r\n                show: function () {\r\n                    return this.each(function () { this[LEXICON.s].display = 'block'; });\r\n                },\r\n\r\n                attr: function (attrName, value) {\r\n                    var i = 0;\r\n                    var el;\r\n                    while (el = this[i++]) {\r\n                        if (value === undefined)\r\n                            return el.getAttribute(attrName);\r\n                        el.setAttribute(attrName, value);\r\n                    }\r\n                    return this;\r\n                },\r\n\r\n                removeAttr: function (attrName) {\r\n                    return this.each(function () { this.removeAttribute(attrName); });\r\n                },\r\n\r\n                offset: function () {\r\n                    var el = this[0];\r\n                    var rect = el[LEXICON.bCR]();\r\n                    var scrollLeft = window.pageXOffset || document.documentElement[_strScrollLeft];\r\n                    var scrollTop = window.pageYOffset || document.documentElement[_strScrollTop];\r\n                    return {\r\n                        top: rect.top + scrollTop,\r\n                        left: rect.left + scrollLeft\r\n                    };\r\n                },\r\n\r\n                position: function () {\r\n                    var el = this[0];\r\n                    return {\r\n                        top: el.offsetTop,\r\n                        left: el.offsetLeft\r\n                    };\r\n                },\r\n\r\n                scrollLeft: function (value) {\r\n                    var i = 0;\r\n                    var el;\r\n                    while (el = this[i++]) {\r\n                        if (value === undefined)\r\n                            return el[_strScrollLeft];\r\n                        el[_strScrollLeft] = value;\r\n                    }\r\n                    return this;\r\n                },\r\n\r\n                scrollTop: function (value) {\r\n                    var i = 0;\r\n                    var el;\r\n                    while (el = this[i++]) {\r\n                        if (value === undefined)\r\n                            return el[_strScrollTop];\r\n                        el[_strScrollTop] = value;\r\n                    }\r\n                    return this;\r\n                },\r\n\r\n                val: function (value) {\r\n                    var el = this[0];\r\n                    if (!value)\r\n                        return el.value;\r\n                    el.value = value;\r\n                    return this;\r\n                },\r\n\r\n\r\n                //DOM TRAVERSAL / FILTERING:\r\n\r\n                first: function () {\r\n                    return this.eq(0);\r\n                },\r\n\r\n                last: function () {\r\n                    return this.eq(-1);\r\n                },\r\n\r\n                eq: function (index) {\r\n                    return FakejQuery(this[index >= 0 ? index : this[LEXICON.l] + index]);\r\n                },\r\n\r\n                find: function (selector) {\r\n                    var children = [];\r\n                    var i;\r\n                    this.each(function () {\r\n                        var el = this;\r\n                        var ch = el.querySelectorAll(selector);\r\n                        for (i = 0; i < ch[LEXICON.l]; i++)\r\n                            children.push(ch[i]);\r\n                    });\r\n                    return FakejQuery(children);\r\n                },\r\n\r\n                children: function (selector) {\r\n                    var children = [];\r\n                    var el;\r\n                    var ch;\r\n                    var i;\r\n\r\n                    this.each(function () {\r\n                        ch = this.children;\r\n                        for (i = 0; i < ch[LEXICON.l]; i++) {\r\n                            el = ch[i];\r\n                            if (selector) {\r\n                                if ((el.matches && el.matches(selector)) || matches(el, selector))\r\n                                    children.push(el);\r\n                            }\r\n                            else\r\n                                children.push(el);\r\n                        }\r\n                    });\r\n                    return FakejQuery(children);\r\n                },\r\n\r\n                parent: function (selector) {\r\n                    var parents = [];\r\n                    var parent;\r\n                    this.each(function () {\r\n                        parent = this.parentNode;\r\n                        if (selector ? FakejQuery(parent).is(selector) : true)\r\n                            parents.push(parent);\r\n                    });\r\n                    return FakejQuery(parents);\r\n                },\r\n\r\n                is: function (selector) {\r\n\r\n                    var el;\r\n                    var i;\r\n                    for (i = 0; i < this[LEXICON.l]; i++) {\r\n                        el = this[i];\r\n                        if (selector === ':visible')\r\n                            return elementIsVisible(el);\r\n                        if (selector === ':hidden')\r\n                            return !elementIsVisible(el);\r\n                        if ((el.matches && el.matches(selector)) || matches(el, selector))\r\n                            return true;\r\n                    }\r\n                    return false;\r\n                },\r\n\r\n                contents: function () {\r\n                    var contents = [];\r\n                    var childs;\r\n                    var i;\r\n\r\n                    this.each(function () {\r\n                        childs = this.childNodes;\r\n                        for (i = 0; i < childs[LEXICON.l]; i++)\r\n                            contents.push(childs[i]);\r\n                    });\r\n\r\n                    return FakejQuery(contents);\r\n                },\r\n\r\n                each: function (callback) {\r\n                    return each(this, callback);\r\n                },\r\n\r\n\r\n                //ANIMATION:\r\n\r\n                animate: function (props, duration, easing, complete) {\r\n                    return this.each(function () { animate(this, props, duration, easing, complete); });\r\n                },\r\n\r\n                stop: function (clearQ, jump) {\r\n                    return this.each(function () { stop(this, clearQ, jump); });\r\n                }\r\n            };\r\n\r\n            extend(FakejQuery, {\r\n                extend: extend,\r\n                inArray: inArray,\r\n                isEmptyObject: isEmptyObject,\r\n                isPlainObject: isPlainObject,\r\n                each: each\r\n            });\r\n\r\n            return FakejQuery;\r\n        })();\r\n        var INSTANCES = (function () {\r\n            var _targets = [];\r\n            var _instancePropertyString = '__overlayScrollbars__';\r\n\r\n            /**\r\n             * Register, unregister or get a certain (or all) instances.\r\n             * Register: Pass the target and the instance.\r\n             * Unregister: Pass the target and null.\r\n             * Get Instance: Pass the target from which the instance shall be got.\r\n             * Get Targets: Pass no arguments.\r\n             * @param target The target to which the instance shall be registered / from which the instance shall be unregistered / the instance shall be got\r\n             * @param instance The instance.\r\n             * @returns {*|void} Returns the instance from the given target.\r\n             */\r\n            return function (target, instance) {\r\n                var argLen = arguments[LEXICON.l];\r\n                if (argLen < 1) {\r\n                    //return all targets\r\n                    return _targets;\r\n                }\r\n                else {\r\n                    if (instance) {\r\n                        //register instance\r\n                        target[_instancePropertyString] = instance;\r\n                        _targets.push(target);\r\n                    }\r\n                    else {\r\n                        var index = COMPATIBILITY.inA(target, _targets);\r\n                        if (index > -1) {\r\n                            if (argLen > 1) {\r\n                                //unregister instance\r\n                                delete target[_instancePropertyString];\r\n                                _targets.splice(index, 1);\r\n                            }\r\n                            else {\r\n                                //get instance from target\r\n                                return _targets[index][_instancePropertyString];\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        })();\r\n        var PLUGIN = (function () {\r\n            var _plugin;\r\n            var _pluginsGlobals;\r\n            var _pluginsAutoUpdateLoop;\r\n            var _pluginsExtensions = [];\r\n            var _pluginsOptions = (function () {\r\n                var type = COMPATIBILITY.type;\r\n                var possibleTemplateTypes = [\r\n                    TYPES.b, //boolean\r\n                    TYPES.n, //number\r\n                    TYPES.s, //string\r\n                    TYPES.a, //array\r\n                    TYPES.o, //object\r\n                    TYPES.f, //function\r\n                    TYPES.z  //null\r\n                ];\r\n                var restrictedStringsSplit = ' ';\r\n                var restrictedStringsPossibilitiesSplit = ':';\r\n                var classNameAllowedValues = [TYPES.z, TYPES.s];\r\n                var numberAllowedValues = TYPES.n;\r\n                var booleanNullAllowedValues = [TYPES.z, TYPES.b];\r\n                var booleanTrueTemplate = [true, TYPES.b];\r\n                var booleanFalseTemplate = [false, TYPES.b];\r\n                var callbackTemplate = [null, [TYPES.z, TYPES.f]];\r\n                var updateOnLoadTemplate = [['img'], [TYPES.s, TYPES.a, TYPES.z]];\r\n                var inheritedAttrsTemplate = [['style', 'class'], [TYPES.s, TYPES.a, TYPES.z]];\r\n                var resizeAllowedValues = 'n:none b:both h:horizontal v:vertical';\r\n                var overflowBehaviorAllowedValues = 'v-h:visible-hidden v-s:visible-scroll s:scroll h:hidden';\r\n                var scrollbarsVisibilityAllowedValues = 'v:visible h:hidden a:auto';\r\n                var scrollbarsAutoHideAllowedValues = 'n:never s:scroll l:leave m:move';\r\n                var optionsDefaultsAndTemplate = {\r\n                    className: ['os-theme-dark', classNameAllowedValues],                //null || string\r\n                    resize: ['none', resizeAllowedValues],                               //none || both  || horizontal || vertical || n || b || h || v\r\n                    sizeAutoCapable: booleanTrueTemplate,                                //true || false\r\n                    clipAlways: booleanTrueTemplate,                                     //true || false\r\n                    normalizeRTL: booleanTrueTemplate,                                   //true || false\r\n                    paddingAbsolute: booleanFalseTemplate,                               //true || false\r\n                    autoUpdate: [null, booleanNullAllowedValues],                        //true || false || null\r\n                    autoUpdateInterval: [33, numberAllowedValues],                       //number\r\n                    updateOnLoad: updateOnLoadTemplate,                                  //string || array || null\r\n                    nativeScrollbarsOverlaid: {\r\n                        showNativeScrollbars: booleanFalseTemplate,                      //true || false\r\n                        initialize: booleanTrueTemplate                                  //true || false\r\n                    },\r\n                    overflowBehavior: {\r\n                        x: ['scroll', overflowBehaviorAllowedValues],                    //visible-hidden  || visible-scroll || hidden || scroll || v-h || v-s || h || s\r\n                        y: ['scroll', overflowBehaviorAllowedValues]                     //visible-hidden  || visible-scroll || hidden || scroll || v-h || v-s || h || s\r\n                    },\r\n                    scrollbars: {\r\n                        visibility: ['auto', scrollbarsVisibilityAllowedValues],         //visible || hidden || auto || v || h || a\r\n                        autoHide: ['never', scrollbarsAutoHideAllowedValues],            //never || scroll || leave || move || n || s || l || m\r\n                        autoHideDelay: [800, numberAllowedValues],                       //number\r\n                        dragScrolling: booleanTrueTemplate,                              //true || false\r\n                        clickScrolling: booleanFalseTemplate,                            //true || false\r\n                        touchSupport: booleanTrueTemplate,                               //true || false\r\n                        snapHandle: booleanFalseTemplate                                 //true || false\r\n                    },\r\n                    textarea: {\r\n                        dynWidth: booleanFalseTemplate,                                  //true || false\r\n                        dynHeight: booleanFalseTemplate,                                 //true || false\r\n                        inheritedAttrs: inheritedAttrsTemplate                           //string || array || null\r\n                    },\r\n                    callbacks: {\r\n                        onInitialized: callbackTemplate,                                 //null || function\r\n                        onInitializationWithdrawn: callbackTemplate,                     //null || function\r\n                        onDestroyed: callbackTemplate,                                   //null || function\r\n                        onScrollStart: callbackTemplate,                                 //null || function\r\n                        onScroll: callbackTemplate,                                      //null || function\r\n                        onScrollStop: callbackTemplate,                                  //null || function\r\n                        onOverflowChanged: callbackTemplate,                             //null || function\r\n                        onOverflowAmountChanged: callbackTemplate,                       //null || function\r\n                        onDirectionChanged: callbackTemplate,                            //null || function\r\n                        onContentSizeChanged: callbackTemplate,                          //null || function\r\n                        onHostSizeChanged: callbackTemplate,                             //null || function\r\n                        onUpdated: callbackTemplate                                      //null || function\r\n                    }\r\n                };\r\n                var convert = function (template) {\r\n                    var recursive = function (obj) {\r\n                        var key;\r\n                        var val;\r\n                        var valType;\r\n                        for (key in obj) {\r\n                            if (!obj[LEXICON.hOP](key))\r\n                                continue;\r\n                            val = obj[key];\r\n                            valType = type(val);\r\n                            if (valType == TYPES.a)\r\n                                obj[key] = val[template ? 1 : 0];\r\n                            else if (valType == TYPES.o)\r\n                                obj[key] = recursive(val);\r\n                        }\r\n                        return obj;\r\n                    };\r\n                    return recursive(FRAMEWORK.extend(true, {}, optionsDefaultsAndTemplate));\r\n                };\r\n\r\n                return {\r\n                    _defaults: convert(),\r\n\r\n                    _template: convert(true),\r\n\r\n                    /**\r\n                     * Validates the passed object by the passed template.\r\n                     * @param obj The object which shall be validated.\r\n                     * @param template The template which defines the allowed values and types.\r\n                     * @param writeErrors True if errors shall be logged to the console.\r\n                     * @param diffObj If a object is passed then only valid differences to this object will be returned.\r\n                     * @returns {{}} A object which contains two objects called \"default\" and \"prepared\" which contains only the valid properties of the passed original object and discards not different values compared to the passed diffObj.\r\n                     */\r\n                    _validate: function (obj, template, writeErrors, diffObj) {\r\n                        var validatedOptions = {};\r\n                        var validatedOptionsPrepared = {};\r\n                        var objectCopy = FRAMEWORK.extend(true, {}, obj);\r\n                        var inArray = FRAMEWORK.inArray;\r\n                        var isEmptyObj = FRAMEWORK.isEmptyObject;\r\n                        var checkObjectProps = function (data, template, diffData, validatedOptions, validatedOptionsPrepared, prevPropName) {\r\n                            for (var prop in template) {\r\n                                if (template[LEXICON.hOP](prop) && data[LEXICON.hOP](prop)) {\r\n                                    var isValid = false;\r\n                                    var isDiff = false;\r\n                                    var templateValue = template[prop];\r\n                                    var templateValueType = type(templateValue);\r\n                                    var templateIsComplex = templateValueType == TYPES.o;\r\n                                    var templateTypes = !COMPATIBILITY.isA(templateValue) ? [templateValue] : templateValue;\r\n                                    var dataDiffValue = diffData[prop];\r\n                                    var dataValue = data[prop];\r\n                                    var dataValueType = type(dataValue);\r\n                                    var propPrefix = prevPropName ? prevPropName + '.' : '';\r\n                                    var error = \"The option \\\"\" + propPrefix + prop + \"\\\" wasn't set, because\";\r\n                                    var errorPossibleTypes = [];\r\n                                    var errorRestrictedStrings = [];\r\n                                    var restrictedStringValuesSplit;\r\n                                    var restrictedStringValuesPossibilitiesSplit;\r\n                                    var isRestrictedValue;\r\n                                    var mainPossibility;\r\n                                    var currType;\r\n                                    var i;\r\n                                    var v;\r\n                                    var j;\r\n\r\n                                    dataDiffValue = dataDiffValue === undefined ? {} : dataDiffValue;\r\n\r\n                                    //if the template has a object as value, it means that the options are complex (verschachtelt)\r\n                                    if (templateIsComplex && dataValueType == TYPES.o) {\r\n                                        validatedOptions[prop] = {};\r\n                                        validatedOptionsPrepared[prop] = {};\r\n                                        checkObjectProps(dataValue, templateValue, dataDiffValue, validatedOptions[prop], validatedOptionsPrepared[prop], propPrefix + prop);\r\n                                        FRAMEWORK.each([data, validatedOptions, validatedOptionsPrepared], function (index, value) {\r\n                                            if (isEmptyObj(value[prop])) {\r\n                                                delete value[prop];\r\n                                            }\r\n                                        });\r\n                                    }\r\n                                    else if (!templateIsComplex) {\r\n                                        for (i = 0; i < templateTypes[LEXICON.l]; i++) {\r\n                                            currType = templateTypes[i];\r\n                                            templateValueType = type(currType);\r\n                                            //if currtype is string and starts with restrictedStringPrefix and end with restrictedStringSuffix\r\n                                            isRestrictedValue = templateValueType == TYPES.s && inArray(currType, possibleTemplateTypes) === -1;\r\n                                            if (isRestrictedValue) {\r\n                                                errorPossibleTypes.push(TYPES.s);\r\n\r\n                                                //split it into a array which contains all possible values for example: [\"y:yes\", \"n:no\", \"m:maybe\"]\r\n                                                restrictedStringValuesSplit = currType.split(restrictedStringsSplit);\r\n                                                errorRestrictedStrings = errorRestrictedStrings.concat(restrictedStringValuesSplit);\r\n                                                for (v = 0; v < restrictedStringValuesSplit[LEXICON.l]; v++) {\r\n                                                    //split the possible values into their possibiliteis for example: [\"y\", \"yes\"] -> the first is always the mainPossibility\r\n                                                    restrictedStringValuesPossibilitiesSplit = restrictedStringValuesSplit[v].split(restrictedStringsPossibilitiesSplit);\r\n                                                    mainPossibility = restrictedStringValuesPossibilitiesSplit[0];\r\n                                                    for (j = 0; j < restrictedStringValuesPossibilitiesSplit[LEXICON.l]; j++) {\r\n                                                        //if any possibility matches with the dataValue, its valid\r\n                                                        if (dataValue === restrictedStringValuesPossibilitiesSplit[j]) {\r\n                                                            isValid = true;\r\n                                                            break;\r\n                                                        }\r\n                                                    }\r\n                                                    if (isValid)\r\n                                                        break;\r\n                                                }\r\n                                            }\r\n                                            else {\r\n                                                errorPossibleTypes.push(currType);\r\n\r\n                                                if (dataValueType === currType) {\r\n                                                    isValid = true;\r\n                                                    break;\r\n                                                }\r\n                                            }\r\n                                        }\r\n\r\n                                        if (isValid) {\r\n                                            isDiff = dataValue !== dataDiffValue;\r\n\r\n                                            if (isDiff)\r\n                                                validatedOptions[prop] = dataValue;\r\n\r\n                                            if (isRestrictedValue ? inArray(dataDiffValue, restrictedStringValuesPossibilitiesSplit) < 0 : isDiff)\r\n                                                validatedOptionsPrepared[prop] = isRestrictedValue ? mainPossibility : dataValue;\r\n                                        }\r\n                                        else if (writeErrors) {\r\n                                            console.warn(error + \" it doesn't accept the type [ \" + dataValueType.toUpperCase() + \" ] with the value of \\\"\" + dataValue + \"\\\".\\r\\n\" +\r\n                                                \"Accepted types are: [ \" + errorPossibleTypes.join(', ').toUpperCase() + \" ].\" +\r\n                                                (errorRestrictedStrings[length] > 0 ? \"\\r\\nValid strings are: [ \" + errorRestrictedStrings.join(', ').split(restrictedStringsPossibilitiesSplit).join(', ') + \" ].\" : ''));\r\n                                        }\r\n                                        delete data[prop];\r\n                                    }\r\n                                }\r\n                            }\r\n                        };\r\n                        checkObjectProps(objectCopy, template, diffObj || {}, validatedOptions, validatedOptionsPrepared);\r\n\r\n                        //add values which aren't specified in the template to the finished validated object to prevent them from being discarded\r\n                        /*\r\n                        if(keepForeignProps) {\r\n                            FRAMEWORK.extend(true, validatedOptions, objectCopy);\r\n                            FRAMEWORK.extend(true, validatedOptionsPrepared, objectCopy);\r\n                        }\r\n                        */\r\n\r\n                        if (!isEmptyObj(objectCopy) && writeErrors)\r\n                            console.warn('The following options are discarded due to invalidity:\\r\\n' + window.JSON.stringify(objectCopy, null, 2));\r\n\r\n                        return {\r\n                            _default: validatedOptions,\r\n                            _prepared: validatedOptionsPrepared\r\n                        };\r\n                    }\r\n                }\r\n            }());\r\n\r\n            /**\r\n             * Initializes the object which contains global information about the plugin and each instance of it.\r\n             */\r\n            function initOverlayScrollbarsStatics() {\r\n                if (!_pluginsGlobals)\r\n                    _pluginsGlobals = new OverlayScrollbarsGlobals(_pluginsOptions._defaults);\r\n                if (!_pluginsAutoUpdateLoop)\r\n                    _pluginsAutoUpdateLoop = new OverlayScrollbarsAutoUpdateLoop(_pluginsGlobals);\r\n            }\r\n\r\n            /**\r\n             * The global object for the OverlayScrollbars objects. It contains resources which every OverlayScrollbars object needs. This object is initialized only once: if the first OverlayScrollbars object gets initialized.\r\n             * @param defaultOptions\r\n             * @constructor\r\n             */\r\n            function OverlayScrollbarsGlobals(defaultOptions) {\r\n                var _base = this;\r\n                var strOverflow = 'overflow';\r\n                var strHidden = 'hidden';\r\n                var strScroll = 'scroll';\r\n                var bodyElement = FRAMEWORK('body');\r\n                var scrollbarDummyElement = FRAMEWORK('<div id=\"os-dummy-scrollbar-size\"><div></div></div>');\r\n                var scrollbarDummyElement0 = scrollbarDummyElement[0];\r\n                var dummyContainerChild = FRAMEWORK(scrollbarDummyElement.children('div').eq(0));\r\n\r\n                bodyElement.append(scrollbarDummyElement);\r\n                scrollbarDummyElement.hide().show(); //fix IE8 bug (incorrect measuring)\r\n\r\n                var nativeScrollbarSize = calcNativeScrollbarSize(scrollbarDummyElement0);\r\n                var nativeScrollbarIsOverlaid = {\r\n                    x: nativeScrollbarSize.x === 0,\r\n                    y: nativeScrollbarSize.y === 0\r\n                };\r\n                var msie = (function () {\r\n                    var ua = window.navigator.userAgent;\r\n                    var strIndexOf = 'indexOf';\r\n                    var strSubString = 'substring';\r\n                    var msie = ua[strIndexOf]('MSIE ');\r\n                    var trident = ua[strIndexOf]('Trident/');\r\n                    var edge = ua[strIndexOf]('Edge/');\r\n                    var rv = ua[strIndexOf]('rv:');\r\n                    var result;\r\n                    var parseIntFunc = parseInt;\r\n\r\n                    // IE 10 or older => return version number\r\n                    if (msie > 0)\r\n                        result = parseIntFunc(ua[strSubString](msie + 5, ua[strIndexOf]('.', msie)), 10);\r\n\r\n                    // IE 11 => return version number\r\n                    else if (trident > 0)\r\n                        result = parseIntFunc(ua[strSubString](rv + 3, ua[strIndexOf]('.', rv)), 10);\r\n\r\n                    // Edge (IE 12+) => return version number\r\n                    else if (edge > 0)\r\n                        result = parseIntFunc(ua[strSubString](edge + 5, ua[strIndexOf]('.', edge)), 10);\r\n\r\n                    // other browser\r\n                    return result;\r\n                })();\r\n\r\n                FRAMEWORK.extend(_base, {\r\n                    defaultOptions: defaultOptions,\r\n                    msie: msie,\r\n                    autoUpdateLoop: false,\r\n                    autoUpdateRecommended: !COMPATIBILITY.mO(),\r\n                    nativeScrollbarSize: nativeScrollbarSize,\r\n                    nativeScrollbarIsOverlaid: nativeScrollbarIsOverlaid,\r\n                    nativeScrollbarStyling: (function () {\r\n                        var result = false;\r\n                        scrollbarDummyElement.addClass('os-viewport-native-scrollbars-invisible');\r\n                        try {\r\n                            result = (scrollbarDummyElement.css('scrollbar-width') === 'none' && (msie > 9 || !msie)) || window.getComputedStyle(scrollbarDummyElement0, '::-webkit-scrollbar').getPropertyValue('display') === 'none';\r\n                        } catch (ex) { }\r\n\r\n                        //fix opera bug: scrollbar styles will only appear if overflow value is scroll or auto during the activation of the style.\r\n                        //and set overflow to scroll\r\n                        //scrollbarDummyElement.css(strOverflow, strHidden).hide().css(strOverflow, strScroll).show();\r\n                        //return (scrollbarDummyElement0[LEXICON.oH] - scrollbarDummyElement0[LEXICON.cH]) === 0 && (scrollbarDummyElement0[LEXICON.oW] - scrollbarDummyElement0[LEXICON.cW]) === 0;\r\n\r\n                        return result;\r\n                    })(),\r\n                    overlayScrollbarDummySize: { x: 30, y: 30 },\r\n                    cssCalc: VENDORS._cssPropertyValue('width', 'calc', '(1px)') || null,\r\n                    restrictedMeasuring: (function () {\r\n                        //https://bugzilla.mozilla.org/show_bug.cgi?id=1439305\r\n                        //since 1.11.0 always false -> fixed via CSS (hopefully)\r\n                        scrollbarDummyElement.css(strOverflow, strHidden);\r\n                        var scrollSize = {\r\n                            w: scrollbarDummyElement0[LEXICON.sW],\r\n                            h: scrollbarDummyElement0[LEXICON.sH]\r\n                        };\r\n                        scrollbarDummyElement.css(strOverflow, 'visible');\r\n                        var scrollSize2 = {\r\n                            w: scrollbarDummyElement0[LEXICON.sW],\r\n                            h: scrollbarDummyElement0[LEXICON.sH]\r\n                        };\r\n                        return (scrollSize.w - scrollSize2.w) !== 0 || (scrollSize.h - scrollSize2.h) !== 0;\r\n                    })(),\r\n                    rtlScrollBehavior: (function () {\r\n                        scrollbarDummyElement.css({ 'overflow-y': strHidden, 'overflow-x': strScroll, 'direction': 'rtl' }).scrollLeft(0);\r\n                        var dummyContainerOffset = scrollbarDummyElement.offset();\r\n                        var dummyContainerChildOffset = dummyContainerChild.offset();\r\n                        //https://github.com/KingSora/OverlayScrollbars/issues/187\r\n                        scrollbarDummyElement.scrollLeft(-999);\r\n                        var dummyContainerChildOffsetAfterScroll = dummyContainerChild.offset();\r\n                        return {\r\n                            //origin direction = determines if the zero scroll position is on the left or right side\r\n                            //'i' means 'invert' (i === true means that the axis must be inverted to be correct)\r\n                            //true = on the left side\r\n                            //false = on the right side\r\n                            i: dummyContainerOffset.left === dummyContainerChildOffset.left,\r\n                            //negative = determines if the maximum scroll is positive or negative\r\n                            //'n' means 'negate' (n === true means that the axis must be negated to be correct)\r\n                            //true = negative\r\n                            //false = positive\r\n                            n: dummyContainerChildOffset.left !== dummyContainerChildOffsetAfterScroll.left\r\n                        };\r\n                    })(),\r\n                    supportTransform: !!VENDORS._cssProperty('transform'),\r\n                    supportTransition: !!VENDORS._cssProperty('transition'),\r\n                    supportPassiveEvents: (function () {\r\n                        var supportsPassive = false;\r\n                        try {\r\n                            window.addEventListener('test', null, Object.defineProperty({}, 'passive', {\r\n                                get: function () {\r\n                                    supportsPassive = true;\r\n                                }\r\n                            }));\r\n                        } catch (e) { }\r\n                        return supportsPassive;\r\n                    })(),\r\n                    supportResizeObserver: !!COMPATIBILITY.rO(),\r\n                    supportMutationObserver: !!COMPATIBILITY.mO()\r\n                });\r\n\r\n                scrollbarDummyElement.removeAttr(LEXICON.s).remove();\r\n\r\n                //Catch zoom event:\r\n                (function () {\r\n                    if (nativeScrollbarIsOverlaid.x && nativeScrollbarIsOverlaid.y)\r\n                        return;\r\n\r\n                    var abs = MATH.abs;\r\n                    var windowWidth = COMPATIBILITY.wW();\r\n                    var windowHeight = COMPATIBILITY.wH();\r\n                    var windowDpr = getWindowDPR();\r\n                    var onResize = function () {\r\n                        if (INSTANCES().length > 0) {\r\n                            var newW = COMPATIBILITY.wW();\r\n                            var newH = COMPATIBILITY.wH();\r\n                            var deltaW = newW - windowWidth;\r\n                            var deltaH = newH - windowHeight;\r\n\r\n                            if (deltaW === 0 && deltaH === 0)\r\n                                return;\r\n\r\n                            var deltaWRatio = MATH.round(newW / (windowWidth / 100.0));\r\n                            var deltaHRatio = MATH.round(newH / (windowHeight / 100.0));\r\n                            var absDeltaW = abs(deltaW);\r\n                            var absDeltaH = abs(deltaH);\r\n                            var absDeltaWRatio = abs(deltaWRatio);\r\n                            var absDeltaHRatio = abs(deltaHRatio);\r\n                            var newDPR = getWindowDPR();\r\n\r\n                            var deltaIsBigger = absDeltaW > 2 && absDeltaH > 2;\r\n                            var difference = !differenceIsBiggerThanOne(absDeltaWRatio, absDeltaHRatio);\r\n                            var dprChanged = newDPR !== windowDpr && windowDpr > 0;\r\n                            var isZoom = deltaIsBigger && difference && dprChanged;\r\n                            var oldScrollbarSize = _base.nativeScrollbarSize;\r\n                            var newScrollbarSize;\r\n\r\n                            if (isZoom) {\r\n                                bodyElement.append(scrollbarDummyElement);\r\n                                newScrollbarSize = _base.nativeScrollbarSize = calcNativeScrollbarSize(scrollbarDummyElement[0]);\r\n                                scrollbarDummyElement.remove();\r\n                                if (oldScrollbarSize.x !== newScrollbarSize.x || oldScrollbarSize.y !== newScrollbarSize.y) {\r\n                                    FRAMEWORK.each(INSTANCES(), function () {\r\n                                        if (INSTANCES(this))\r\n                                            INSTANCES(this).update('zoom');\r\n                                    });\r\n                                }\r\n                            }\r\n\r\n                            windowWidth = newW;\r\n                            windowHeight = newH;\r\n                            windowDpr = newDPR;\r\n                        }\r\n                    };\r\n\r\n                    function differenceIsBiggerThanOne(valOne, valTwo) {\r\n                        var absValOne = abs(valOne);\r\n                        var absValTwo = abs(valTwo);\r\n                        return !(absValOne === absValTwo || absValOne + 1 === absValTwo || absValOne - 1 === absValTwo);\r\n                    }\r\n\r\n                    function getWindowDPR() {\r\n                        var dDPI = window.screen.deviceXDPI || 0;\r\n                        var sDPI = window.screen.logicalXDPI || 1;\r\n                        return window.devicePixelRatio || (dDPI / sDPI);\r\n                    }\r\n\r\n                    FRAMEWORK(window).on('resize', onResize);\r\n                })();\r\n\r\n                function calcNativeScrollbarSize(measureElement) {\r\n                    return {\r\n                        x: measureElement[LEXICON.oH] - measureElement[LEXICON.cH],\r\n                        y: measureElement[LEXICON.oW] - measureElement[LEXICON.cW]\r\n                    };\r\n                }\r\n            }\r\n\r\n            /**\r\n             * The object which manages the auto update loop for all OverlayScrollbars objects. This object is initialized only once: if the first OverlayScrollbars object gets initialized.\r\n             * @constructor\r\n             */\r\n            function OverlayScrollbarsAutoUpdateLoop(globals) {\r\n                var _base = this;\r\n                var _inArray = FRAMEWORK.inArray;\r\n                var _getNow = COMPATIBILITY.now;\r\n                var _strAutoUpdate = 'autoUpdate';\r\n                var _strAutoUpdateInterval = _strAutoUpdate + 'Interval';\r\n                var _strLength = LEXICON.l;\r\n                var _loopingInstances = [];\r\n                var _loopingInstancesIntervalCache = [];\r\n                var _loopIsActive = false;\r\n                var _loopIntervalDefault = 33;\r\n                var _loopInterval = _loopIntervalDefault;\r\n                var _loopTimeOld = _getNow();\r\n                var _loopID;\r\n\r\n\r\n                /**\r\n                 * The auto update loop which will run every 50 milliseconds or less if the update interval of a instance is lower than 50 milliseconds.\r\n                 */\r\n                var loop = function () {\r\n                    if (_loopingInstances[_strLength] > 0 && _loopIsActive) {\r\n                        _loopID = COMPATIBILITY.rAF()(function () {\r\n                            loop();\r\n                        });\r\n                        var timeNew = _getNow();\r\n                        var timeDelta = timeNew - _loopTimeOld;\r\n                        var lowestInterval;\r\n                        var instance;\r\n                        var instanceOptions;\r\n                        var instanceAutoUpdateAllowed;\r\n                        var instanceAutoUpdateInterval;\r\n                        var now;\r\n\r\n                        if (timeDelta > _loopInterval) {\r\n                            _loopTimeOld = timeNew - (timeDelta % _loopInterval);\r\n                            lowestInterval = _loopIntervalDefault;\r\n                            for (var i = 0; i < _loopingInstances[_strLength]; i++) {\r\n                                instance = _loopingInstances[i];\r\n                                if (instance !== undefined) {\r\n                                    instanceOptions = instance.options();\r\n                                    instanceAutoUpdateAllowed = instanceOptions[_strAutoUpdate];\r\n                                    instanceAutoUpdateInterval = MATH.max(1, instanceOptions[_strAutoUpdateInterval]);\r\n                                    now = _getNow();\r\n\r\n                                    if ((instanceAutoUpdateAllowed === true || instanceAutoUpdateAllowed === null) && (now - _loopingInstancesIntervalCache[i]) > instanceAutoUpdateInterval) {\r\n                                        instance.update('auto');\r\n                                        _loopingInstancesIntervalCache[i] = new Date(now += instanceAutoUpdateInterval);\r\n                                    }\r\n\r\n                                    lowestInterval = MATH.max(1, MATH.min(lowestInterval, instanceAutoUpdateInterval));\r\n                                }\r\n                            }\r\n                            _loopInterval = lowestInterval;\r\n                        }\r\n                    } else {\r\n                        _loopInterval = _loopIntervalDefault;\r\n                    }\r\n                };\r\n\r\n                /**\r\n                 * Add OverlayScrollbars instance to the auto update loop. Only successful if the instance isn't already added.\r\n                 * @param instance The instance which shall be updated in a loop automatically.\r\n                 */\r\n                _base.add = function (instance) {\r\n                    if (_inArray(instance, _loopingInstances) === -1) {\r\n                        _loopingInstances.push(instance);\r\n                        _loopingInstancesIntervalCache.push(_getNow());\r\n                        if (_loopingInstances[_strLength] > 0 && !_loopIsActive) {\r\n                            _loopIsActive = true;\r\n                            globals.autoUpdateLoop = _loopIsActive;\r\n                            loop();\r\n                        }\r\n                    }\r\n                };\r\n\r\n                /**\r\n                 * Remove OverlayScrollbars instance from the auto update loop. Only successful if the instance was added before.\r\n                 * @param instance The instance which shall be updated in a loop automatically.\r\n                 */\r\n                _base.remove = function (instance) {\r\n                    var index = _inArray(instance, _loopingInstances);\r\n                    if (index > -1) {\r\n                        //remove from loopingInstances list\r\n                        _loopingInstancesIntervalCache.splice(index, 1);\r\n                        _loopingInstances.splice(index, 1);\r\n\r\n                        //correct update loop behavior\r\n                        if (_loopingInstances[_strLength] === 0 && _loopIsActive) {\r\n                            _loopIsActive = false;\r\n                            globals.autoUpdateLoop = _loopIsActive;\r\n                            if (_loopID !== undefined) {\r\n                                COMPATIBILITY.cAF()(_loopID);\r\n                                _loopID = -1;\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n\r\n            /**\r\n             * A object which manages the scrollbars visibility of the target element.\r\n             * @param pluginTargetElement The element from which the scrollbars shall be hidden.\r\n             * @param options The custom options.\r\n             * @param extensions The custom extensions.\r\n             * @param globals\r\n             * @param autoUpdateLoop\r\n             * @returns {*}\r\n             * @constructor\r\n             */\r\n            function OverlayScrollbarsInstance(pluginTargetElement, options, extensions, globals, autoUpdateLoop) {\r\n                //shortcuts\r\n                var type = COMPATIBILITY.type;\r\n                var inArray = FRAMEWORK.inArray;\r\n                var each = FRAMEWORK.each;\r\n\r\n                //make correct instanceof\r\n                var _base = new _plugin();\r\n                var _frameworkProto = FRAMEWORK[LEXICON.p];\r\n\r\n                //if passed element is no HTML element: skip and return\r\n                if (!isHTMLElement(pluginTargetElement))\r\n                    return;\r\n\r\n                //if passed element is already initialized: set passed options if there are any and return its instance\r\n                if (INSTANCES(pluginTargetElement)) {\r\n                    var inst = INSTANCES(pluginTargetElement);\r\n                    inst.options(options);\r\n                    return inst;\r\n                }\r\n\r\n                //globals:\r\n                var _nativeScrollbarIsOverlaid;\r\n                var _overlayScrollbarDummySize;\r\n                var _rtlScrollBehavior;\r\n                var _autoUpdateRecommended;\r\n                var _msieVersion;\r\n                var _nativeScrollbarStyling;\r\n                var _cssCalc;\r\n                var _nativeScrollbarSize;\r\n                var _supportTransition;\r\n                var _supportTransform;\r\n                var _supportPassiveEvents;\r\n                var _supportResizeObserver;\r\n                var _supportMutationObserver;\r\n                var _restrictedMeasuring;\r\n\r\n                //general readonly:\r\n                var _initialized;\r\n                var _destroyed;\r\n                var _isTextarea;\r\n                var _isBody;\r\n                var _documentMixed;\r\n                var _domExists;\r\n\r\n                //general:\r\n                var _isBorderBox;\r\n                var _sizeAutoObserverAdded;\r\n                var _paddingX;\r\n                var _paddingY;\r\n                var _borderX;\r\n                var _borderY;\r\n                var _marginX;\r\n                var _marginY;\r\n                var _isRTL;\r\n                var _sleeping;\r\n                var _contentBorderSize = {};\r\n                var _scrollHorizontalInfo = {};\r\n                var _scrollVerticalInfo = {};\r\n                var _viewportSize = {};\r\n                var _nativeScrollbarMinSize = {};\r\n\r\n                //naming:\t\r\n                var _strMinusHidden = '-hidden';\r\n                var _strMarginMinus = 'margin-';\r\n                var _strPaddingMinus = 'padding-';\r\n                var _strBorderMinus = 'border-';\r\n                var _strTop = 'top';\r\n                var _strRight = 'right';\r\n                var _strBottom = 'bottom';\r\n                var _strLeft = 'left';\r\n                var _strMinMinus = 'min-';\r\n                var _strMaxMinus = 'max-';\r\n                var _strWidth = 'width';\r\n                var _strHeight = 'height';\r\n                var _strFloat = 'float';\r\n                var _strEmpty = '';\r\n                var _strAuto = 'auto';\r\n                var _strSync = 'sync';\r\n                var _strScroll = 'scroll';\r\n                var _strHundredPercent = '100%';\r\n                var _strX = 'x';\r\n                var _strY = 'y';\r\n                var _strDot = '.';\r\n                var _strSpace = ' ';\r\n                var _strScrollbar = 'scrollbar';\r\n                var _strMinusHorizontal = '-horizontal';\r\n                var _strMinusVertical = '-vertical';\r\n                var _strScrollLeft = _strScroll + 'Left';\r\n                var _strScrollTop = _strScroll + 'Top';\r\n                var _strMouseTouchDownEvent = 'mousedown touchstart';\r\n                var _strMouseTouchUpEvent = 'mouseup touchend touchcancel';\r\n                var _strMouseTouchMoveEvent = 'mousemove touchmove';\r\n                var _strMouseEnter = 'mouseenter';\r\n                var _strMouseLeave = 'mouseleave';\r\n                var _strKeyDownEvent = 'keydown';\r\n                var _strKeyUpEvent = 'keyup';\r\n                var _strSelectStartEvent = 'selectstart';\r\n                var _strTransitionEndEvent = 'transitionend webkitTransitionEnd oTransitionEnd';\r\n                var _strResizeObserverProperty = '__overlayScrollbarsRO__';\r\n\r\n                //class names:\t\r\n                var _cassNamesPrefix = 'os-';\r\n                var _classNameHTMLElement = _cassNamesPrefix + 'html';\r\n                var _classNameHostElement = _cassNamesPrefix + 'host';\r\n                var _classNameHostElementForeign = _classNameHostElement + '-foreign';\r\n                var _classNameHostTextareaElement = _classNameHostElement + '-textarea';\r\n                var _classNameHostScrollbarHorizontalHidden = _classNameHostElement + '-' + _strScrollbar + _strMinusHorizontal + _strMinusHidden;\r\n                var _classNameHostScrollbarVerticalHidden = _classNameHostElement + '-' + _strScrollbar + _strMinusVertical + _strMinusHidden;\r\n                var _classNameHostTransition = _classNameHostElement + '-transition';\r\n                var _classNameHostRTL = _classNameHostElement + '-rtl';\r\n                var _classNameHostResizeDisabled = _classNameHostElement + '-resize-disabled';\r\n                var _classNameHostScrolling = _classNameHostElement + '-scrolling';\r\n                var _classNameHostOverflow = _classNameHostElement + '-overflow';\r\n                var _classNameHostOverflow = _classNameHostElement + '-overflow';\r\n                var _classNameHostOverflowX = _classNameHostOverflow + '-x';\r\n                var _classNameHostOverflowY = _classNameHostOverflow + '-y';\r\n                var _classNameTextareaElement = _cassNamesPrefix + 'textarea';\r\n                var _classNameTextareaCoverElement = _classNameTextareaElement + '-cover';\r\n                var _classNamePaddingElement = _cassNamesPrefix + 'padding';\r\n                var _classNameViewportElement = _cassNamesPrefix + 'viewport';\r\n                var _classNameViewportNativeScrollbarsInvisible = _classNameViewportElement + '-native-scrollbars-invisible';\r\n                var _classNameViewportNativeScrollbarsOverlaid = _classNameViewportElement + '-native-scrollbars-overlaid';\r\n                var _classNameContentElement = _cassNamesPrefix + 'content';\r\n                var _classNameContentArrangeElement = _cassNamesPrefix + 'content-arrange';\r\n                var _classNameContentGlueElement = _cassNamesPrefix + 'content-glue';\r\n                var _classNameSizeAutoObserverElement = _cassNamesPrefix + 'size-auto-observer';\r\n                var _classNameResizeObserverElement = _cassNamesPrefix + 'resize-observer';\r\n                var _classNameResizeObserverItemElement = _cassNamesPrefix + 'resize-observer-item';\r\n                var _classNameResizeObserverItemFinalElement = _classNameResizeObserverItemElement + '-final';\r\n                var _classNameTextInherit = _cassNamesPrefix + 'text-inherit';\r\n                var _classNameScrollbar = _cassNamesPrefix + _strScrollbar;\r\n                var _classNameScrollbarTrack = _classNameScrollbar + '-track';\r\n                var _classNameScrollbarTrackOff = _classNameScrollbarTrack + '-off';\r\n                var _classNameScrollbarHandle = _classNameScrollbar + '-handle';\r\n                var _classNameScrollbarHandleOff = _classNameScrollbarHandle + '-off';\r\n                var _classNameScrollbarUnusable = _classNameScrollbar + '-unusable';\r\n                var _classNameScrollbarAutoHidden = _classNameScrollbar + '-' + _strAuto + _strMinusHidden;\r\n                var _classNameScrollbarCorner = _classNameScrollbar + '-corner';\r\n                var _classNameScrollbarCornerResize = _classNameScrollbarCorner + '-resize';\r\n                var _classNameScrollbarCornerResizeB = _classNameScrollbarCornerResize + '-both';\r\n                var _classNameScrollbarCornerResizeH = _classNameScrollbarCornerResize + _strMinusHorizontal;\r\n                var _classNameScrollbarCornerResizeV = _classNameScrollbarCornerResize + _strMinusVertical;\r\n                var _classNameScrollbarHorizontal = _classNameScrollbar + _strMinusHorizontal;\r\n                var _classNameScrollbarVertical = _classNameScrollbar + _strMinusVertical;\r\n                var _classNameDragging = _cassNamesPrefix + 'dragging';\r\n                var _classNameThemeNone = _cassNamesPrefix + 'theme-none';\r\n                var _classNamesDynamicDestroy = [\r\n                    _classNameViewportNativeScrollbarsInvisible,\r\n                    _classNameViewportNativeScrollbarsOverlaid,\r\n                    _classNameScrollbarTrackOff,\r\n                    _classNameScrollbarHandleOff,\r\n                    _classNameScrollbarUnusable,\r\n                    _classNameScrollbarAutoHidden,\r\n                    _classNameScrollbarCornerResize,\r\n                    _classNameScrollbarCornerResizeB,\r\n                    _classNameScrollbarCornerResizeH,\r\n                    _classNameScrollbarCornerResizeV,\r\n                    _classNameDragging].join(_strSpace);\r\n\r\n                //callbacks:\t\r\n                var _callbacksInitQeueue = [];\r\n\r\n                //attrs viewport shall inherit from target\t\r\n                var _viewportAttrsFromTarget = [LEXICON.ti];\r\n\r\n                //options:\t\r\n                var _defaultOptions;\r\n                var _currentOptions;\r\n                var _currentPreparedOptions;\r\n\r\n                //extensions:\t\r\n                var _extensions = {};\r\n                var _extensionsPrivateMethods = 'added removed on contract';\r\n\r\n                //update\t\r\n                var _lastUpdateTime;\r\n                var _swallowedUpdateHints = {};\r\n                var _swallowedUpdateTimeout;\r\n                var _swallowUpdateLag = 42;\r\n                var _updateOnLoadEventName = 'load';\r\n                var _updateOnLoadElms = [];\r\n\r\n                //DOM elements:\t\r\n                var _windowElement;\r\n                var _documentElement;\r\n                var _htmlElement;\r\n                var _bodyElement;\r\n                var _targetElement;                     //the target element of this OverlayScrollbars object\t\r\n                var _hostElement;                       //the host element of this OverlayScrollbars object -> may be the same as targetElement\t\r\n                var _sizeAutoObserverElement;           //observes size auto changes\t\r\n                var _sizeObserverElement;               //observes size and padding changes\t\r\n                var _paddingElement;                    //manages the padding\t\r\n                var _viewportElement;                   //is the viewport of our scrollbar model\t\r\n                var _contentElement;                    //the element which holds the content\t\r\n                var _contentArrangeElement;             //is needed for correct sizing of the content element (only if native scrollbars are overlays)\t\r\n                var _contentGlueElement;                //has always the size of the content element\t\r\n                var _textareaCoverElement;              //only applied if target is a textarea element. Used for correct size calculation and for prevention of uncontrolled scrolling\t\r\n                var _scrollbarCornerElement;\r\n                var _scrollbarHorizontalElement;\r\n                var _scrollbarHorizontalTrackElement;\r\n                var _scrollbarHorizontalHandleElement;\r\n                var _scrollbarVerticalElement;\r\n                var _scrollbarVerticalTrackElement;\r\n                var _scrollbarVerticalHandleElement;\r\n                var _windowElementNative;\r\n                var _documentElementNative;\r\n                var _targetElementNative;\r\n                var _hostElementNative;\r\n                var _sizeAutoObserverElementNative;\r\n                var _sizeObserverElementNative;\r\n                var _paddingElementNative;\r\n                var _viewportElementNative;\r\n                var _contentElementNative;\r\n\r\n                //Cache:\t\r\n                var _hostSizeCache;\r\n                var _contentScrollSizeCache;\r\n                var _arrangeContentSizeCache;\r\n                var _hasOverflowCache;\r\n                var _hideOverflowCache;\r\n                var _widthAutoCache;\r\n                var _heightAutoCache;\r\n                var _cssBoxSizingCache;\r\n                var _cssPaddingCache;\r\n                var _cssBorderCache;\r\n                var _cssMarginCache;\r\n                var _cssDirectionCache;\r\n                var _cssDirectionDetectedCache;\r\n                var _paddingAbsoluteCache;\r\n                var _clipAlwaysCache;\r\n                var _contentGlueSizeCache;\r\n                var _overflowBehaviorCache;\r\n                var _overflowAmountCache;\r\n                var _ignoreOverlayScrollbarHidingCache;\r\n                var _autoUpdateCache;\r\n                var _sizeAutoCapableCache;\r\n                var _contentElementScrollSizeChangeDetectedCache;\r\n                var _hostElementSizeChangeDetectedCache;\r\n                var _scrollbarsVisibilityCache;\r\n                var _scrollbarsAutoHideCache;\r\n                var _scrollbarsClickScrollingCache;\r\n                var _scrollbarsDragScrollingCache;\r\n                var _resizeCache;\r\n                var _normalizeRTLCache;\r\n                var _classNameCache;\r\n                var _oldClassName;\r\n                var _textareaAutoWrappingCache;\r\n                var _textareaInfoCache;\r\n                var _textareaSizeCache;\r\n                var _textareaDynHeightCache;\r\n                var _textareaDynWidthCache;\r\n                var _bodyMinSizeCache;\r\n                var _updateAutoCache = {};\r\n\r\n                //MutationObserver:\t\r\n                var _mutationObserverHost;\r\n                var _mutationObserverContent;\r\n                var _mutationObserverHostCallback;\r\n                var _mutationObserverContentCallback;\r\n                var _mutationObserversConnected;\r\n                var _mutationObserverAttrsTextarea = ['wrap', 'cols', 'rows'];\r\n                var _mutationObserverAttrsHost = [LEXICON.i, LEXICON.c, LEXICON.s, 'open'].concat(_viewportAttrsFromTarget);\r\n\r\n                //events:\t\r\n                var _destroyEvents = [];\r\n\r\n                //textarea:\t\r\n                var _textareaHasFocus;\r\n\r\n                //scrollbars:\t\r\n                var _scrollbarsAutoHideTimeoutId;\r\n                var _scrollbarsAutoHideMoveTimeoutId;\r\n                var _scrollbarsAutoHideDelay;\r\n                var _scrollbarsAutoHideNever;\r\n                var _scrollbarsAutoHideScroll;\r\n                var _scrollbarsAutoHideMove;\r\n                var _scrollbarsAutoHideLeave;\r\n                var _scrollbarsHandleHovered;\r\n                var _scrollbarsHandlesDefineScrollPos;\r\n\r\n                //resize\t\r\n                var _resizeNone;\r\n                var _resizeBoth;\r\n                var _resizeHorizontal;\r\n                var _resizeVertical;\r\n\r\n\r\n                //==== Event Listener ====//\t\r\n\r\n                /**\t\r\n                 * Adds or removes a event listener from the given element. \t\r\n                 * @param element The element to which the event listener shall be applied or removed.\t\r\n                 * @param eventNames The name(s) of the events.\t\r\n                 * @param listener The method which shall be called.\t\r\n                 * @param remove True if the handler shall be removed, false or undefined if the handler shall be added.\t\r\n                 * @param passiveOrOptions The options for the event.\r\n                 */\r\n                function setupResponsiveEventListener(element, eventNames, listener, remove, passiveOrOptions) {\r\n                    var collected = COMPATIBILITY.isA(eventNames) && COMPATIBILITY.isA(listener);\r\n                    var method = remove ? 'removeEventListener' : 'addEventListener';\r\n                    var onOff = remove ? 'off' : 'on';\r\n                    var events = collected ? false : eventNames.split(_strSpace)\r\n                    var i = 0;\r\n\r\n                    var passiveOrOptionsIsObj = FRAMEWORK.isPlainObject(passiveOrOptions);\r\n                    var passive = _supportPassiveEvents && (passiveOrOptionsIsObj ? (passiveOrOptions._passive || false) : passiveOrOptions);\r\n                    var capture = passiveOrOptionsIsObj && (passiveOrOptions._capture || false);\r\n                    var useNative = capture || passive;\r\n                    var nativeParam = passive ? {\r\n                        passive: passive,\r\n                        capture: capture,\r\n                    } : capture;\r\n\r\n                    if (collected) {\r\n                        for (; i < eventNames[LEXICON.l]; i++)\r\n                            setupResponsiveEventListener(element, eventNames[i], listener[i], remove, passiveOrOptions);\r\n                    }\r\n                    else {\r\n                        for (; i < events[LEXICON.l]; i++) {\r\n                            if(useNative) {\r\n                                element[0][method](events[i], listener, nativeParam);\r\n                            }\r\n                            else {\r\n                                element[onOff](events[i], listener);\r\n                            }     \r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n                function addDestroyEventListener(element, eventNames, listener, passive) {\r\n                    setupResponsiveEventListener(element, eventNames, listener, false, passive);\r\n                    _destroyEvents.push(COMPATIBILITY.bind(setupResponsiveEventListener, 0, element, eventNames, listener, true, passive));\r\n                }\r\n\r\n                //==== Resize Observer ====//\r\n\r\n                /**\r\n                 * Adds or removes a resize observer from the given element.\r\n                 * @param targetElement The element to which the resize observer shall be added or removed.\r\n                 * @param onElementResizedCallback The callback which is fired every time the resize observer registers a size change or false / undefined if the resizeObserver shall be removed.\r\n                 */\r\n                function setupResizeObserver(targetElement, onElementResizedCallback) {\r\n                    if (targetElement) {\r\n                        var resizeObserver = COMPATIBILITY.rO();\r\n                        var strAnimationStartEvent = 'animationstart mozAnimationStart webkitAnimationStart MSAnimationStart';\r\n                        var strChildNodes = 'childNodes';\r\n                        var constScroll = 3333333;\r\n                        var callback = function () {\r\n                            targetElement[_strScrollTop](constScroll)[_strScrollLeft](_isRTL ? _rtlScrollBehavior.n ? -constScroll : _rtlScrollBehavior.i ? 0 : constScroll : constScroll);\r\n                            onElementResizedCallback();\r\n                        };\r\n                        //add resize observer:\r\n                        if (onElementResizedCallback) {\r\n                            if (_supportResizeObserver) {\r\n                                var element = targetElement.addClass('observed').append(generateDiv(_classNameResizeObserverElement)).contents()[0];\r\n                                var observer = element[_strResizeObserverProperty] = new resizeObserver(callback);\r\n                                observer.observe(element);\r\n                            }\r\n                            else {\r\n                                if (_msieVersion > 9 || !_autoUpdateRecommended) {\r\n                                    targetElement.prepend(\r\n                                        generateDiv(_classNameResizeObserverElement,\r\n                                            generateDiv({ c: _classNameResizeObserverItemElement, dir: 'ltr' },\r\n                                                generateDiv(_classNameResizeObserverItemElement,\r\n                                                    generateDiv(_classNameResizeObserverItemFinalElement)\r\n                                                ) +\r\n                                                generateDiv(_classNameResizeObserverItemElement,\r\n                                                    generateDiv({ c: _classNameResizeObserverItemFinalElement, style: 'width: 200%; height: 200%' })\r\n                                                )\r\n                                            )\r\n                                        )\r\n                                    );\r\n\r\n                                    var observerElement = targetElement[0][strChildNodes][0][strChildNodes][0];\r\n                                    var shrinkElement = FRAMEWORK(observerElement[strChildNodes][1]);\r\n                                    var expandElement = FRAMEWORK(observerElement[strChildNodes][0]);\r\n                                    var expandElementChild = FRAMEWORK(expandElement[0][strChildNodes][0]);\r\n                                    var widthCache = observerElement[LEXICON.oW];\r\n                                    var heightCache = observerElement[LEXICON.oH];\r\n                                    var isDirty;\r\n                                    var rAFId;\r\n                                    var currWidth;\r\n                                    var currHeight;\r\n                                    var factor = 2;\r\n                                    var nativeScrollbarSize = globals.nativeScrollbarSize; //care don't make changes to this object!!!\r\n                                    var reset = function () {\r\n                                        /*\r\n                                         var sizeResetWidth = observerElement[LEXICON.oW] + nativeScrollbarSize.x * factor + nativeScrollbarSize.y * factor + _overlayScrollbarDummySize.x + _overlayScrollbarDummySize.y;\r\n                                         var sizeResetHeight = observerElement[LEXICON.oH] + nativeScrollbarSize.x * factor + nativeScrollbarSize.y * factor + _overlayScrollbarDummySize.x + _overlayScrollbarDummySize.y;\r\n                                         var expandChildCSS = {};\r\n                                         expandChildCSS[_strWidth] = sizeResetWidth;\r\n                                         expandChildCSS[_strHeight] = sizeResetHeight;\r\n                                         expandElementChild.css(expandChildCSS);\r\n\r\n\r\n                                         expandElement[_strScrollLeft](sizeResetWidth)[_strScrollTop](sizeResetHeight);\r\n                                         shrinkElement[_strScrollLeft](sizeResetWidth)[_strScrollTop](sizeResetHeight);\r\n                                         */\r\n                                        expandElement[_strScrollLeft](constScroll)[_strScrollTop](constScroll);\r\n                                        shrinkElement[_strScrollLeft](constScroll)[_strScrollTop](constScroll);\r\n                                    };\r\n                                    var onResized = function () {\r\n                                        rAFId = 0;\r\n                                        if (!isDirty)\r\n                                            return;\r\n\r\n                                        widthCache = currWidth;\r\n                                        heightCache = currHeight;\r\n                                        callback();\r\n                                    };\r\n                                    var onScroll = function (event) {\r\n                                        currWidth = observerElement[LEXICON.oW];\r\n                                        currHeight = observerElement[LEXICON.oH];\r\n                                        isDirty = currWidth != widthCache || currHeight != heightCache;\r\n\r\n                                        if (event && isDirty && !rAFId) {\r\n                                            COMPATIBILITY.cAF()(rAFId);\r\n                                            rAFId = COMPATIBILITY.rAF()(onResized);\r\n                                        }\r\n                                        else if (!event)\r\n                                            onResized();\r\n\r\n                                        reset();\r\n                                        if (event) {\r\n                                            COMPATIBILITY.prvD(event);\r\n                                            COMPATIBILITY.stpP(event);\r\n                                        }\r\n                                        return false;\r\n                                    };\r\n                                    var expandChildCSS = {};\r\n                                    var observerElementCSS = {};\r\n\r\n                                    setTopRightBottomLeft(observerElementCSS, _strEmpty, [\r\n                                        -((nativeScrollbarSize.y + 1) * factor),\r\n                                        nativeScrollbarSize.x * -factor,\r\n                                        nativeScrollbarSize.y * -factor,\r\n                                        -((nativeScrollbarSize.x + 1) * factor)\r\n                                    ]);\r\n\r\n                                    FRAMEWORK(observerElement).css(observerElementCSS);\r\n                                    expandElement.on(_strScroll, onScroll);\r\n                                    shrinkElement.on(_strScroll, onScroll);\r\n                                    targetElement.on(strAnimationStartEvent, function () {\r\n                                        onScroll(false);\r\n                                    });\r\n                                    //lets assume that the divs will never be that large and a constant value is enough\r\n                                    expandChildCSS[_strWidth] = constScroll;\r\n                                    expandChildCSS[_strHeight] = constScroll;\r\n                                    expandElementChild.css(expandChildCSS);\r\n\r\n                                    reset();\r\n                                }\r\n                                else {\r\n                                    var attachEvent = _documentElementNative.attachEvent;\r\n                                    var isIE = _msieVersion !== undefined;\r\n                                    if (attachEvent) {\r\n                                        targetElement.prepend(generateDiv(_classNameResizeObserverElement));\r\n                                        findFirst(targetElement, _strDot + _classNameResizeObserverElement)[0].attachEvent('onresize', callback);\r\n                                    }\r\n                                    else {\r\n                                        var obj = _documentElementNative.createElement(TYPES.o);\r\n                                        obj.setAttribute(LEXICON.ti, '-1');\r\n                                        obj.setAttribute(LEXICON.c, _classNameResizeObserverElement);\r\n                                        obj.onload = function () {\r\n                                            var wnd = this.contentDocument.defaultView;\r\n                                            wnd.addEventListener('resize', callback);\r\n                                            wnd.document.documentElement.style.display = 'none';\r\n                                        };\r\n                                        obj.type = 'text/html';\r\n                                        if (isIE)\r\n                                            targetElement.prepend(obj);\r\n                                        obj.data = 'about:blank';\r\n                                        if (!isIE)\r\n                                            targetElement.prepend(obj);\r\n                                        targetElement.on(strAnimationStartEvent, callback);\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                            if (targetElement[0] === _sizeObserverElementNative) {\r\n                                var directionChanged = function () {\r\n                                    var dir = _hostElement.css('direction');\r\n                                    var css = {};\r\n                                    var scrollLeftValue = 0;\r\n                                    var result = false;\r\n                                    if (dir !== _cssDirectionDetectedCache) {\r\n                                        if (dir === 'ltr') {\r\n                                            css[_strLeft] = 0;\r\n                                            css[_strRight] = _strAuto;\r\n                                            scrollLeftValue = constScroll;\r\n                                        }\r\n                                        else {\r\n                                            css[_strLeft] = _strAuto;\r\n                                            css[_strRight] = 0;\r\n                                            scrollLeftValue = _rtlScrollBehavior.n ? -constScroll : _rtlScrollBehavior.i ? 0 : constScroll;\r\n                                        }\r\n                                        //execution order is important for IE!!!\r\n                                        _sizeObserverElement.children().eq(0).css(css);\r\n                                        _sizeObserverElement[_strScrollLeft](scrollLeftValue)[_strScrollTop](constScroll);\r\n                                        _cssDirectionDetectedCache = dir;\r\n                                        result = true;\r\n                                    }\r\n                                    return result;\r\n                                };\r\n                                directionChanged();\r\n                                addDestroyEventListener(targetElement, _strScroll, function (event) {\r\n                                    if (directionChanged())\r\n                                        update();\r\n                                    COMPATIBILITY.prvD(event);\r\n                                    COMPATIBILITY.stpP(event);\r\n                                    return false;\r\n                                });\r\n                            }\r\n                        }\r\n                        //remove resize observer:\r\n                        else {\r\n                            if (_supportResizeObserver) {\r\n                                var element = targetElement.contents()[0];\r\n                                var resizeObserverObj = element[_strResizeObserverProperty];\r\n                                if (resizeObserverObj) {\r\n                                    resizeObserverObj.disconnect();\r\n                                    delete element[_strResizeObserverProperty];\r\n                                }\r\n                            }\r\n                            else {\r\n                                remove(targetElement.children(_strDot + _classNameResizeObserverElement).eq(0));\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * Freezes or unfreezes the given resize observer.\r\n                 * @param targetElement The element to which the target resize observer is applied.\r\n                 * @param freeze True if the resize observer shall be frozen, false otherwise.\r\n                 \r\n                function freezeResizeObserver(targetElement, freeze) {\r\n                    if (targetElement !== undefined) {\r\n                        if(freeze) {\r\n                            if (_supportResizeObserver) {\r\n                                var element = targetElement.contents()[0];\r\n                                element[_strResizeObserverProperty].unobserve(element);\r\n                            }\r\n                            else {\r\n                                targetElement = targetElement.children(_strDot + _classNameResizeObserverElement).eq(0);\r\n                                var w = targetElement.css(_strWidth);\r\n                                var h = targetElement.css(_strHeight);\r\n                                var css = {};\r\n                                css[_strWidth] = w;\r\n                                css[_strHeight] = h;\r\n                                targetElement.css(css);\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (_supportResizeObserver) {\r\n                                var element = targetElement.contents()[0];\r\n                                element[_strResizeObserverProperty].observe(element);\r\n                            }\r\n                            else {\r\n                                var css = { };\r\n                                css[_strHeight] = _strEmpty;\r\n                                css[_strWidth] = _strEmpty;\r\n                                targetElement.children(_strDot + _classNameResizeObserverElement).eq(0).css(css);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                */\r\n\r\n\r\n                //==== Mutation Observers ====//\r\n\r\n                /**\r\n                 * Creates MutationObservers for the host and content Element if they are supported.\r\n                 */\r\n                function createMutationObservers() {\r\n                    if (_supportMutationObserver) {\r\n                        var mutationObserverContentLag = 11;\r\n                        var mutationObserver = COMPATIBILITY.mO();\r\n                        var contentLastUpdate = COMPATIBILITY.now();\r\n                        var mutationTarget;\r\n                        var mutationAttrName;\r\n                        var mutationIsClass;\r\n                        var oldMutationVal;\r\n                        var newClassVal;\r\n                        var hostClassNameRegex;\r\n                        var contentTimeout;\r\n                        var now;\r\n                        var sizeAuto;\r\n                        var action;\r\n\r\n                        _mutationObserverHostCallback = function (mutations) {\r\n\r\n                            var doUpdate = false;\r\n                            var doUpdateForce = false;\r\n                            var mutation;\r\n                            var mutatedAttrs = [];\r\n\r\n                            if (_initialized && !_sleeping) {\r\n                                each(mutations, function () {\r\n                                    mutation = this;\r\n                                    mutationTarget = mutation.target;\r\n                                    mutationAttrName = mutation.attributeName;\r\n                                    mutationIsClass = mutationAttrName === LEXICON.c;\r\n                                    oldMutationVal = mutation.oldValue;\r\n                                    newClassVal = mutationTarget.className;\r\n\r\n                                    if (_domExists && mutationIsClass && !doUpdateForce) {\r\n                                        // if old class value contains _classNameHostElementForeign and new class value doesn't\r\n                                        if (oldMutationVal.indexOf(_classNameHostElementForeign) > -1 && newClassVal.indexOf(_classNameHostElementForeign) < 0) {\r\n                                            hostClassNameRegex = createHostClassNameRegExp(true);\r\n                                            _hostElementNative.className = newClassVal.split(_strSpace).concat(oldMutationVal.split(_strSpace).filter(function (name) {\r\n                                                return name.match(hostClassNameRegex);\r\n                                            })).join(_strSpace);\r\n                                            doUpdate = doUpdateForce = true;\r\n                                        }\r\n                                    }\r\n\r\n                                    if (!doUpdate) {\r\n                                        doUpdate = mutationIsClass\r\n                                            ? hostClassNamesChanged(oldMutationVal, newClassVal)\r\n                                            : mutationAttrName === LEXICON.s\r\n                                                ? oldMutationVal !== mutationTarget[LEXICON.s].cssText\r\n                                                : true;\r\n                                    }\r\n\r\n                                    mutatedAttrs.push(mutationAttrName);\r\n                                });\r\n\r\n                                updateViewportAttrsFromTarget(mutatedAttrs);\r\n\r\n                                if (doUpdate)\r\n                                    _base.update(doUpdateForce || _strAuto);\r\n                            }\r\n                            return doUpdate;\r\n                        };\r\n                        _mutationObserverContentCallback = function (mutations) {\r\n                            var doUpdate = false;\r\n                            var mutation;\r\n\r\n                            if (_initialized && !_sleeping) {\r\n                                each(mutations, function () {\r\n                                    mutation = this;\r\n                                    doUpdate = isUnknownMutation(mutation);\r\n                                    return !doUpdate;\r\n                                });\r\n\r\n                                if (doUpdate) {\r\n                                    now = COMPATIBILITY.now();\r\n                                    sizeAuto = (_heightAutoCache || _widthAutoCache);\r\n                                    action = function () {\r\n                                        if (!_destroyed) {\r\n                                            contentLastUpdate = now;\r\n\r\n                                            //if cols, rows or wrap attr was changed\r\n                                            if (_isTextarea)\r\n                                                textareaUpdate();\r\n\r\n                                            if (sizeAuto)\r\n                                                update();\r\n                                            else\r\n                                                _base.update(_strAuto);\r\n                                        }\r\n                                    };\r\n                                    clearTimeout(contentTimeout);\r\n                                    if (mutationObserverContentLag <= 0 || now - contentLastUpdate > mutationObserverContentLag || !sizeAuto)\r\n                                        action();\r\n                                    else\r\n                                        contentTimeout = setTimeout(action, mutationObserverContentLag);\r\n                                }\r\n                            }\r\n                            return doUpdate;\r\n                        }\r\n\r\n                        _mutationObserverHost = new mutationObserver(_mutationObserverHostCallback);\r\n                        _mutationObserverContent = new mutationObserver(_mutationObserverContentCallback);\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * Connects the MutationObservers if they are supported.\r\n                 */\r\n                function connectMutationObservers() {\r\n                    if (_supportMutationObserver && !_mutationObserversConnected) {\r\n                        _mutationObserverHost.observe(_hostElementNative, {\r\n                            attributes: true,\r\n                            attributeOldValue: true,\r\n                            attributeFilter: _mutationObserverAttrsHost\r\n                        });\r\n\r\n                        _mutationObserverContent.observe(_isTextarea ? _targetElementNative : _contentElementNative, {\r\n                            attributes: true,\r\n                            attributeOldValue: true,\r\n                            subtree: !_isTextarea,\r\n                            childList: !_isTextarea,\r\n                            characterData: !_isTextarea,\r\n                            attributeFilter: _isTextarea ? _mutationObserverAttrsTextarea : _mutationObserverAttrsHost\r\n                        });\r\n\r\n                        _mutationObserversConnected = true;\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * Disconnects the MutationObservers if they are supported.\r\n                 */\r\n                function disconnectMutationObservers() {\r\n                    if (_supportMutationObserver && _mutationObserversConnected) {\r\n                        _mutationObserverHost.disconnect();\r\n                        _mutationObserverContent.disconnect();\r\n\r\n                        _mutationObserversConnected = false;\r\n                    }\r\n                }\r\n\r\n\r\n                //==== Events of elements ====//\r\n\r\n                /**\r\n                 * This method gets called every time the host element gets resized. IMPORTANT: Padding changes are detected too!!\r\n                 * It refreshes the hostResizedEventArgs and the hostSizeResizeCache.\r\n                 * If there are any size changes, the update method gets called.\r\n                 */\r\n                function hostOnResized() {\r\n                    if (!_sleeping) {\r\n                        var changed;\r\n                        var hostSize = {\r\n                            w: _sizeObserverElementNative[LEXICON.sW],\r\n                            h: _sizeObserverElementNative[LEXICON.sH]\r\n                        };\r\n\r\n                        changed = checkCache(hostSize, _hostElementSizeChangeDetectedCache);\r\n                        _hostElementSizeChangeDetectedCache = hostSize;\r\n                        if (changed)\r\n                            update({ _hostSizeChanged: true });\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * The mouse enter event of the host element. This event is only needed for the autoHide feature.\r\n                 */\r\n                function hostOnMouseEnter() {\r\n                    if (_scrollbarsAutoHideLeave)\r\n                        refreshScrollbarsAutoHide(true);\r\n                }\r\n\r\n                /**\r\n                 * The mouse leave event of the host element. This event is only needed for the autoHide feature.\r\n                 */\r\n                function hostOnMouseLeave() {\r\n                    if (_scrollbarsAutoHideLeave && !_bodyElement.hasClass(_classNameDragging))\r\n                        refreshScrollbarsAutoHide(false);\r\n                }\r\n\r\n                /**\r\n                 * The mouse move event of the host element. This event is only needed for the autoHide \"move\" feature.\r\n                 */\r\n                function hostOnMouseMove() {\r\n                    if (_scrollbarsAutoHideMove) {\r\n                        refreshScrollbarsAutoHide(true);\r\n                        clearTimeout(_scrollbarsAutoHideMoveTimeoutId);\r\n                        _scrollbarsAutoHideMoveTimeoutId = setTimeout(function () {\r\n                            if (_scrollbarsAutoHideMove && !_destroyed)\r\n                                refreshScrollbarsAutoHide(false);\r\n                        }, 100);\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * Prevents text from deselection if attached to the document element on the mousedown event of a DOM element.\r\n                 * @param event The select start event.\r\n                 */\r\n                function documentOnSelectStart(event) {\r\n                    COMPATIBILITY.prvD(event);\r\n                    return false;\r\n                }\r\n\r\n                /**\t\r\n                 * A callback which will be called after a element has loaded.\t\r\n                 */\r\n                function updateOnLoadCallback(event) {\r\n                    var elm = FRAMEWORK(event.target);\r\n\r\n                    eachUpdateOnLoad(function (i, updateOnLoadSelector) {\r\n                        if (elm.is(updateOnLoadSelector)) {\r\n                            update({ _contentSizeChanged: true });\r\n                        }\r\n                    });\r\n                }\r\n\r\n                /**\r\n                * Adds or removes mouse & touch events of the host element. (for handling auto-hiding of the scrollbars)\r\n                * @param destroy Indicates whether the events shall be added or removed.\r\n                */\r\n                function setupHostMouseTouchEvents(destroy) {\r\n                    if (!destroy)\r\n                        setupHostMouseTouchEvents(true);\r\n\r\n                    setupResponsiveEventListener(_hostElement,\r\n                        _strMouseTouchMoveEvent.split(_strSpace)[0],\r\n                        hostOnMouseMove,\r\n                        (!_scrollbarsAutoHideMove || destroy), true);\r\n                    setupResponsiveEventListener(_hostElement,\r\n                        [_strMouseEnter, _strMouseLeave],\r\n                        [hostOnMouseEnter, hostOnMouseLeave],\r\n                        (!_scrollbarsAutoHideLeave || destroy), true);\r\n\r\n                    //if the plugin is initialized and the mouse is over the host element, make the scrollbars visible\r\n                    if (!_initialized && !destroy)\r\n                        _hostElement.one('mouseover', hostOnMouseEnter);\r\n                }\r\n\r\n\r\n                //==== Update Detection ====//\r\n\r\n                /**\r\n                 * Measures the min width and min height of the body element and refreshes the related cache.\r\n                 * @returns {boolean} True if the min width or min height has changed, false otherwise.\r\n                 */\r\n                function bodyMinSizeChanged() {\r\n                    var bodyMinSize = {};\r\n                    if (_isBody && _contentArrangeElement) {\r\n                        bodyMinSize.w = parseToZeroOrNumber(_contentArrangeElement.css(_strMinMinus + _strWidth));\r\n                        bodyMinSize.h = parseToZeroOrNumber(_contentArrangeElement.css(_strMinMinus + _strHeight));\r\n                        bodyMinSize.c = checkCache(bodyMinSize, _bodyMinSizeCache);\r\n                        bodyMinSize.f = true; //flag for \"measured at least once\"\r\n                    }\r\n                    _bodyMinSizeCache = bodyMinSize;\r\n                    return !!bodyMinSize.c;\r\n                }\r\n\r\n                /**\r\n                 * Returns true if the class names really changed (new class without plugin host prefix)\r\n                 * @param oldClassNames The old ClassName string or array.\r\n                 * @param newClassNames The new ClassName string or array.\r\n                 * @returns {boolean} True if the class names has really changed, false otherwise.\r\n                 */\r\n                function hostClassNamesChanged(oldClassNames, newClassNames) {\r\n                    var currClasses = typeof newClassNames == TYPES.s ? newClassNames.split(_strSpace) : [];\r\n                    var oldClasses = typeof oldClassNames == TYPES.s ? oldClassNames.split(_strSpace) : [];\r\n                    var diff = getArrayDifferences(oldClasses, currClasses);\r\n\r\n                    // remove none theme from diff list to prevent update\r\n                    var idx = inArray(_classNameThemeNone, diff);\r\n                    var i;\r\n                    var regex;\r\n\r\n                    if (idx > -1)\r\n                        diff.splice(idx, 1);\r\n\r\n                    if (diff[LEXICON.l] > 0) {\r\n                        regex = createHostClassNameRegExp(true, true);\r\n                        for (i = 0; i < diff.length; i++) {\r\n                            if (!diff[i].match(regex)) {\r\n                                return true;\r\n                            }\r\n                        }\r\n                    }\r\n                    return false;\r\n                }\r\n\r\n                /**\r\n                 * Returns true if the given mutation is not from a from the plugin generated element. If the target element is a textarea the mutation is always unknown.\r\n                 * @param mutation The mutation which shall be checked.\r\n                 * @returns {boolean} True if the mutation is from a unknown element, false otherwise.\r\n                 */\r\n                function isUnknownMutation(mutation) {\r\n                    var attributeName = mutation.attributeName;\r\n                    var mutationTarget = mutation.target;\r\n                    var mutationType = mutation.type;\r\n                    var strClosest = 'closest';\r\n\r\n                    if (mutationTarget === _contentElementNative)\r\n                        return attributeName === null;\r\n                    if (mutationType === 'attributes' && (attributeName === LEXICON.c || attributeName === LEXICON.s) && !_isTextarea) {\r\n                        //ignore className changes by the plugin\t\r\n                        if (attributeName === LEXICON.c && FRAMEWORK(mutationTarget).hasClass(_classNameHostElement))\r\n                            return hostClassNamesChanged(mutation.oldValue, mutationTarget.className);\r\n\r\n                        //only do it of browser support it natively\t\r\n                        if (typeof mutationTarget[strClosest] != TYPES.f)\r\n                            return true;\r\n                        if (mutationTarget[strClosest](_strDot + _classNameResizeObserverElement) !== null ||\r\n                            mutationTarget[strClosest](_strDot + _classNameScrollbar) !== null ||\r\n                            mutationTarget[strClosest](_strDot + _classNameScrollbarCorner) !== null)\r\n                            return false;\r\n                    }\r\n                    return true;\r\n                }\r\n\r\n                /**\r\n                 * Returns true if the content size was changed since the last time this method was called.\r\n                 * @returns {boolean} True if the content size was changed, false otherwise.\r\n                 */\r\n                function updateAutoContentSizeChanged() {\r\n                    if (_sleeping)\r\n                        return false;\r\n\r\n                    var contentMeasureElement = getContentMeasureElement();\r\n                    var textareaValueLength = _isTextarea && _widthAutoCache && !_textareaAutoWrappingCache ? _targetElement.val().length : 0;\r\n                    var setCSS = !_mutationObserversConnected && _widthAutoCache && !_isTextarea;\r\n                    var css = {};\r\n                    var float;\r\n                    var bodyMinSizeC;\r\n                    var changed;\r\n                    var contentElementScrollSize;\r\n\r\n                    if (setCSS) {\r\n                        float = _contentElement.css(_strFloat);\r\n                        css[_strFloat] = _isRTL ? _strRight : _strLeft;\r\n                        css[_strWidth] = _strAuto;\r\n                        _contentElement.css(css);\r\n                    }\r\n                    contentElementScrollSize = {\r\n                        w: contentMeasureElement[LEXICON.sW] + textareaValueLength,\r\n                        h: contentMeasureElement[LEXICON.sH] + textareaValueLength\r\n                    };\r\n                    if (setCSS) {\r\n                        css[_strFloat] = float;\r\n                        css[_strWidth] = _strHundredPercent;\r\n                        _contentElement.css(css);\r\n                    }\r\n\r\n                    bodyMinSizeC = bodyMinSizeChanged();\r\n                    changed = checkCache(contentElementScrollSize, _contentElementScrollSizeChangeDetectedCache);\r\n\r\n                    _contentElementScrollSizeChangeDetectedCache = contentElementScrollSize;\r\n\r\n                    return changed || bodyMinSizeC;\r\n                }\r\n\r\n                /**\r\n                 * Returns true when a attribute which the MutationObserver would observe has changed.  \r\n                 * @returns {boolean} True if one of the attributes which a MutationObserver would observe has changed, false or undefined otherwise.\r\n                 */\r\n                function meaningfulAttrsChanged() {\r\n                    if (_sleeping || _mutationObserversConnected)\r\n                        return;\r\n\r\n                    var elem;\r\n                    var curr;\r\n                    var cache;\r\n                    var changedAttrs = [];\r\n                    var checks = [\r\n                        {\r\n                            _elem: _hostElement,\r\n                            _attrs: _mutationObserverAttrsHost.concat(':visible')\r\n                        },\r\n                        {\r\n                            _elem: _isTextarea ? _targetElement : undefined,\r\n                            _attrs: _mutationObserverAttrsTextarea\r\n                        }\r\n                    ];\r\n\r\n                    each(checks, function (index, check) {\r\n                        elem = check._elem;\r\n                        if (elem) {\r\n                            each(check._attrs, function (index, attr) {\r\n                                curr = attr.charAt(0) === ':' ? elem.is(attr) : elem.attr(attr);\r\n                                cache = _updateAutoCache[attr];\r\n\r\n                                if (checkCache(curr, cache)) {\r\n                                    changedAttrs.push(attr);\r\n                                }\r\n\r\n                                _updateAutoCache[attr] = curr;\r\n                            });\r\n                        }\r\n                    });\r\n\r\n                    updateViewportAttrsFromTarget(changedAttrs);\r\n\r\n                    return changedAttrs[LEXICON.l] > 0;\r\n                }\r\n\r\n                /**\r\n                 * Checks is a CSS Property of a child element is affecting the scroll size of the content.\r\n                 * @param propertyName The CSS property name.\r\n                 * @returns {boolean} True if the property is affecting the content scroll size, false otherwise.\r\n                 */\r\n                function isSizeAffectingCSSProperty(propertyName) {\r\n                    if (!_initialized)\r\n                        return true;\r\n                    var flexGrow = 'flex-grow';\r\n                    var flexShrink = 'flex-shrink';\r\n                    var flexBasis = 'flex-basis';\r\n                    var affectingPropsX = [\r\n                        _strWidth,\r\n                        _strMinMinus + _strWidth,\r\n                        _strMaxMinus + _strWidth,\r\n                        _strMarginMinus + _strLeft,\r\n                        _strMarginMinus + _strRight,\r\n                        _strLeft,\r\n                        _strRight,\r\n                        'font-weight',\r\n                        'word-spacing',\r\n                        flexGrow,\r\n                        flexShrink,\r\n                        flexBasis\r\n                    ];\r\n                    var affectingPropsXContentBox = [\r\n                        _strPaddingMinus + _strLeft,\r\n                        _strPaddingMinus + _strRight,\r\n                        _strBorderMinus + _strLeft + _strWidth,\r\n                        _strBorderMinus + _strRight + _strWidth\r\n                    ];\r\n                    var affectingPropsY = [\r\n                        _strHeight,\r\n                        _strMinMinus + _strHeight,\r\n                        _strMaxMinus + _strHeight,\r\n                        _strMarginMinus + _strTop,\r\n                        _strMarginMinus + _strBottom,\r\n                        _strTop,\r\n                        _strBottom,\r\n                        'line-height',\r\n                        flexGrow,\r\n                        flexShrink,\r\n                        flexBasis\r\n                    ];\r\n                    var affectingPropsYContentBox = [\r\n                        _strPaddingMinus + _strTop,\r\n                        _strPaddingMinus + _strBottom,\r\n                        _strBorderMinus + _strTop + _strWidth,\r\n                        _strBorderMinus + _strBottom + _strWidth\r\n                    ];\r\n                    var _strS = 's';\r\n                    var _strVS = 'v-s';\r\n                    var checkX = _overflowBehaviorCache.x === _strS || _overflowBehaviorCache.x === _strVS;\r\n                    var checkY = _overflowBehaviorCache.y === _strS || _overflowBehaviorCache.y === _strVS;\r\n                    var sizeIsAffected = false;\r\n                    var checkPropertyName = function (arr, name) {\r\n                        for (var i = 0; i < arr[LEXICON.l]; i++) {\r\n                            if (arr[i] === name)\r\n                                return true;\r\n                        }\r\n                        return false;\r\n                    };\r\n\r\n                    if (checkY) {\r\n                        sizeIsAffected = checkPropertyName(affectingPropsY, propertyName);\r\n                        if (!sizeIsAffected && !_isBorderBox)\r\n                            sizeIsAffected = checkPropertyName(affectingPropsYContentBox, propertyName);\r\n                    }\r\n                    if (checkX && !sizeIsAffected) {\r\n                        sizeIsAffected = checkPropertyName(affectingPropsX, propertyName);\r\n                        if (!sizeIsAffected && !_isBorderBox)\r\n                            sizeIsAffected = checkPropertyName(affectingPropsXContentBox, propertyName);\r\n                    }\r\n                    return sizeIsAffected;\r\n                }\r\n\r\n\r\n                //==== Update ====//\r\n\r\n                /**\r\n                 * Sets the attribute values of the viewport element to the values from the target element.\r\n                 * The value of a attribute is only set if the attribute is whitelisted.\r\n                 * @attrs attrs The array of attributes which shall be set or undefined if all whitelisted shall be set.\r\n                 */\r\n                function updateViewportAttrsFromTarget(attrs) {\r\n                    attrs = attrs || _viewportAttrsFromTarget;\r\n                    each(attrs, function (index, attr) {\r\n                        if (COMPATIBILITY.inA(attr, _viewportAttrsFromTarget) > -1) {\r\n                            var targetAttr = _targetElement.attr(attr);\r\n                            if (type(targetAttr) == TYPES.s) {\r\n                                _viewportElement.attr(attr, targetAttr);\r\n                            }\r\n                            else {\r\n                                _viewportElement.removeAttr(attr);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n\r\n                /**\r\n                 * Updates the variables and size of the textarea element, and manages the scroll on new line or new character.\r\n                 */\r\n                function textareaUpdate() {\r\n                    if (!_sleeping) {\r\n                        var wrapAttrOff = !_textareaAutoWrappingCache;\r\n                        var minWidth = _viewportSize.w;\r\n                        var minHeight = _viewportSize.h;\r\n                        var css = {};\r\n                        var doMeasure = _widthAutoCache || wrapAttrOff;\r\n                        var origWidth;\r\n                        var width;\r\n                        var origHeight;\r\n                        var height;\r\n\r\n                        //reset min size\r\n                        css[_strMinMinus + _strWidth] = _strEmpty;\r\n                        css[_strMinMinus + _strHeight] = _strEmpty;\r\n\r\n                        //set width auto\r\n                        css[_strWidth] = _strAuto;\r\n                        _targetElement.css(css);\r\n\r\n                        //measure width\r\n                        origWidth = _targetElementNative[LEXICON.oW];\r\n                        width = doMeasure ? MATH.max(origWidth, _targetElementNative[LEXICON.sW] - 1) : 1;\r\n                        /*width += (_widthAutoCache ? _marginX + (!_isBorderBox ? wrapAttrOff ? 0 : _paddingX + _borderX : 0) : 0);*/\r\n\r\n                        //set measured width\r\n                        css[_strWidth] = _widthAutoCache ? _strAuto /*width*/ : _strHundredPercent;\r\n                        css[_strMinMinus + _strWidth] = _strHundredPercent;\r\n\r\n                        //set height auto\r\n                        css[_strHeight] = _strAuto;\r\n                        _targetElement.css(css);\r\n\r\n                        //measure height\r\n                        origHeight = _targetElementNative[LEXICON.oH];\r\n                        height = MATH.max(origHeight, _targetElementNative[LEXICON.sH] - 1);\r\n\r\n                        //append correct size values\r\n                        css[_strWidth] = width;\r\n                        css[_strHeight] = height;\r\n                        _textareaCoverElement.css(css);\r\n\r\n                        //apply min width / min height to prevent textarea collapsing\r\n                        css[_strMinMinus + _strWidth] = minWidth /*+ (!_isBorderBox && _widthAutoCache ? _paddingX + _borderX : 0)*/;\r\n                        css[_strMinMinus + _strHeight] = minHeight /*+ (!_isBorderBox && _heightAutoCache ? _paddingY + _borderY : 0)*/;\r\n                        _targetElement.css(css);\r\n\r\n                        return {\r\n                            _originalWidth: origWidth,\r\n                            _originalHeight: origHeight,\r\n                            _dynamicWidth: width,\r\n                            _dynamicHeight: height\r\n                        };\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * Updates the plugin and DOM to the current options.\r\n                 * This method should only be called if a update is 100% required.\r\n                 * @param updateHints A objects which contains hints for this update:\r\n                 * {\r\n                 *   _hostSizeChanged : boolean,\r\n                 *   _contentSizeChanged : boolean,\r\n                 *   _force : boolean,                             == preventSwallowing\r\n                 *   _changedOptions : { },                        == preventSwallowing && preventSleep\r\n                *  }\r\n                 */\r\n                function update(updateHints) {\r\n                    clearTimeout(_swallowedUpdateTimeout);\r\n                    updateHints = updateHints || {};\r\n                    _swallowedUpdateHints._hostSizeChanged |= updateHints._hostSizeChanged;\r\n                    _swallowedUpdateHints._contentSizeChanged |= updateHints._contentSizeChanged;\r\n                    _swallowedUpdateHints._force |= updateHints._force;\r\n\r\n                    var now = COMPATIBILITY.now();\r\n                    var hostSizeChanged = !!_swallowedUpdateHints._hostSizeChanged;\r\n                    var contentSizeChanged = !!_swallowedUpdateHints._contentSizeChanged;\r\n                    var force = !!_swallowedUpdateHints._force;\r\n                    var changedOptions = updateHints._changedOptions;\r\n                    var swallow = _swallowUpdateLag > 0 && _initialized && !_destroyed && !force && !changedOptions && (now - _lastUpdateTime) < _swallowUpdateLag && (!_heightAutoCache && !_widthAutoCache);\r\n                    var displayIsHidden;\r\n\r\n                    if (swallow)\r\n                        _swallowedUpdateTimeout = setTimeout(update, _swallowUpdateLag);\r\n\r\n                    //abort update due to:\r\n                    //destroyed\r\n                    //swallowing\r\n                    //sleeping\r\n                    //host is hidden or has false display\r\n                    if (_destroyed || swallow || (_sleeping && !changedOptions) || (_initialized && !force && (displayIsHidden = _hostElement.is(':hidden'))) || _hostElement.css('display') === 'inline')\r\n                        return;\r\n\r\n                    _lastUpdateTime = now;\r\n                    _swallowedUpdateHints = {};\r\n\r\n                    //if scrollbar styling is possible and native scrollbars aren't overlaid the scrollbar styling will be applied which hides the native scrollbars completely.\r\n                    if (_nativeScrollbarStyling && !(_nativeScrollbarIsOverlaid.x && _nativeScrollbarIsOverlaid.y)) {\r\n                        //native scrollbars are hidden, so change the values to zero\r\n                        _nativeScrollbarSize.x = 0;\r\n                        _nativeScrollbarSize.y = 0;\r\n                    }\r\n                    else {\r\n                        //refresh native scrollbar size (in case of zoom)\r\n                        _nativeScrollbarSize = extendDeep({}, globals.nativeScrollbarSize);\r\n                    }\r\n\r\n                    // Scrollbar padding is needed for firefox, because firefox hides scrollbar automatically if the size of the div is too small.\r\n                    // The calculation: [scrollbar size +3 *3]\r\n                    // (+3 because of possible decoration e.g. borders, margins etc., but only if native scrollbar is NOT a overlaid scrollbar)\r\n                    // (*3 because (1)increase / (2)decrease -button and (3)resize handle)\r\n                    _nativeScrollbarMinSize = {\r\n                        x: (_nativeScrollbarSize.x + (_nativeScrollbarIsOverlaid.x ? 0 : 3)) * 3,\r\n                        y: (_nativeScrollbarSize.y + (_nativeScrollbarIsOverlaid.y ? 0 : 3)) * 3\r\n                    };\r\n\r\n                    changedOptions = changedOptions || {};\r\n                    //freezeResizeObserver(_sizeObserverElement, true);\r\n                    //freezeResizeObserver(_sizeAutoObserverElement, true);\r\n\r\n                    var checkCacheAutoForce = function () {\r\n                        return checkCache.apply(this, [].slice.call(arguments).concat([force]));\r\n                    };\r\n\r\n                    //save current scroll offset\r\n                    var currScroll = {\r\n                        x: _viewportElement[_strScrollLeft](),\r\n                        y: _viewportElement[_strScrollTop]()\r\n                    };\r\n\r\n                    var currentPreparedOptionsScrollbars = _currentPreparedOptions.scrollbars;\r\n                    var currentPreparedOptionsTextarea = _currentPreparedOptions.textarea;\r\n\r\n                    //scrollbars visibility:\r\n                    var scrollbarsVisibility = currentPreparedOptionsScrollbars.visibility;\r\n                    var scrollbarsVisibilityChanged = checkCacheAutoForce(scrollbarsVisibility, _scrollbarsVisibilityCache);\r\n\r\n                    //scrollbars autoHide:\r\n                    var scrollbarsAutoHide = currentPreparedOptionsScrollbars.autoHide;\r\n                    var scrollbarsAutoHideChanged = checkCacheAutoForce(scrollbarsAutoHide, _scrollbarsAutoHideCache);\r\n\r\n                    //scrollbars click scrolling\r\n                    var scrollbarsClickScrolling = currentPreparedOptionsScrollbars.clickScrolling;\r\n                    var scrollbarsClickScrollingChanged = checkCacheAutoForce(scrollbarsClickScrolling, _scrollbarsClickScrollingCache);\r\n\r\n                    //scrollbars drag scrolling\r\n                    var scrollbarsDragScrolling = currentPreparedOptionsScrollbars.dragScrolling;\r\n                    var scrollbarsDragScrollingChanged = checkCacheAutoForce(scrollbarsDragScrolling, _scrollbarsDragScrollingCache);\r\n\r\n                    //className\r\n                    var className = _currentPreparedOptions.className;\r\n                    var classNameChanged = checkCacheAutoForce(className, _classNameCache);\r\n\r\n                    //resize\r\n                    var resize = _currentPreparedOptions.resize;\r\n                    var resizeChanged = checkCacheAutoForce(resize, _resizeCache) && !_isBody; //body can't be resized since the window itself acts as resize possibility.\r\n\r\n                    //paddingAbsolute\r\n                    var paddingAbsolute = _currentPreparedOptions.paddingAbsolute;\r\n                    var paddingAbsoluteChanged = checkCacheAutoForce(paddingAbsolute, _paddingAbsoluteCache);\r\n\r\n                    //clipAlways\r\n                    var clipAlways = _currentPreparedOptions.clipAlways;\r\n                    var clipAlwaysChanged = checkCacheAutoForce(clipAlways, _clipAlwaysCache);\r\n\r\n                    //sizeAutoCapable\r\n                    var sizeAutoCapable = _currentPreparedOptions.sizeAutoCapable && !_isBody; //body can never be size auto, because it shall be always as big as the viewport.\r\n                    var sizeAutoCapableChanged = checkCacheAutoForce(sizeAutoCapable, _sizeAutoCapableCache);\r\n\r\n                    //showNativeScrollbars\r\n                    var ignoreOverlayScrollbarHiding = _currentPreparedOptions.nativeScrollbarsOverlaid.showNativeScrollbars;\r\n                    var ignoreOverlayScrollbarHidingChanged = checkCacheAutoForce(ignoreOverlayScrollbarHiding, _ignoreOverlayScrollbarHidingCache);\r\n\r\n                    //autoUpdate\r\n                    var autoUpdate = _currentPreparedOptions.autoUpdate;\r\n                    var autoUpdateChanged = checkCacheAutoForce(autoUpdate, _autoUpdateCache);\r\n\r\n                    //overflowBehavior\r\n                    var overflowBehavior = _currentPreparedOptions.overflowBehavior;\r\n                    var overflowBehaviorChanged = checkCacheAutoForce(overflowBehavior, _overflowBehaviorCache, force);\r\n\r\n                    //dynWidth:\r\n                    var textareaDynWidth = currentPreparedOptionsTextarea.dynWidth;\r\n                    var textareaDynWidthChanged = checkCacheAutoForce(_textareaDynWidthCache, textareaDynWidth);\r\n\r\n                    //dynHeight:\r\n                    var textareaDynHeight = currentPreparedOptionsTextarea.dynHeight;\r\n                    var textareaDynHeightChanged = checkCacheAutoForce(_textareaDynHeightCache, textareaDynHeight);\r\n\r\n                    //scrollbars visibility\r\n                    _scrollbarsAutoHideNever = scrollbarsAutoHide === 'n';\r\n                    _scrollbarsAutoHideScroll = scrollbarsAutoHide === 's';\r\n                    _scrollbarsAutoHideMove = scrollbarsAutoHide === 'm';\r\n                    _scrollbarsAutoHideLeave = scrollbarsAutoHide === 'l';\r\n\r\n                    //scrollbars autoHideDelay\r\n                    _scrollbarsAutoHideDelay = currentPreparedOptionsScrollbars.autoHideDelay;\r\n\r\n                    //old className\r\n                    _oldClassName = _classNameCache;\r\n\r\n                    //resize\r\n                    _resizeNone = resize === 'n';\r\n                    _resizeBoth = resize === 'b';\r\n                    _resizeHorizontal = resize === 'h';\r\n                    _resizeVertical = resize === 'v';\r\n\r\n                    //normalizeRTL\r\n                    _normalizeRTLCache = _currentPreparedOptions.normalizeRTL;\r\n\r\n                    //ignore overlay scrollbar hiding\r\n                    ignoreOverlayScrollbarHiding = ignoreOverlayScrollbarHiding && (_nativeScrollbarIsOverlaid.x && _nativeScrollbarIsOverlaid.y);\r\n\r\n                    //refresh options cache\r\n                    _scrollbarsVisibilityCache = scrollbarsVisibility;\r\n                    _scrollbarsAutoHideCache = scrollbarsAutoHide;\r\n                    _scrollbarsClickScrollingCache = scrollbarsClickScrolling;\r\n                    _scrollbarsDragScrollingCache = scrollbarsDragScrolling;\r\n                    _classNameCache = className;\r\n                    _resizeCache = resize;\r\n                    _paddingAbsoluteCache = paddingAbsolute;\r\n                    _clipAlwaysCache = clipAlways;\r\n                    _sizeAutoCapableCache = sizeAutoCapable;\r\n                    _ignoreOverlayScrollbarHidingCache = ignoreOverlayScrollbarHiding;\r\n                    _autoUpdateCache = autoUpdate;\r\n                    _overflowBehaviorCache = extendDeep({}, overflowBehavior);\r\n                    _textareaDynWidthCache = textareaDynWidth;\r\n                    _textareaDynHeightCache = textareaDynHeight;\r\n                    _hasOverflowCache = _hasOverflowCache || { x: false, y: false };\r\n\r\n                    //set correct class name to the host element\r\n                    if (classNameChanged) {\r\n                        removeClass(_hostElement, _oldClassName + _strSpace + _classNameThemeNone);\r\n                        addClass(_hostElement, className !== undefined && className !== null && className.length > 0 ? className : _classNameThemeNone);\r\n                    }\r\n\r\n                    //set correct auto Update\r\n                    if (autoUpdateChanged) {\r\n                        if (autoUpdate === true || (autoUpdate === null && _autoUpdateRecommended)) {\r\n                            disconnectMutationObservers();\r\n                            autoUpdateLoop.add(_base);\r\n                        }\r\n                        else {\r\n                            autoUpdateLoop.remove(_base);\r\n                            connectMutationObservers();\r\n                        }\r\n                    }\r\n\r\n                    //activate or deactivate size auto capability\r\n                    if (sizeAutoCapableChanged) {\r\n                        if (sizeAutoCapable) {\r\n                            if (_contentGlueElement) {\r\n                                _contentGlueElement.show();\r\n                            }\r\n                            else {\r\n                                _contentGlueElement = FRAMEWORK(generateDiv(_classNameContentGlueElement));\r\n                                _paddingElement.before(_contentGlueElement);\r\n                            }\r\n                            if (_sizeAutoObserverAdded) {\r\n                                _sizeAutoObserverElement.show();\r\n                            }\r\n                            else {\r\n                                _sizeAutoObserverElement = FRAMEWORK(generateDiv(_classNameSizeAutoObserverElement));\r\n                                _sizeAutoObserverElementNative = _sizeAutoObserverElement[0];\r\n\r\n                                _contentGlueElement.before(_sizeAutoObserverElement);\r\n                                var oldSize = { w: -1, h: -1 };\r\n                                setupResizeObserver(_sizeAutoObserverElement, function () {\r\n                                    var newSize = {\r\n                                        w: _sizeAutoObserverElementNative[LEXICON.oW],\r\n                                        h: _sizeAutoObserverElementNative[LEXICON.oH]\r\n                                    };\r\n                                    if (checkCache(newSize, oldSize)) {\r\n                                        if (_initialized && (_heightAutoCache && newSize.h > 0) || (_widthAutoCache && newSize.w > 0)) {\r\n                                            update();\r\n                                        }\r\n                                        else if (_initialized && (!_heightAutoCache && newSize.h === 0) || (!_widthAutoCache && newSize.w === 0)) {\r\n                                            update();\r\n                                        }\r\n                                    }\r\n                                    oldSize = newSize;\r\n                                });\r\n                                _sizeAutoObserverAdded = true;\r\n                                //fix heightAuto detector bug if height is fixed but contentHeight is 0.\r\n                                //the probability this bug will ever happen is very very low, thats why its ok if we use calc which isn't supported in IE8.\r\n                                if (_cssCalc !== null)\r\n                                    _sizeAutoObserverElement.css(_strHeight, _cssCalc + '(100% + 1px)');\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (_sizeAutoObserverAdded)\r\n                                _sizeAutoObserverElement.hide();\r\n                            if (_contentGlueElement)\r\n                                _contentGlueElement.hide();\r\n                        }\r\n                    }\r\n\r\n                    //if force, update all resizeObservers too\r\n                    if (force) {\r\n                        _sizeObserverElement.find('*').trigger(_strScroll);\r\n                        if (_sizeAutoObserverAdded)\r\n                            _sizeAutoObserverElement.find('*').trigger(_strScroll);\r\n                    }\r\n\r\n                    //display hidden:\r\n                    displayIsHidden = displayIsHidden === undefined ? _hostElement.is(':hidden') : displayIsHidden;\r\n\r\n                    //textarea AutoWrapping:\r\n                    var textareaAutoWrapping = _isTextarea ? _targetElement.attr('wrap') !== 'off' : false;\r\n                    var textareaAutoWrappingChanged = checkCacheAutoForce(textareaAutoWrapping, _textareaAutoWrappingCache);\r\n\r\n                    //detect direction:\r\n                    var cssDirection = _hostElement.css('direction');\r\n                    var cssDirectionChanged = checkCacheAutoForce(cssDirection, _cssDirectionCache);\r\n\r\n                    //detect box-sizing:\r\n                    var boxSizing = _hostElement.css('box-sizing');\r\n                    var boxSizingChanged = checkCacheAutoForce(boxSizing, _cssBoxSizingCache);\r\n\r\n                    //detect padding:\r\n                    var padding = getTopRightBottomLeftHost(_strPaddingMinus);\r\n\r\n                    //width + height auto detecting var:\r\n                    var sizeAutoObserverElementBCRect;\r\n                    //exception occurs in IE8 sometimes (unknown exception)\r\n                    try {\r\n                        sizeAutoObserverElementBCRect = _sizeAutoObserverAdded ? _sizeAutoObserverElementNative[LEXICON.bCR]() : null;\r\n                    } catch (ex) {\r\n                        return;\r\n                    }\r\n\r\n                    _isRTL = cssDirection === 'rtl';\r\n                    _isBorderBox = (boxSizing === 'border-box');\r\n                    var isRTLLeft = _isRTL ? _strLeft : _strRight;\r\n                    var isRTLRight = _isRTL ? _strRight : _strLeft;\r\n\r\n                    //detect width auto:\r\n                    var widthAutoResizeDetection = false;\r\n                    var widthAutoObserverDetection = (_sizeAutoObserverAdded && (_hostElement.css(_strFloat) !== 'none' /*|| _isTextarea */)) ? (MATH.round(sizeAutoObserverElementBCRect.right - sizeAutoObserverElementBCRect.left) === 0) && (!paddingAbsolute ? (_hostElementNative[LEXICON.cW] - _paddingX) > 0 : true) : false;\r\n                    if (sizeAutoCapable && !widthAutoObserverDetection) {\r\n                        var tmpCurrHostWidth = _hostElementNative[LEXICON.oW];\r\n                        var tmpCurrContentGlueWidth = _contentGlueElement.css(_strWidth);\r\n                        _contentGlueElement.css(_strWidth, _strAuto);\r\n\r\n                        var tmpNewHostWidth = _hostElementNative[LEXICON.oW];\r\n                        _contentGlueElement.css(_strWidth, tmpCurrContentGlueWidth);\r\n                        widthAutoResizeDetection = tmpCurrHostWidth !== tmpNewHostWidth;\r\n                        if (!widthAutoResizeDetection) {\r\n                            _contentGlueElement.css(_strWidth, tmpCurrHostWidth + 1);\r\n                            tmpNewHostWidth = _hostElementNative[LEXICON.oW];\r\n                            _contentGlueElement.css(_strWidth, tmpCurrContentGlueWidth);\r\n                            widthAutoResizeDetection = tmpCurrHostWidth !== tmpNewHostWidth;\r\n                        }\r\n                    }\r\n                    var widthAuto = (widthAutoObserverDetection || widthAutoResizeDetection) && sizeAutoCapable && !displayIsHidden;\r\n                    var widthAutoChanged = checkCacheAutoForce(widthAuto, _widthAutoCache);\r\n                    var wasWidthAuto = !widthAuto && _widthAutoCache;\r\n\r\n                    //detect height auto:\r\n                    var heightAuto = _sizeAutoObserverAdded && sizeAutoCapable && !displayIsHidden ? (MATH.round(sizeAutoObserverElementBCRect.bottom - sizeAutoObserverElementBCRect.top) === 0) /* && (!paddingAbsolute && (_msieVersion > 9 || !_msieVersion) ? true : true) */ : false;\r\n                    var heightAutoChanged = checkCacheAutoForce(heightAuto, _heightAutoCache);\r\n                    var wasHeightAuto = !heightAuto && _heightAutoCache;\r\n\r\n                    //detect border:\r\n                    //we need the border only if border box and auto size\r\n                    var updateBorderX = (widthAuto && _isBorderBox) || !_isBorderBox;\r\n                    var updateBorderY = (heightAuto && _isBorderBox) || !_isBorderBox;\r\n                    var border = getTopRightBottomLeftHost(_strBorderMinus, '-' + _strWidth, !updateBorderX, !updateBorderY)\r\n\r\n                    //detect margin:\r\n                    var margin = getTopRightBottomLeftHost(_strMarginMinus);\r\n\r\n                    //vars to apply correct css\r\n                    var contentElementCSS = {};\r\n                    var contentGlueElementCSS = {};\r\n\r\n                    //funcs\r\n                    var getHostSize = function () {\r\n                        //has to be clientSize because offsetSize respect borders\r\n                        return {\r\n                            w: _hostElementNative[LEXICON.cW],\r\n                            h: _hostElementNative[LEXICON.cH]\r\n                        };\r\n                    };\r\n                    var getViewportSize = function () {\r\n                        //viewport size is padding container because it never has padding, margin and a border\r\n                        //determine zoom rounding error -> sometimes scrollWidth/Height is smaller than clientWidth/Height\r\n                        //if this happens add the difference to the viewportSize to compensate the rounding error\r\n                        return {\r\n                            w: _paddingElementNative[LEXICON.oW] + MATH.max(0, _contentElementNative[LEXICON.cW] - _contentElementNative[LEXICON.sW]),\r\n                            h: _paddingElementNative[LEXICON.oH] + MATH.max(0, _contentElementNative[LEXICON.cH] - _contentElementNative[LEXICON.sH])\r\n                        };\r\n                    };\r\n\r\n                    //set info for padding\r\n                    var paddingAbsoluteX = _paddingX = padding.l + padding.r;\r\n                    var paddingAbsoluteY = _paddingY = padding.t + padding.b;\r\n                    paddingAbsoluteX *= paddingAbsolute ? 1 : 0;\r\n                    paddingAbsoluteY *= paddingAbsolute ? 1 : 0;\r\n                    padding.c = checkCacheAutoForce(padding, _cssPaddingCache);\r\n\r\n                    //set info for border\r\n                    _borderX = border.l + border.r;\r\n                    _borderY = border.t + border.b;\r\n                    border.c = checkCacheAutoForce(border, _cssBorderCache);\r\n\r\n                    //set info for margin\r\n                    _marginX = margin.l + margin.r;\r\n                    _marginY = margin.t + margin.b;\r\n                    margin.c = checkCacheAutoForce(margin, _cssMarginCache);\r\n\r\n                    //refresh cache\r\n                    _textareaAutoWrappingCache = textareaAutoWrapping;\r\n                    _cssDirectionCache = cssDirection;\r\n                    _cssBoxSizingCache = boxSizing;\r\n                    _widthAutoCache = widthAuto;\r\n                    _heightAutoCache = heightAuto;\r\n                    _cssPaddingCache = padding;\r\n                    _cssBorderCache = border;\r\n                    _cssMarginCache = margin;\r\n\r\n                    //IEFix direction changed\r\n                    if (cssDirectionChanged && _sizeAutoObserverAdded)\r\n                        _sizeAutoObserverElement.css(_strFloat, isRTLRight);\r\n\r\n                    //apply padding:\r\n                    if (padding.c || cssDirectionChanged || paddingAbsoluteChanged || widthAutoChanged || heightAutoChanged || boxSizingChanged || sizeAutoCapableChanged) {\r\n                        var paddingElementCSS = {};\r\n                        var textareaCSS = {};\r\n                        var paddingValues = [padding.t, padding.r, padding.b, padding.l];\r\n\r\n                        setTopRightBottomLeft(contentGlueElementCSS, _strMarginMinus, [-padding.t, -padding.r, -padding.b, -padding.l]);\r\n                        if (paddingAbsolute) {\r\n                            setTopRightBottomLeft(paddingElementCSS, _strEmpty, paddingValues);\r\n                            setTopRightBottomLeft(_isTextarea ? textareaCSS : contentElementCSS, _strPaddingMinus);\r\n                        }\r\n                        else {\r\n                            setTopRightBottomLeft(paddingElementCSS, _strEmpty);\r\n                            setTopRightBottomLeft(_isTextarea ? textareaCSS : contentElementCSS, _strPaddingMinus, paddingValues);\r\n                        }\r\n\r\n                        _paddingElement.css(paddingElementCSS);\r\n                        _targetElement.css(textareaCSS);\r\n                    }\r\n\r\n                    //viewport size is padding container because it never has padding, margin and a border.\r\n                    _viewportSize = getViewportSize();\r\n\r\n                    //update Textarea\r\n                    var textareaSize = _isTextarea ? textareaUpdate() : false;\r\n                    var textareaSizeChanged = _isTextarea && checkCacheAutoForce(textareaSize, _textareaSizeCache);\r\n                    var textareaDynOrigSize = _isTextarea && textareaSize ? {\r\n                        w: textareaDynWidth ? textareaSize._dynamicWidth : textareaSize._originalWidth,\r\n                        h: textareaDynHeight ? textareaSize._dynamicHeight : textareaSize._originalHeight\r\n                    } : {};\r\n                    _textareaSizeCache = textareaSize;\r\n\r\n                    //fix height auto / width auto in cooperation with current padding & boxSizing behavior:\r\n                    if (heightAuto && (heightAutoChanged || paddingAbsoluteChanged || boxSizingChanged || padding.c || border.c)) {\r\n                        contentElementCSS[_strHeight] = _strAuto;\r\n                    }\r\n                    else if (heightAutoChanged || paddingAbsoluteChanged) {\r\n                        contentElementCSS[_strHeight] = _strHundredPercent;\r\n                    }\r\n                    if (widthAuto && (widthAutoChanged || paddingAbsoluteChanged || boxSizingChanged || padding.c || border.c || cssDirectionChanged)) {\r\n                        contentElementCSS[_strWidth] = _strAuto;\r\n                        contentGlueElementCSS[_strMaxMinus + _strWidth] = _strHundredPercent; //IE Fix\r\n                    }\r\n                    else if (widthAutoChanged || paddingAbsoluteChanged) {\r\n                        contentElementCSS[_strWidth] = _strHundredPercent;\r\n                        contentElementCSS[_strFloat] = _strEmpty;\r\n                        contentGlueElementCSS[_strMaxMinus + _strWidth] = _strEmpty; //IE Fix\r\n                    }\r\n                    if (widthAuto) {\r\n                        //textareaDynOrigSize.w || _strAuto :: doesnt works because applied margin will shift width\r\n                        contentGlueElementCSS[_strWidth] = _strAuto;\r\n\r\n                        contentElementCSS[_strWidth] = VENDORS._cssPropertyValue(_strWidth, 'max-content intrinsic') || _strAuto;\r\n                        contentElementCSS[_strFloat] = isRTLRight;\r\n                    }\r\n                    else {\r\n                        contentGlueElementCSS[_strWidth] = _strEmpty;\r\n                    }\r\n                    if (heightAuto) {\r\n                        //textareaDynOrigSize.h || _contentElementNative[LEXICON.cH] :: use for anti scroll jumping\r\n                        contentGlueElementCSS[_strHeight] = textareaDynOrigSize.h || _contentElementNative[LEXICON.cH];\r\n                    }\r\n                    else {\r\n                        contentGlueElementCSS[_strHeight] = _strEmpty;\r\n                    }\r\n                    if (sizeAutoCapable)\r\n                        _contentGlueElement.css(contentGlueElementCSS);\r\n                    _contentElement.css(contentElementCSS);\r\n\r\n                    //CHECKPOINT HERE ~\r\n                    contentElementCSS = {};\r\n                    contentGlueElementCSS = {};\r\n\r\n                    //if [content(host) client / scroll size, or target element direction, or content(host) max-sizes] changed, or force is true\r\n                    if (hostSizeChanged || contentSizeChanged || textareaSizeChanged || cssDirectionChanged || boxSizingChanged || paddingAbsoluteChanged || widthAutoChanged || widthAuto || heightAutoChanged || heightAuto || ignoreOverlayScrollbarHidingChanged || overflowBehaviorChanged || clipAlwaysChanged || resizeChanged || scrollbarsVisibilityChanged || scrollbarsAutoHideChanged || scrollbarsDragScrollingChanged || scrollbarsClickScrollingChanged || textareaDynWidthChanged || textareaDynHeightChanged || textareaAutoWrappingChanged) {\r\n                        var strOverflow = 'overflow';\r\n                        var strOverflowX = strOverflow + '-x';\r\n                        var strOverflowY = strOverflow + '-y';\r\n                        var strHidden = 'hidden';\r\n                        var strVisible = 'visible';\r\n\r\n                        //Reset the viewport (very important for natively overlaid scrollbars and zoom change\r\n                        //don't change the overflow prop as it is very expensive and affects performance !A LOT!\r\n                        if (!_nativeScrollbarStyling) {\r\n                            var viewportElementResetCSS = {};\r\n                            var resetXTmp = _hasOverflowCache.y && _hideOverflowCache.ys && !ignoreOverlayScrollbarHiding ? (_nativeScrollbarIsOverlaid.y ? _viewportElement.css(isRTLLeft) : -_nativeScrollbarSize.y) : 0;\r\n                            var resetBottomTmp = _hasOverflowCache.x && _hideOverflowCache.xs && !ignoreOverlayScrollbarHiding ? (_nativeScrollbarIsOverlaid.x ? _viewportElement.css(_strBottom) : -_nativeScrollbarSize.x) : 0;\r\n                            setTopRightBottomLeft(viewportElementResetCSS, _strEmpty);\r\n                            _viewportElement.css(viewportElementResetCSS);\r\n                        }\r\n\r\n                        //measure several sizes:\r\n                        var contentMeasureElement = getContentMeasureElement();\r\n                        //in Firefox content element has to have overflow hidden, else element margins aren't calculated properly, this element prevents this bug, but only if scrollbars aren't overlaid\r\n                        var contentSize = {\r\n                            //use clientSize because natively overlaidScrollbars add borders\r\n                            w: textareaDynOrigSize.w || contentMeasureElement[LEXICON.cW],\r\n                            h: textareaDynOrigSize.h || contentMeasureElement[LEXICON.cH]\r\n                        };\r\n                        var scrollSize = {\r\n                            w: contentMeasureElement[LEXICON.sW],\r\n                            h: contentMeasureElement[LEXICON.sH]\r\n                        };\r\n\r\n                        //apply the correct viewport style and measure viewport size\r\n                        if (!_nativeScrollbarStyling) {\r\n                            viewportElementResetCSS[_strBottom] = wasHeightAuto ? _strEmpty : resetBottomTmp;\r\n                            viewportElementResetCSS[isRTLLeft] = wasWidthAuto ? _strEmpty : resetXTmp;\r\n                            _viewportElement.css(viewportElementResetCSS);\r\n                        }\r\n                        _viewportSize = getViewportSize();\r\n\r\n                        //measure and correct several sizes\r\n                        var hostSize = getHostSize();\r\n                        var hostAbsoluteRectSize = {\r\n                            w: hostSize.w - _marginX - _borderX - (_isBorderBox ? 0 : _paddingX),\r\n                            h: hostSize.h - _marginY - _borderY - (_isBorderBox ? 0 : _paddingY)\r\n                        };\r\n                        var contentGlueSize = {\r\n                            //client/scrollSize + AbsolutePadding -> because padding is only applied to the paddingElement if its absolute, so you have to add it manually\r\n                            //hostSize is clientSize -> so padding should be added manually, right? FALSE! Because content glue is inside hostElement, so we don't have to worry about padding\r\n                            w: MATH.max((widthAuto ? contentSize.w : scrollSize.w) + paddingAbsoluteX, hostAbsoluteRectSize.w),\r\n                            h: MATH.max((heightAuto ? contentSize.h : scrollSize.h) + paddingAbsoluteY, hostAbsoluteRectSize.h)\r\n                        };\r\n                        contentGlueSize.c = checkCacheAutoForce(contentGlueSize, _contentGlueSizeCache);\r\n                        _contentGlueSizeCache = contentGlueSize;\r\n\r\n                        //apply correct contentGlue size\r\n                        if (sizeAutoCapable) {\r\n                            //size contentGlue correctly to make sure the element has correct size if the sizing switches to auto\r\n                            if (contentGlueSize.c || (heightAuto || widthAuto)) {\r\n                                contentGlueElementCSS[_strWidth] = contentGlueSize.w;\r\n                                contentGlueElementCSS[_strHeight] = contentGlueSize.h;\r\n\r\n                                //textarea-sizes are already calculated correctly at this point\r\n                                if (!_isTextarea) {\r\n                                    contentSize = {\r\n                                        //use clientSize because natively overlaidScrollbars add borders\r\n                                        w: contentMeasureElement[LEXICON.cW],\r\n                                        h: contentMeasureElement[LEXICON.cH]\r\n                                    };\r\n                                }\r\n                            }\r\n                            var textareaCoverCSS = {};\r\n                            var setContentGlueElementCSSfunction = function (horizontal) {\r\n                                var scrollbarVars = getScrollbarVars(horizontal);\r\n                                var wh = scrollbarVars._w_h;\r\n                                var strWH = scrollbarVars._width_height;\r\n                                var autoSize = horizontal ? widthAuto : heightAuto;\r\n                                var borderSize = horizontal ? _borderX : _borderY;\r\n                                var paddingSize = horizontal ? _paddingX : _paddingY;\r\n                                var marginSize = horizontal ? _marginX : _marginY;\r\n                                var viewportSize = _viewportSize[wh] - borderSize - marginSize - (_isBorderBox ? 0 : paddingSize);\r\n\r\n                                //make contentGlue size -1 if element is not auto sized, to make sure that a resize event happens when the element shrinks\r\n                                if (!autoSize || (!autoSize && border.c))\r\n                                    contentGlueElementCSS[strWH] = hostAbsoluteRectSize[wh] - 1;\r\n\r\n                                //if size is auto and host is smaller than size as min size, make content glue size -1 to make sure size changes will be detected (this is only needed if padding is 0)\r\n                                if (autoSize && (contentSize[wh] < viewportSize) && (horizontal && _isTextarea ? !textareaAutoWrapping : true)) {\r\n                                    if (_isTextarea)\r\n                                        textareaCoverCSS[strWH] = parseToZeroOrNumber(_textareaCoverElement.css(strWH)) - 1;\r\n                                    contentGlueElementCSS[strWH] -= 1;\r\n                                }\r\n\r\n                                //make sure content glue size is at least 1\r\n                                if (contentSize[wh] > 0)\r\n                                    contentGlueElementCSS[strWH] = MATH.max(1, contentGlueElementCSS[strWH]);\r\n                            };\r\n                            setContentGlueElementCSSfunction(true);\r\n                            setContentGlueElementCSSfunction(false);\r\n\r\n                            if (_isTextarea)\r\n                                _textareaCoverElement.css(textareaCoverCSS);\r\n                            _contentGlueElement.css(contentGlueElementCSS);\r\n                        }\r\n                        if (widthAuto)\r\n                            contentElementCSS[_strWidth] = _strHundredPercent;\r\n                        if (widthAuto && !_isBorderBox && !_mutationObserversConnected)\r\n                            contentElementCSS[_strFloat] = 'none';\r\n\r\n                        //apply and reset content style\r\n                        _contentElement.css(contentElementCSS);\r\n                        contentElementCSS = {};\r\n\r\n                        //measure again, but this time all correct sizes:\r\n                        var contentScrollSize = {\r\n                            w: contentMeasureElement[LEXICON.sW],\r\n                            h: contentMeasureElement[LEXICON.sH],\r\n                        };\r\n                        contentScrollSize.c = contentSizeChanged = checkCacheAutoForce(contentScrollSize, _contentScrollSizeCache);\r\n                        _contentScrollSizeCache = contentScrollSize;\r\n\r\n                        //refresh viewport size after correct measuring\r\n                        _viewportSize = getViewportSize();\r\n\r\n                        hostSize = getHostSize();\r\n                        hostSizeChanged = checkCacheAutoForce(hostSize, _hostSizeCache);\r\n                        _hostSizeCache = hostSize;\r\n\r\n                        var hideOverflowForceTextarea = _isTextarea && (_viewportSize.w === 0 || _viewportSize.h === 0);\r\n                        var previousOverflowAmount = _overflowAmountCache;\r\n                        var overflowBehaviorIsVS = {};\r\n                        var overflowBehaviorIsVH = {};\r\n                        var overflowBehaviorIsS = {};\r\n                        var overflowAmount = {};\r\n                        var hasOverflow = {};\r\n                        var hideOverflow = {};\r\n                        var canScroll = {};\r\n                        var viewportRect = _paddingElementNative[LEXICON.bCR]();\r\n                        var setOverflowVariables = function (horizontal) {\r\n                            var scrollbarVars = getScrollbarVars(horizontal);\r\n                            var scrollbarVarsInverted = getScrollbarVars(!horizontal);\r\n                            var xyI = scrollbarVarsInverted._x_y;\r\n                            var xy = scrollbarVars._x_y;\r\n                            var wh = scrollbarVars._w_h;\r\n                            var widthHeight = scrollbarVars._width_height;\r\n                            var scrollMax = _strScroll + scrollbarVars._Left_Top + 'Max';\r\n                            var fractionalOverflowAmount = viewportRect[widthHeight] ? MATH.abs(viewportRect[widthHeight] - _viewportSize[wh]) : 0;\r\n                            var checkFractionalOverflowAmount = previousOverflowAmount && previousOverflowAmount[xy] > 0 && _viewportElementNative[scrollMax] === 0;\r\n                            overflowBehaviorIsVS[xy] = overflowBehavior[xy] === 'v-s';\r\n                            overflowBehaviorIsVH[xy] = overflowBehavior[xy] === 'v-h';\r\n                            overflowBehaviorIsS[xy] = overflowBehavior[xy] === 's';\r\n                            overflowAmount[xy] = MATH.max(0, MATH.round((contentScrollSize[wh] - _viewportSize[wh]) * 100) / 100);\r\n                            overflowAmount[xy] *= (hideOverflowForceTextarea || (checkFractionalOverflowAmount && fractionalOverflowAmount > 0 && fractionalOverflowAmount < 1)) ? 0 : 1;\r\n                            hasOverflow[xy] = overflowAmount[xy] > 0;\r\n\r\n                            //hideOverflow:\r\n                            //x || y : true === overflow is hidden by \"overflow: scroll\" OR \"overflow: hidden\"\r\n                            //xs || ys : true === overflow is hidden by \"overflow: scroll\"\r\n                            hideOverflow[xy] = overflowBehaviorIsVS[xy] || overflowBehaviorIsVH[xy] ? (hasOverflow[xyI] && !overflowBehaviorIsVS[xyI] && !overflowBehaviorIsVH[xyI]) : hasOverflow[xy];\r\n                            hideOverflow[xy + 's'] = hideOverflow[xy] ? (overflowBehaviorIsS[xy] || overflowBehaviorIsVS[xy]) : false;\r\n\r\n                            canScroll[xy] = hasOverflow[xy] && hideOverflow[xy + 's'];\r\n                        };\r\n                        setOverflowVariables(true);\r\n                        setOverflowVariables(false);\r\n\r\n                        overflowAmount.c = checkCacheAutoForce(overflowAmount, _overflowAmountCache);\r\n                        _overflowAmountCache = overflowAmount;\r\n                        hasOverflow.c = checkCacheAutoForce(hasOverflow, _hasOverflowCache);\r\n                        _hasOverflowCache = hasOverflow;\r\n                        hideOverflow.c = checkCacheAutoForce(hideOverflow, _hideOverflowCache);\r\n                        _hideOverflowCache = hideOverflow;\r\n\r\n                        //if native scrollbar is overlay at x OR y axis, prepare DOM\r\n                        if (_nativeScrollbarIsOverlaid.x || _nativeScrollbarIsOverlaid.y) {\r\n                            var borderDesign = 'px solid transparent';\r\n                            var contentArrangeElementCSS = {};\r\n                            var arrangeContent = {};\r\n                            var arrangeChanged = force;\r\n                            var setContentElementCSS;\r\n\r\n                            if (hasOverflow.x || hasOverflow.y) {\r\n                                arrangeContent.w = _nativeScrollbarIsOverlaid.y && hasOverflow.y ? contentScrollSize.w + _overlayScrollbarDummySize.y : _strEmpty;\r\n                                arrangeContent.h = _nativeScrollbarIsOverlaid.x && hasOverflow.x ? contentScrollSize.h + _overlayScrollbarDummySize.x : _strEmpty;\r\n                                arrangeChanged = checkCacheAutoForce(arrangeContent, _arrangeContentSizeCache);\r\n                                _arrangeContentSizeCache = arrangeContent;\r\n                            }\r\n\r\n                            if (hasOverflow.c || hideOverflow.c || contentScrollSize.c || cssDirectionChanged || widthAutoChanged || heightAutoChanged || widthAuto || heightAuto || ignoreOverlayScrollbarHidingChanged) {\r\n                                contentElementCSS[_strMarginMinus + isRTLRight] = contentElementCSS[_strBorderMinus + isRTLRight] = _strEmpty;\r\n                                setContentElementCSS = function (horizontal) {\r\n                                    var scrollbarVars = getScrollbarVars(horizontal);\r\n                                    var scrollbarVarsInverted = getScrollbarVars(!horizontal);\r\n                                    var xy = scrollbarVars._x_y;\r\n                                    var strDirection = horizontal ? _strBottom : isRTLLeft;\r\n                                    var invertedAutoSize = horizontal ? heightAuto : widthAuto;\r\n\r\n                                    if (_nativeScrollbarIsOverlaid[xy] && hasOverflow[xy] && hideOverflow[xy + 's']) {\r\n                                        contentElementCSS[_strMarginMinus + strDirection] = invertedAutoSize ? (ignoreOverlayScrollbarHiding ? _strEmpty : _overlayScrollbarDummySize[xy]) : _strEmpty;\r\n                                        contentElementCSS[_strBorderMinus + strDirection] = ((horizontal ? !invertedAutoSize : true) && !ignoreOverlayScrollbarHiding) ? (_overlayScrollbarDummySize[xy] + borderDesign) : _strEmpty;\r\n                                    }\r\n                                    else {\r\n                                        arrangeContent[scrollbarVarsInverted._w_h] =\r\n                                            contentElementCSS[_strMarginMinus + strDirection] =\r\n                                            contentElementCSS[_strBorderMinus + strDirection] = _strEmpty;\r\n                                        arrangeChanged = true;\r\n                                    }\r\n                                };\r\n\r\n                                if (_nativeScrollbarStyling) {\r\n                                    addRemoveClass(_viewportElement, _classNameViewportNativeScrollbarsInvisible, !ignoreOverlayScrollbarHiding)\r\n                                }\r\n                                else {\r\n                                    setContentElementCSS(true);\r\n                                    setContentElementCSS(false);\r\n                                }\r\n                            }\r\n                            if (ignoreOverlayScrollbarHiding) {\r\n                                arrangeContent.w = arrangeContent.h = _strEmpty;\r\n                                arrangeChanged = true;\r\n                            }\r\n                            if (arrangeChanged && !_nativeScrollbarStyling) {\r\n                                contentArrangeElementCSS[_strWidth] = hideOverflow.y ? arrangeContent.w : _strEmpty;\r\n                                contentArrangeElementCSS[_strHeight] = hideOverflow.x ? arrangeContent.h : _strEmpty;\r\n\r\n                                if (!_contentArrangeElement) {\r\n                                    _contentArrangeElement = FRAMEWORK(generateDiv(_classNameContentArrangeElement));\r\n                                    _viewportElement.prepend(_contentArrangeElement);\r\n                                }\r\n                                _contentArrangeElement.css(contentArrangeElementCSS);\r\n                            }\r\n                            _contentElement.css(contentElementCSS);\r\n                        }\r\n\r\n                        var viewportElementCSS = {};\r\n                        var paddingElementCSS = {};\r\n                        var setViewportCSS;\r\n                        if (hostSizeChanged || hasOverflow.c || hideOverflow.c || contentScrollSize.c || overflowBehaviorChanged || boxSizingChanged || ignoreOverlayScrollbarHidingChanged || cssDirectionChanged || clipAlwaysChanged || heightAutoChanged) {\r\n                            viewportElementCSS[isRTLRight] = _strEmpty;\r\n                            setViewportCSS = function (horizontal) {\r\n                                var scrollbarVars = getScrollbarVars(horizontal);\r\n                                var scrollbarVarsInverted = getScrollbarVars(!horizontal);\r\n                                var xy = scrollbarVars._x_y;\r\n                                var XY = scrollbarVars._X_Y;\r\n                                var strDirection = horizontal ? _strBottom : isRTLLeft;\r\n\r\n                                var reset = function () {\r\n                                    viewportElementCSS[strDirection] = _strEmpty;\r\n                                    _contentBorderSize[scrollbarVarsInverted._w_h] = 0;\r\n                                };\r\n                                if (hasOverflow[xy] && hideOverflow[xy + 's']) {\r\n                                    viewportElementCSS[strOverflow + XY] = _strScroll;\r\n                                    if (ignoreOverlayScrollbarHiding || _nativeScrollbarStyling) {\r\n                                        reset();\r\n                                    }\r\n                                    else {\r\n                                        viewportElementCSS[strDirection] = -(_nativeScrollbarIsOverlaid[xy] ? _overlayScrollbarDummySize[xy] : _nativeScrollbarSize[xy]);\r\n                                        _contentBorderSize[scrollbarVarsInverted._w_h] = _nativeScrollbarIsOverlaid[xy] ? _overlayScrollbarDummySize[scrollbarVarsInverted._x_y] : 0;\r\n                                    }\r\n                                } else {\r\n                                    viewportElementCSS[strOverflow + XY] = _strEmpty;\r\n                                    reset();\r\n                                }\r\n                            };\r\n                            setViewportCSS(true);\r\n                            setViewportCSS(false);\r\n\r\n                            // if the scroll container is too small and if there is any overflow with no overlay scrollbar (and scrollbar styling isn't possible), \r\n                            // make viewport element greater in size (Firefox hide Scrollbars fix)\r\n                            // because firefox starts hiding scrollbars on too small elements\r\n                            // with this behavior the overflow calculation may be incorrect or the scrollbars would appear suddenly\r\n                            // https://bugzilla.mozilla.org/show_bug.cgi?id=292284\r\n                            if (!_nativeScrollbarStyling\r\n                                && (_viewportSize.h < _nativeScrollbarMinSize.x || _viewportSize.w < _nativeScrollbarMinSize.y)\r\n                                && ((hasOverflow.x && hideOverflow.x && !_nativeScrollbarIsOverlaid.x) || (hasOverflow.y && hideOverflow.y && !_nativeScrollbarIsOverlaid.y))) {\r\n                                viewportElementCSS[_strPaddingMinus + _strTop] = _nativeScrollbarMinSize.x;\r\n                                viewportElementCSS[_strMarginMinus + _strTop] = -_nativeScrollbarMinSize.x;\r\n\r\n                                viewportElementCSS[_strPaddingMinus + isRTLRight] = _nativeScrollbarMinSize.y;\r\n                                viewportElementCSS[_strMarginMinus + isRTLRight] = -_nativeScrollbarMinSize.y;\r\n                            }\r\n                            else {\r\n                                viewportElementCSS[_strPaddingMinus + _strTop] =\r\n                                    viewportElementCSS[_strMarginMinus + _strTop] =\r\n                                    viewportElementCSS[_strPaddingMinus + isRTLRight] =\r\n                                    viewportElementCSS[_strMarginMinus + isRTLRight] = _strEmpty;\r\n                            }\r\n                            viewportElementCSS[_strPaddingMinus + isRTLLeft] =\r\n                                viewportElementCSS[_strMarginMinus + isRTLLeft] = _strEmpty;\r\n\r\n                            //if there is any overflow (x OR y axis) and this overflow shall be hidden, make overflow hidden, else overflow visible\r\n                            if ((hasOverflow.x && hideOverflow.x) || (hasOverflow.y && hideOverflow.y) || hideOverflowForceTextarea) {\r\n                                //only hide if is Textarea\r\n                                if (_isTextarea && hideOverflowForceTextarea) {\r\n                                    paddingElementCSS[strOverflowX] =\r\n                                        paddingElementCSS[strOverflowY] = strHidden;\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (!clipAlways || (overflowBehaviorIsVH.x || overflowBehaviorIsVS.x || overflowBehaviorIsVH.y || overflowBehaviorIsVS.y)) {\r\n                                    //only un-hide if Textarea\r\n                                    if (_isTextarea) {\r\n                                        paddingElementCSS[strOverflowX] =\r\n                                            paddingElementCSS[strOverflowY] = _strEmpty;\r\n                                    }\r\n                                    viewportElementCSS[strOverflowX] =\r\n                                        viewportElementCSS[strOverflowY] = strVisible;\r\n                                }\r\n                            }\r\n\r\n                            _paddingElement.css(paddingElementCSS);\r\n                            _viewportElement.css(viewportElementCSS);\r\n                            viewportElementCSS = {};\r\n\r\n                            //force soft redraw in webkit because without the scrollbars will may appear because DOM wont be redrawn under special conditions\r\n                            if ((hasOverflow.c || boxSizingChanged || widthAutoChanged || heightAutoChanged) && !(_nativeScrollbarIsOverlaid.x && _nativeScrollbarIsOverlaid.y)) {\r\n                                var elementStyle = _contentElementNative[LEXICON.s];\r\n                                var dump;\r\n                                elementStyle.webkitTransform = 'scale(1)';\r\n                                elementStyle.display = 'run-in';\r\n                                dump = _contentElementNative[LEXICON.oH];\r\n                                elementStyle.display = _strEmpty; //|| dump; //use dump to prevent it from deletion if minify\r\n                                elementStyle.webkitTransform = _strEmpty;\r\n                            }\r\n                            /*\r\n                            //force hard redraw in webkit if native overlaid scrollbars shall appear\r\n                            if (ignoreOverlayScrollbarHidingChanged && ignoreOverlayScrollbarHiding) {\r\n                                _hostElement.hide();\r\n                                var dump = _hostElementNative[LEXICON.oH];\r\n                                _hostElement.show();\r\n                            }\r\n                            */\r\n                        }\r\n\r\n                        //change to direction RTL and width auto Bugfix in Webkit\r\n                        //without this fix, the DOM still thinks the scrollbar is LTR and thus the content is shifted to the left\r\n                        contentElementCSS = {};\r\n                        if (cssDirectionChanged || widthAutoChanged || heightAutoChanged) {\r\n                            if (_isRTL && widthAuto) {\r\n                                var floatTmp = _contentElement.css(_strFloat);\r\n                                var posLeftWithoutFloat = MATH.round(_contentElement.css(_strFloat, _strEmpty).css(_strLeft, _strEmpty).position().left);\r\n                                _contentElement.css(_strFloat, floatTmp);\r\n                                var posLeftWithFloat = MATH.round(_contentElement.position().left);\r\n\r\n                                if (posLeftWithoutFloat !== posLeftWithFloat)\r\n                                    contentElementCSS[_strLeft] = posLeftWithoutFloat;\r\n                            }\r\n                            else {\r\n                                contentElementCSS[_strLeft] = _strEmpty;\r\n                            }\r\n                        }\r\n                        _contentElement.css(contentElementCSS);\r\n\r\n                        //handle scroll position\r\n                        if (_isTextarea && contentSizeChanged) {\r\n                            var textareaInfo = getTextareaInfo();\r\n                            if (textareaInfo) {\r\n                                var textareaRowsChanged = _textareaInfoCache === undefined ? true : textareaInfo._rows !== _textareaInfoCache._rows;\r\n                                var cursorRow = textareaInfo._cursorRow;\r\n                                var cursorCol = textareaInfo._cursorColumn;\r\n                                var widestRow = textareaInfo._widestRow;\r\n                                var lastRow = textareaInfo._rows;\r\n                                var lastCol = textareaInfo._columns;\r\n                                var cursorPos = textareaInfo._cursorPosition;\r\n                                var cursorMax = textareaInfo._cursorMax;\r\n                                var cursorIsLastPosition = (cursorPos >= cursorMax && _textareaHasFocus);\r\n                                var textareaScrollAmount = {\r\n                                    x: (!textareaAutoWrapping && (cursorCol === lastCol && cursorRow === widestRow)) ? _overflowAmountCache.x : -1,\r\n                                    y: (textareaAutoWrapping ? cursorIsLastPosition || textareaRowsChanged && (previousOverflowAmount ? (currScroll.y === previousOverflowAmount.y) : false) : (cursorIsLastPosition || textareaRowsChanged) && cursorRow === lastRow) ? _overflowAmountCache.y : -1\r\n                                };\r\n                                currScroll.x = textareaScrollAmount.x > -1 ? (_isRTL && _normalizeRTLCache && _rtlScrollBehavior.i ? 0 : textareaScrollAmount.x) : currScroll.x; //if inverted, scroll to 0 -> normalized this means to max scroll offset.\r\n                                currScroll.y = textareaScrollAmount.y > -1 ? textareaScrollAmount.y : currScroll.y;\r\n                            }\r\n                            _textareaInfoCache = textareaInfo;\r\n                        }\r\n                        if (_isRTL && _rtlScrollBehavior.i && _nativeScrollbarIsOverlaid.y && hasOverflow.x && _normalizeRTLCache)\r\n                            currScroll.x += _contentBorderSize.w || 0;\r\n                        if (widthAuto)\r\n                            _hostElement[_strScrollLeft](0);\r\n                        if (heightAuto)\r\n                            _hostElement[_strScrollTop](0);\r\n                        _viewportElement[_strScrollLeft](currScroll.x)[_strScrollTop](currScroll.y);\r\n\r\n                        //scrollbars management:\r\n                        var scrollbarsVisibilityVisible = scrollbarsVisibility === 'v';\r\n                        var scrollbarsVisibilityHidden = scrollbarsVisibility === 'h';\r\n                        var scrollbarsVisibilityAuto = scrollbarsVisibility === 'a';\r\n                        var refreshScrollbarsVisibility = function (showX, showY) {\r\n                            showY = showY === undefined ? showX : showY;\r\n                            refreshScrollbarAppearance(true, showX, canScroll.x)\r\n                            refreshScrollbarAppearance(false, showY, canScroll.y)\r\n                        };\r\n\r\n                        //manage class name which indicates scrollable overflow\r\n                        addRemoveClass(_hostElement, _classNameHostOverflow, hideOverflow.x || hideOverflow.y);\r\n                        addRemoveClass(_hostElement, _classNameHostOverflowX, hideOverflow.x);\r\n                        addRemoveClass(_hostElement, _classNameHostOverflowY, hideOverflow.y);\r\n\r\n                        //add or remove rtl class name for styling purposes except when its body, then the scrollbar stays\r\n                        if (cssDirectionChanged && !_isBody) {\r\n                            addRemoveClass(_hostElement, _classNameHostRTL, _isRTL);\r\n                        }\r\n\r\n                        //manage the resize feature (CSS3 resize \"polyfill\" for this plugin)\r\n                        if (_isBody)\r\n                            addClass(_hostElement, _classNameHostResizeDisabled);\r\n                        if (resizeChanged) {\r\n                            addRemoveClass(_hostElement, _classNameHostResizeDisabled, _resizeNone);\r\n                            addRemoveClass(_scrollbarCornerElement, _classNameScrollbarCornerResize, !_resizeNone);\r\n                            addRemoveClass(_scrollbarCornerElement, _classNameScrollbarCornerResizeB, _resizeBoth);\r\n                            addRemoveClass(_scrollbarCornerElement, _classNameScrollbarCornerResizeH, _resizeHorizontal);\r\n                            addRemoveClass(_scrollbarCornerElement, _classNameScrollbarCornerResizeV, _resizeVertical);\r\n                        }\r\n\r\n                        //manage the scrollbars general visibility + the scrollbar interactivity (unusable class name)\r\n                        if (scrollbarsVisibilityChanged || overflowBehaviorChanged || hideOverflow.c || hasOverflow.c || ignoreOverlayScrollbarHidingChanged) {\r\n                            if (ignoreOverlayScrollbarHiding) {\r\n                                if (ignoreOverlayScrollbarHidingChanged) {\r\n                                    removeClass(_hostElement, _classNameHostScrolling);\r\n                                    if (ignoreOverlayScrollbarHiding) {\r\n                                        refreshScrollbarsVisibility(false);\r\n                                    }\r\n                                }\r\n                            }\r\n                            else if (scrollbarsVisibilityAuto) {\r\n                                refreshScrollbarsVisibility(canScroll.x, canScroll.y);\r\n                            }\r\n                            else if (scrollbarsVisibilityVisible) {\r\n                                refreshScrollbarsVisibility(true);\r\n                            }\r\n                            else if (scrollbarsVisibilityHidden) {\r\n                                refreshScrollbarsVisibility(false);\r\n                            }\r\n                        }\r\n\r\n                        //manage the scrollbars auto hide feature (auto hide them after specific actions)\r\n                        if (scrollbarsAutoHideChanged || ignoreOverlayScrollbarHidingChanged) {\r\n                            setupHostMouseTouchEvents(!_scrollbarsAutoHideLeave && !_scrollbarsAutoHideMove);\r\n                            refreshScrollbarsAutoHide(_scrollbarsAutoHideNever, !_scrollbarsAutoHideNever);\r\n                        }\r\n\r\n                        //manage scrollbars handle length & offset - don't remove!\r\n                        if (hostSizeChanged || overflowAmount.c || heightAutoChanged || widthAutoChanged || resizeChanged || boxSizingChanged || paddingAbsoluteChanged || ignoreOverlayScrollbarHidingChanged || cssDirectionChanged) {\r\n                            refreshScrollbarHandleLength(true);\r\n                            refreshScrollbarHandleOffset(true);\r\n                            refreshScrollbarHandleLength(false);\r\n                            refreshScrollbarHandleOffset(false);\r\n                        }\r\n\r\n                        //manage interactivity\r\n                        if (scrollbarsClickScrollingChanged)\r\n                            refreshScrollbarsInteractive(true, scrollbarsClickScrolling);\r\n                        if (scrollbarsDragScrollingChanged)\r\n                            refreshScrollbarsInteractive(false, scrollbarsDragScrolling);\r\n\r\n                        //callbacks:\r\n                        dispatchCallback('onDirectionChanged', {\r\n                            isRTL: _isRTL,\r\n                            dir: cssDirection\r\n                        }, cssDirectionChanged);\r\n                        dispatchCallback('onHostSizeChanged', {\r\n                            width: _hostSizeCache.w,\r\n                            height: _hostSizeCache.h\r\n                        }, hostSizeChanged);\r\n                        dispatchCallback('onContentSizeChanged', {\r\n                            width: _contentScrollSizeCache.w,\r\n                            height: _contentScrollSizeCache.h\r\n                        }, contentSizeChanged);\r\n                        dispatchCallback('onOverflowChanged', {\r\n                            x: hasOverflow.x,\r\n                            y: hasOverflow.y,\r\n                            xScrollable: hideOverflow.xs,\r\n                            yScrollable: hideOverflow.ys,\r\n                            clipped: hideOverflow.x || hideOverflow.y\r\n                        }, hasOverflow.c || hideOverflow.c);\r\n                        dispatchCallback('onOverflowAmountChanged', {\r\n                            x: overflowAmount.x,\r\n                            y: overflowAmount.y\r\n                        }, overflowAmount.c);\r\n                    }\r\n\r\n                    //fix body min size\r\n                    if (_isBody && _bodyMinSizeCache && (_hasOverflowCache.c || _bodyMinSizeCache.c)) {\r\n                        //its possible that no min size was measured until now, because the content arrange element was just added now, in this case, measure now the min size.\r\n                        if (!_bodyMinSizeCache.f)\r\n                            bodyMinSizeChanged();\r\n                        if (_nativeScrollbarIsOverlaid.y && _hasOverflowCache.x)\r\n                            _contentElement.css(_strMinMinus + _strWidth, _bodyMinSizeCache.w + _overlayScrollbarDummySize.y);\r\n                        if (_nativeScrollbarIsOverlaid.x && _hasOverflowCache.y)\r\n                            _contentElement.css(_strMinMinus + _strHeight, _bodyMinSizeCache.h + _overlayScrollbarDummySize.x);\r\n                        _bodyMinSizeCache.c = false;\r\n                    }\r\n\r\n                    if (_initialized && changedOptions.updateOnLoad) {\r\n                        updateElementsOnLoad();\r\n                    }\r\n\r\n                    //freezeResizeObserver(_sizeObserverElement, false);\r\n                    //freezeResizeObserver(_sizeAutoObserverElement, false);\r\n\r\n                    dispatchCallback('onUpdated', { forced: force });\r\n                }\r\n\r\n                /**\r\n                 * Updates the found elements of which the load event shall be handled.\r\n                 */\r\n                function updateElementsOnLoad() {\r\n                    if (!_isTextarea) {\r\n                        eachUpdateOnLoad(function (i, updateOnLoadSelector) {\r\n                            _contentElement.find(updateOnLoadSelector).each(function (i, el) {\r\n                                // if element doesn't have a updateOnLoadCallback applied\r\n                                if (COMPATIBILITY.inA(el, _updateOnLoadElms) < 0) {\r\n                                    _updateOnLoadElms.push(el);\r\n                                    FRAMEWORK(el)\r\n                                        .off(_updateOnLoadEventName, updateOnLoadCallback)\r\n                                        .on(_updateOnLoadEventName, updateOnLoadCallback);\r\n                                }\r\n                            });\r\n                        });\r\n                    }\r\n                }\r\n\r\n                //==== Options ====//\r\n\r\n                /**\r\n                 * Sets new options but doesn't call the update method.\r\n                 * @param newOptions The object which contains the new options.\r\n                 * @returns {*} A object which contains the changed options.\r\n                 */\r\n                function setOptions(newOptions) {\r\n                    var validatedOpts = _pluginsOptions._validate(newOptions, _pluginsOptions._template, true, _currentOptions)\r\n\r\n                    _currentOptions = extendDeep({}, _currentOptions, validatedOpts._default);\r\n                    _currentPreparedOptions = extendDeep({}, _currentPreparedOptions, validatedOpts._prepared);\r\n\r\n                    return validatedOpts._prepared;\r\n                }\r\n\r\n\r\n                //==== Structure ====//\r\n\r\n                /**\r\n                 * Builds or destroys the wrapper and helper DOM elements.\r\n                 * @param destroy Indicates whether the DOM shall be build or destroyed.\r\n                 */\r\n                /**\r\n                 * Builds or destroys the wrapper and helper DOM elements.\r\n                 * @param destroy Indicates whether the DOM shall be build or destroyed.\r\n                 */\r\n                function setupStructureDOM(destroy) {\r\n                    var strParent = 'parent';\r\n                    var classNameResizeObserverHost = 'os-resize-observer-host';\r\n                    var classNameTextareaElementFull = _classNameTextareaElement + _strSpace + _classNameTextInherit;\r\n                    var textareaClass = _isTextarea ? _strSpace + _classNameTextInherit : _strEmpty;\r\n                    var adoptAttrs = _currentPreparedOptions.textarea.inheritedAttrs;\r\n                    var adoptAttrsMap = {};\r\n                    var applyAdoptedAttrs = function () {\r\n                        var applyAdoptedAttrsElm = destroy ? _targetElement : _hostElement;\r\n                        each(adoptAttrsMap, function (key, value) {\r\n                            if (type(value) == TYPES.s) {\r\n                                if (key == LEXICON.c)\r\n                                    applyAdoptedAttrsElm.addClass(value);\r\n                                else\r\n                                    applyAdoptedAttrsElm.attr(key, value);\r\n                            }\r\n                        });\r\n                    };\r\n                    var hostElementClassNames = [\r\n                        _classNameHostElement,\r\n                        _classNameHostElementForeign,\r\n                        _classNameHostTextareaElement,\r\n                        _classNameHostResizeDisabled,\r\n                        _classNameHostRTL,\r\n                        _classNameHostScrollbarHorizontalHidden,\r\n                        _classNameHostScrollbarVerticalHidden,\r\n                        _classNameHostTransition,\r\n                        _classNameHostScrolling,\r\n                        _classNameHostOverflow,\r\n                        _classNameHostOverflowX,\r\n                        _classNameHostOverflowY,\r\n                        _classNameThemeNone,\r\n                        _classNameTextareaElement,\r\n                        _classNameTextInherit,\r\n                        _classNameCache].join(_strSpace);\r\n                    var hostElementCSS = {};\r\n\r\n                    //get host element as first element, because that's the most upper element and required for the other elements\r\n                    _hostElement = _hostElement || (_isTextarea ? (_domExists ? _targetElement[strParent]()[strParent]()[strParent]()[strParent]() : FRAMEWORK(generateDiv(_classNameHostTextareaElement))) : _targetElement);\r\n                    _contentElement = _contentElement || selectOrGenerateDivByClass(_classNameContentElement + textareaClass);\r\n                    _viewportElement = _viewportElement || selectOrGenerateDivByClass(_classNameViewportElement + textareaClass);\r\n                    _paddingElement = _paddingElement || selectOrGenerateDivByClass(_classNamePaddingElement + textareaClass);\r\n                    _sizeObserverElement = _sizeObserverElement || selectOrGenerateDivByClass(classNameResizeObserverHost);\r\n                    _textareaCoverElement = _textareaCoverElement || (_isTextarea ? selectOrGenerateDivByClass(_classNameTextareaCoverElement) : undefined);\r\n\r\n                    //add this class to workaround class changing issues with UI frameworks especially Vue\r\n                    if (_domExists)\r\n                        addClass(_hostElement, _classNameHostElementForeign);\r\n\r\n                    //on destroy, remove all generated class names from the host element before collecting the adopted attributes \r\n                    //to prevent adopting generated class names\r\n                    if (destroy)\r\n                        removeClass(_hostElement, hostElementClassNames);\r\n\r\n                    //collect all adopted attributes\r\n                    adoptAttrs = type(adoptAttrs) == TYPES.s ? adoptAttrs.split(_strSpace) : adoptAttrs;\r\n                    if (COMPATIBILITY.isA(adoptAttrs) && _isTextarea) {\r\n                        each(adoptAttrs, function (i, v) {\r\n                            if (type(v) == TYPES.s) {\r\n                                adoptAttrsMap[v] = destroy ? _hostElement.attr(v) : _targetElement.attr(v);\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                    if (!destroy) {\r\n                        if (_isTextarea) {\r\n                            if (!_currentPreparedOptions.sizeAutoCapable) {\r\n                                hostElementCSS[_strWidth] = _targetElement.css(_strWidth);\r\n                                hostElementCSS[_strHeight] = _targetElement.css(_strHeight);\r\n                            }\r\n\r\n                            if (!_domExists)\r\n                                _targetElement.addClass(_classNameTextInherit).wrap(_hostElement);\r\n\r\n                            //jQuery clones elements in wrap functions, so we have to select them again\r\n                            _hostElement = _targetElement[strParent]().css(hostElementCSS);\r\n                        }\r\n\r\n                        if (!_domExists) {\r\n                            //add the correct class to the target element\r\n                            addClass(_targetElement, _isTextarea ? classNameTextareaElementFull : _classNameHostElement);\r\n\r\n                            //wrap the content into the generated elements to create the required DOM\r\n                            _hostElement.wrapInner(_contentElement)\r\n                                .wrapInner(_viewportElement)\r\n                                .wrapInner(_paddingElement)\r\n                                .prepend(_sizeObserverElement);\r\n\r\n                            //jQuery clones elements in wrap functions, so we have to select them again\r\n                            _contentElement = findFirst(_hostElement, _strDot + _classNameContentElement);\r\n                            _viewportElement = findFirst(_hostElement, _strDot + _classNameViewportElement);\r\n                            _paddingElement = findFirst(_hostElement, _strDot + _classNamePaddingElement);\r\n\r\n                            if (_isTextarea) {\r\n                                _contentElement.prepend(_textareaCoverElement);\r\n                                applyAdoptedAttrs();\r\n                            }\r\n                        }\r\n\r\n                        if (_nativeScrollbarStyling)\r\n                            addClass(_viewportElement, _classNameViewportNativeScrollbarsInvisible);\r\n                        if (_nativeScrollbarIsOverlaid.x && _nativeScrollbarIsOverlaid.y)\r\n                            addClass(_viewportElement, _classNameViewportNativeScrollbarsOverlaid);\r\n                        if (_isBody)\r\n                            addClass(_htmlElement, _classNameHTMLElement);\r\n\r\n                        _sizeObserverElementNative = _sizeObserverElement[0];\r\n                        _hostElementNative = _hostElement[0];\r\n                        _paddingElementNative = _paddingElement[0];\r\n                        _viewportElementNative = _viewportElement[0];\r\n                        _contentElementNative = _contentElement[0];\r\n\r\n                        updateViewportAttrsFromTarget();\r\n                    }\r\n                    else {\r\n                        if (_domExists && _initialized) {\r\n                            //clear size observer\r\n                            _sizeObserverElement.children().remove();\r\n\r\n                            //remove the style property and classes from already generated elements\r\n                            each([_paddingElement, _viewportElement, _contentElement, _textareaCoverElement], function (i, elm) {\r\n                                if (elm) {\r\n                                    removeClass(elm.removeAttr(LEXICON.s), _classNamesDynamicDestroy);\r\n                                }\r\n                            });\r\n\r\n                            //add classes to the host element which was removed previously to match the expected DOM\r\n                            addClass(_hostElement, _isTextarea ? _classNameHostTextareaElement : _classNameHostElement);\r\n                        }\r\n                        else {\r\n                            //remove size observer\r\n                            remove(_sizeObserverElement);\r\n\r\n                            //unwrap the content to restore DOM\r\n                            _contentElement.contents()\r\n                                .unwrap()\r\n                                .unwrap()\r\n                                .unwrap();\r\n\r\n                            if (_isTextarea) {\r\n                                _targetElement.unwrap();\r\n                                remove(_hostElement);\r\n                                remove(_textareaCoverElement);\r\n                                applyAdoptedAttrs();\r\n                            }\r\n                        }\r\n\r\n                        if (_isTextarea)\r\n                            _targetElement.removeAttr(LEXICON.s);\r\n\r\n                        if (_isBody)\r\n                            removeClass(_htmlElement, _classNameHTMLElement);\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * Adds or removes all wrapper elements interactivity events.\r\n                 * @param destroy Indicates whether the Events shall be added or removed.\r\n                 */\r\n                function setupStructureEvents() {\r\n                    var textareaKeyDownRestrictedKeyCodes = [\r\n                        112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 123,    //F1 to F12\r\n                        33, 34,                                                   //page up, page down\r\n                        37, 38, 39, 40,                                           //left, up, right, down arrows\r\n                        16, 17, 18, 19, 20, 144                                   //Shift, Ctrl, Alt, Pause, CapsLock, NumLock\r\n                    ];\r\n                    var textareaKeyDownKeyCodesList = [];\r\n                    var textareaUpdateIntervalID;\r\n                    var scrollStopTimeoutId;\r\n                    var scrollStopDelay = 175;\r\n                    var strFocus = 'focus';\r\n\r\n                    function updateTextarea(doClearInterval) {\r\n                        textareaUpdate();\r\n                        _base.update(_strAuto);\r\n                        if (doClearInterval && _autoUpdateRecommended)\r\n                            clearInterval(textareaUpdateIntervalID);\r\n                    }\r\n                    function textareaOnScroll(event) {\r\n                        _targetElement[_strScrollLeft](_rtlScrollBehavior.i && _normalizeRTLCache ? 9999999 : 0);\r\n                        _targetElement[_strScrollTop](0);\r\n                        COMPATIBILITY.prvD(event);\r\n                        COMPATIBILITY.stpP(event);\r\n                        return false;\r\n                    }\r\n                    function textareaOnDrop(event) {\r\n                        setTimeout(function () {\r\n                            if (!_destroyed)\r\n                                updateTextarea();\r\n                        }, 50);\r\n                    }\r\n                    function textareaOnFocus() {\r\n                        _textareaHasFocus = true;\r\n                        addClass(_hostElement, strFocus);\r\n                    }\r\n                    function textareaOnFocusout() {\r\n                        _textareaHasFocus = false;\r\n                        textareaKeyDownKeyCodesList = [];\r\n                        removeClass(_hostElement, strFocus);\r\n                        updateTextarea(true);\r\n                    }\r\n                    function textareaOnKeyDown(event) {\r\n                        var keyCode = event.keyCode;\r\n\r\n                        if (inArray(keyCode, textareaKeyDownRestrictedKeyCodes) < 0) {\r\n                            if (!textareaKeyDownKeyCodesList[LEXICON.l]) {\r\n                                updateTextarea();\r\n                                textareaUpdateIntervalID = setInterval(updateTextarea, 1000 / 60);\r\n                            }\r\n                            if (inArray(keyCode, textareaKeyDownKeyCodesList) < 0)\r\n                                textareaKeyDownKeyCodesList.push(keyCode);\r\n                        }\r\n                    }\r\n                    function textareaOnKeyUp(event) {\r\n                        var keyCode = event.keyCode;\r\n                        var index = inArray(keyCode, textareaKeyDownKeyCodesList);\r\n\r\n                        if (inArray(keyCode, textareaKeyDownRestrictedKeyCodes) < 0) {\r\n                            if (index > -1)\r\n                                textareaKeyDownKeyCodesList.splice(index, 1);\r\n                            if (!textareaKeyDownKeyCodesList[LEXICON.l])\r\n                                updateTextarea(true);\r\n                        }\r\n                    }\r\n                    function contentOnTransitionEnd(event) {\r\n                        if (_autoUpdateCache === true)\r\n                            return;\r\n                        event = event.originalEvent || event;\r\n                        if (isSizeAffectingCSSProperty(event.propertyName))\r\n                            _base.update(_strAuto);\r\n                    }\r\n                    function viewportOnScroll(event) {\r\n                        if (!_sleeping) {\r\n                            if (scrollStopTimeoutId !== undefined)\r\n                                clearTimeout(scrollStopTimeoutId);\r\n                            else {\r\n                                if (_scrollbarsAutoHideScroll || _scrollbarsAutoHideMove)\r\n                                    refreshScrollbarsAutoHide(true);\r\n\r\n                                if (!nativeOverlayScrollbarsAreActive())\r\n                                    addClass(_hostElement, _classNameHostScrolling);\r\n\r\n                                dispatchCallback('onScrollStart', event);\r\n                            }\r\n\r\n                            //if a scrollbars handle gets dragged, the mousemove event is responsible for refreshing the handle offset\r\n                            //because if CSS scroll-snap is used, the handle offset gets only refreshed on every snap point\r\n                            //this looks laggy & clunky, it looks much better if the offset refreshes with the mousemove\r\n                            if (!_scrollbarsHandlesDefineScrollPos) {\r\n                                refreshScrollbarHandleOffset(true);\r\n                                refreshScrollbarHandleOffset(false);\r\n                            }\r\n                            dispatchCallback('onScroll', event);\r\n\r\n                            scrollStopTimeoutId = setTimeout(function () {\r\n                                if (!_destroyed) {\r\n                                    //OnScrollStop:\r\n                                    clearTimeout(scrollStopTimeoutId);\r\n                                    scrollStopTimeoutId = undefined;\r\n\r\n                                    if (_scrollbarsAutoHideScroll || _scrollbarsAutoHideMove)\r\n                                        refreshScrollbarsAutoHide(false);\r\n\r\n                                    if (!nativeOverlayScrollbarsAreActive())\r\n                                        removeClass(_hostElement, _classNameHostScrolling);\r\n\r\n                                    dispatchCallback('onScrollStop', event);\r\n                                }\r\n                            }, scrollStopDelay);\r\n                        }\r\n                    }\r\n\r\n\r\n                    if (_isTextarea) {\r\n                        if (_msieVersion > 9 || !_autoUpdateRecommended) {\r\n                            addDestroyEventListener(_targetElement, 'input', updateTextarea);\r\n                        }\r\n                        else {\r\n                            addDestroyEventListener(_targetElement,\r\n                                [_strKeyDownEvent, _strKeyUpEvent],\r\n                                [textareaOnKeyDown, textareaOnKeyUp]);\r\n                        }\r\n\r\n                        addDestroyEventListener(_targetElement,\r\n                            [_strScroll, 'drop', strFocus, strFocus + 'out'],\r\n                            [textareaOnScroll, textareaOnDrop, textareaOnFocus, textareaOnFocusout]);\r\n                    }\r\n                    else {\r\n                        addDestroyEventListener(_contentElement, _strTransitionEndEvent, contentOnTransitionEnd);\r\n                    }\r\n                    addDestroyEventListener(_viewportElement, _strScroll, viewportOnScroll, true);\r\n                }\r\n\r\n\r\n                //==== Scrollbars ====//\r\n\r\n                /**\r\n                 * Builds or destroys all scrollbar DOM elements (scrollbar, track, handle)\r\n                 * @param destroy Indicates whether the DOM shall be build or destroyed.\r\n                 */\r\n                function setupScrollbarsDOM(destroy) {\r\n                    var selectOrGenerateScrollbarDOM = function (isHorizontal) {\r\n                        var scrollbarClassName = isHorizontal ? _classNameScrollbarHorizontal : _classNameScrollbarVertical;\r\n                        var scrollbar = selectOrGenerateDivByClass(_classNameScrollbar + _strSpace + scrollbarClassName, true);\r\n                        var track = selectOrGenerateDivByClass(_classNameScrollbarTrack, scrollbar);\r\n                        var handle = selectOrGenerateDivByClass(_classNameScrollbarHandle, scrollbar);\r\n\r\n                        if (!_domExists && !destroy) {\r\n                            scrollbar.append(track);\r\n                            track.append(handle);\r\n                        }\r\n\r\n                        return {\r\n                            _scrollbar: scrollbar,\r\n                            _track: track,\r\n                            _handle: handle\r\n                        };\r\n                    };\r\n                    function resetScrollbarDOM(isHorizontal) {\r\n                        var scrollbarVars = getScrollbarVars(isHorizontal);\r\n                        var scrollbar = scrollbarVars._scrollbar;\r\n                        var track = scrollbarVars._track;\r\n                        var handle = scrollbarVars._handle;\r\n\r\n                        if (_domExists && _initialized) {\r\n                            each([scrollbar, track, handle], function (i, elm) {\r\n                                removeClass(elm.removeAttr(LEXICON.s), _classNamesDynamicDestroy);\r\n                            });\r\n                        }\r\n                        else {\r\n                            remove(scrollbar || selectOrGenerateScrollbarDOM(isHorizontal)._scrollbar);\r\n                        }\r\n                    }\r\n                    var horizontalElements;\r\n                    var verticalElements;\r\n\r\n                    if (!destroy) {\r\n                        horizontalElements = selectOrGenerateScrollbarDOM(true);\r\n                        verticalElements = selectOrGenerateScrollbarDOM();\r\n\r\n                        _scrollbarHorizontalElement = horizontalElements._scrollbar;\r\n                        _scrollbarHorizontalTrackElement = horizontalElements._track;\r\n                        _scrollbarHorizontalHandleElement = horizontalElements._handle;\r\n                        _scrollbarVerticalElement = verticalElements._scrollbar;\r\n                        _scrollbarVerticalTrackElement = verticalElements._track;\r\n                        _scrollbarVerticalHandleElement = verticalElements._handle;\r\n\r\n                        if (!_domExists) {\r\n                            _paddingElement.after(_scrollbarVerticalElement);\r\n                            _paddingElement.after(_scrollbarHorizontalElement);\r\n                        }\r\n                    }\r\n                    else {\r\n                        resetScrollbarDOM(true);\r\n                        resetScrollbarDOM();\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * Initializes all scrollbar interactivity events. (track and handle dragging, clicking, scrolling)\r\n                 * @param isHorizontal True if the target scrollbar is the horizontal scrollbar, false if the target scrollbar is the vertical scrollbar.\r\n                 */\r\n                function setupScrollbarEvents(isHorizontal) {\r\n                    var scrollbarVars = getScrollbarVars(isHorizontal);\r\n                    var scrollbarVarsInfo = scrollbarVars._info;\r\n                    var insideIFrame = _windowElementNative.top !== _windowElementNative;\r\n                    var xy = scrollbarVars._x_y;\r\n                    var XY = scrollbarVars._X_Y;\r\n                    var scroll = _strScroll + scrollbarVars._Left_Top;\r\n                    var strActive = 'active';\r\n                    var strSnapHandle = 'snapHandle';\r\n                    var strClickEvent = 'click';\r\n                    var scrollDurationFactor = 1;\r\n                    var increaseDecreaseScrollAmountKeyCodes = [16, 17]; //shift, ctrl\r\n                    var trackTimeout;\r\n                    var mouseDownScroll;\r\n                    var mouseDownOffset;\r\n                    var mouseDownInvertedScale;\r\n\r\n                    function getPointerPosition(event) {\r\n                        return _msieVersion && insideIFrame ? event['screen' + XY] : COMPATIBILITY.page(event)[xy]; //use screen coordinates in EDGE & IE because the page values are incorrect in frames.\r\n                    }\r\n                    function getPreparedScrollbarsOption(name) {\r\n                        return _currentPreparedOptions.scrollbars[name];\r\n                    }\r\n                    function increaseTrackScrollAmount() {\r\n                        scrollDurationFactor = 0.5;\r\n                    }\r\n                    function decreaseTrackScrollAmount() {\r\n                        scrollDurationFactor = 1;\r\n                    }\r\n                    function stopClickEventPropagation(event) {\r\n                        COMPATIBILITY.stpP(event);\r\n                    }\r\n                    function documentKeyDown(event) {\r\n                        if (inArray(event.keyCode, increaseDecreaseScrollAmountKeyCodes) > -1)\r\n                            increaseTrackScrollAmount();\r\n                    }\r\n                    function documentKeyUp(event) {\r\n                        if (inArray(event.keyCode, increaseDecreaseScrollAmountKeyCodes) > -1)\r\n                            decreaseTrackScrollAmount();\r\n                    }\r\n                    function onMouseTouchDownContinue(event) {\r\n                        var originalEvent = event.originalEvent || event;\r\n                        var isTouchEvent = originalEvent.touches !== undefined;\r\n                        return _sleeping || _destroyed || nativeOverlayScrollbarsAreActive() || !_scrollbarsDragScrollingCache || (isTouchEvent && !getPreparedScrollbarsOption('touchSupport')) ? false : COMPATIBILITY.mBtn(event) === 1 || isTouchEvent;\r\n                    }\r\n                    function documentDragMove(event) {\r\n                        if (onMouseTouchDownContinue(event)) {\r\n                            var trackLength = scrollbarVarsInfo._trackLength;\r\n                            var handleLength = scrollbarVarsInfo._handleLength;\r\n                            var scrollRange = scrollbarVarsInfo._maxScroll;\r\n                            var scrollRaw = (getPointerPosition(event) - mouseDownOffset) * mouseDownInvertedScale;\r\n                            var scrollDeltaPercent = scrollRaw / (trackLength - handleLength);\r\n                            var scrollDelta = (scrollRange * scrollDeltaPercent);\r\n                            scrollDelta = isFinite(scrollDelta) ? scrollDelta : 0;\r\n                            if (_isRTL && isHorizontal && !_rtlScrollBehavior.i)\r\n                                scrollDelta *= -1;\r\n\r\n                            _viewportElement[scroll](MATH.round(mouseDownScroll + scrollDelta));\r\n\r\n                            if (_scrollbarsHandlesDefineScrollPos)\r\n                                refreshScrollbarHandleOffset(isHorizontal, mouseDownScroll + scrollDelta);\r\n\r\n                            if (!_supportPassiveEvents)\r\n                                COMPATIBILITY.prvD(event);\r\n                        }\r\n                        else\r\n                            documentMouseTouchUp(event);\r\n                    }\r\n                    function documentMouseTouchUp(event) {\r\n                        event = event || event.originalEvent;\r\n\r\n                        setupResponsiveEventListener(_documentElement,\r\n                            [_strMouseTouchMoveEvent, _strMouseTouchUpEvent, _strKeyDownEvent, _strKeyUpEvent, _strSelectStartEvent],\r\n                            [documentDragMove, documentMouseTouchUp, documentKeyDown, documentKeyUp, documentOnSelectStart],\r\n                            true);\r\n                        COMPATIBILITY.rAF()(function() {\r\n                            setupResponsiveEventListener(_documentElement, strClickEvent, stopClickEventPropagation, true, { _capture: true });\r\n                        });\r\n                        \r\n                            \r\n                        if (_scrollbarsHandlesDefineScrollPos)\r\n                            refreshScrollbarHandleOffset(isHorizontal, true);\r\n\r\n                        _scrollbarsHandlesDefineScrollPos = false;\r\n                        removeClass(_bodyElement, _classNameDragging);\r\n                        removeClass(scrollbarVars._handle, strActive);\r\n                        removeClass(scrollbarVars._track, strActive);\r\n                        removeClass(scrollbarVars._scrollbar, strActive);\r\n\r\n                        mouseDownScroll = undefined;\r\n                        mouseDownOffset = undefined;\r\n                        mouseDownInvertedScale = 1;\r\n\r\n                        decreaseTrackScrollAmount();\r\n\r\n                        if (trackTimeout !== undefined) {\r\n                            _base.scrollStop();\r\n                            clearTimeout(trackTimeout);\r\n                            trackTimeout = undefined;\r\n                        }\r\n\r\n                        if (event) {\r\n                            var rect = _hostElementNative[LEXICON.bCR]();\r\n                            var mouseInsideHost = event.clientX >= rect.left && event.clientX <= rect.right && event.clientY >= rect.top && event.clientY <= rect.bottom;\r\n\r\n                            //if mouse is outside host element\r\n                            if (!mouseInsideHost)\r\n                                hostOnMouseLeave();\r\n\r\n                            if (_scrollbarsAutoHideScroll || _scrollbarsAutoHideMove)\r\n                                refreshScrollbarsAutoHide(false);\r\n                        }\r\n                    }\r\n                    function onHandleMouseTouchDown(event) {\r\n                        if (onMouseTouchDownContinue(event))\r\n                            onHandleMouseTouchDownAction(event);\r\n                    }\r\n                    function onHandleMouseTouchDownAction(event) {\r\n                        mouseDownScroll = _viewportElement[scroll]();\r\n                        mouseDownScroll = isNaN(mouseDownScroll) ? 0 : mouseDownScroll;\r\n                        if (_isRTL && isHorizontal && !_rtlScrollBehavior.n || !_isRTL)\r\n                            mouseDownScroll = mouseDownScroll < 0 ? 0 : mouseDownScroll;\r\n\r\n                        mouseDownInvertedScale = getHostElementInvertedScale()[xy];\r\n                        mouseDownOffset = getPointerPosition(event);\r\n\r\n                        _scrollbarsHandlesDefineScrollPos = !getPreparedScrollbarsOption(strSnapHandle);\r\n                        addClass(_bodyElement, _classNameDragging);\r\n                        addClass(scrollbarVars._handle, strActive);\r\n                        addClass(scrollbarVars._scrollbar, strActive);\r\n\r\n                        setupResponsiveEventListener(_documentElement,\r\n                            [_strMouseTouchMoveEvent, _strMouseTouchUpEvent, _strSelectStartEvent],\r\n                            [documentDragMove, documentMouseTouchUp, documentOnSelectStart]);\r\n                        COMPATIBILITY.rAF()(function() {\r\n                            setupResponsiveEventListener(_documentElement, strClickEvent, stopClickEventPropagation, false, { _capture: true });\r\n                        });\r\n                        \r\n\r\n                        if (_msieVersion || !_documentMixed)\r\n                            COMPATIBILITY.prvD(event);\r\n                        COMPATIBILITY.stpP(event);\r\n                    }\r\n                    function onTrackMouseTouchDown(event) {\r\n                        if (onMouseTouchDownContinue(event)) {\r\n                            var handleToViewportRatio = scrollbarVars._info._handleLength / Math.round(MATH.min(1, _viewportSize[scrollbarVars._w_h] / _contentScrollSizeCache[scrollbarVars._w_h]) * scrollbarVars._info._trackLength);\r\n                            var scrollDistance = MATH.round(_viewportSize[scrollbarVars._w_h] * handleToViewportRatio);\r\n                            var scrollBaseDuration = 270 * handleToViewportRatio;\r\n                            var scrollFirstIterationDelay = 400 * handleToViewportRatio;\r\n                            var trackOffset = scrollbarVars._track.offset()[scrollbarVars._left_top];\r\n                            var ctrlKey = event.ctrlKey;\r\n                            var instantScroll = event.shiftKey;\r\n                            var instantScrollTransition = instantScroll && ctrlKey;\r\n                            var isFirstIteration = true;\r\n                            var easing = 'linear';\r\n                            var decreaseScroll;\r\n                            var finishedCondition;\r\n                            var scrollActionFinsished = function (transition) {\r\n                                if (_scrollbarsHandlesDefineScrollPos)\r\n                                    refreshScrollbarHandleOffset(isHorizontal, transition);\r\n                            };\r\n                            var scrollActionInstantFinished = function () {\r\n                                scrollActionFinsished();\r\n                                onHandleMouseTouchDownAction(event);\r\n                            };\r\n                            var scrollAction = function () {\r\n                                if (!_destroyed) {\r\n                                    var mouseOffset = (mouseDownOffset - trackOffset) * mouseDownInvertedScale;\r\n                                    var handleOffset = scrollbarVarsInfo._handleOffset;\r\n                                    var trackLength = scrollbarVarsInfo._trackLength;\r\n                                    var handleLength = scrollbarVarsInfo._handleLength;\r\n                                    var scrollRange = scrollbarVarsInfo._maxScroll;\r\n                                    var currScroll = scrollbarVarsInfo._currentScroll;\r\n                                    var scrollDuration = scrollBaseDuration * scrollDurationFactor;\r\n                                    var timeoutDelay = isFirstIteration ? MATH.max(scrollFirstIterationDelay, scrollDuration) : scrollDuration;\r\n                                    var instantScrollPosition = scrollRange * ((mouseOffset - (handleLength / 2)) / (trackLength - handleLength)); // 100% * positionPercent\r\n                                    var rtlIsNormal = _isRTL && isHorizontal && ((!_rtlScrollBehavior.i && !_rtlScrollBehavior.n) || _normalizeRTLCache);\r\n                                    var decreaseScrollCondition = rtlIsNormal ? handleOffset < mouseOffset : handleOffset > mouseOffset;\r\n                                    var scrollObj = {};\r\n                                    var animationObj = {\r\n                                        easing: easing,\r\n                                        step: function (now) {\r\n                                            if (_scrollbarsHandlesDefineScrollPos) {\r\n                                                _viewportElement[scroll](now); //https://github.com/jquery/jquery/issues/4340\r\n                                                refreshScrollbarHandleOffset(isHorizontal, now);\r\n                                            }\r\n                                        }\r\n                                    };\r\n                                    instantScrollPosition = isFinite(instantScrollPosition) ? instantScrollPosition : 0;\r\n                                    instantScrollPosition = _isRTL && isHorizontal && !_rtlScrollBehavior.i ? (scrollRange - instantScrollPosition) : instantScrollPosition;\r\n\r\n                                    //_base.scrollStop();\r\n\r\n                                    if (instantScroll) {\r\n                                        _viewportElement[scroll](instantScrollPosition); //scroll instantly to new position\r\n                                        if (instantScrollTransition) {\r\n                                            //get the scroll position after instant scroll (in case CSS Snap Points are used) to get the correct snapped scroll position\r\n                                            //and the animation stops at the correct point\r\n                                            instantScrollPosition = _viewportElement[scroll]();\r\n                                            //scroll back to the position before instant scrolling so animation can be performed\r\n                                            _viewportElement[scroll](currScroll);\r\n\r\n                                            instantScrollPosition = rtlIsNormal && _rtlScrollBehavior.i ? (scrollRange - instantScrollPosition) : instantScrollPosition;\r\n                                            instantScrollPosition = rtlIsNormal && _rtlScrollBehavior.n ? -instantScrollPosition : instantScrollPosition;\r\n\r\n                                            scrollObj[xy] = instantScrollPosition;\r\n                                            _base.scroll(scrollObj, extendDeep(animationObj, {\r\n                                                duration: 130,\r\n                                                complete: scrollActionInstantFinished\r\n                                            }));\r\n                                        }\r\n                                        else\r\n                                            scrollActionInstantFinished();\r\n                                    }\r\n                                    else {\r\n                                        decreaseScroll = isFirstIteration ? decreaseScrollCondition : decreaseScroll;\r\n                                        finishedCondition = rtlIsNormal\r\n                                            ? (decreaseScroll ? handleOffset + handleLength >= mouseOffset : handleOffset <= mouseOffset)\r\n                                            : (decreaseScroll ? handleOffset <= mouseOffset : handleOffset + handleLength >= mouseOffset);\r\n\r\n                                        if (finishedCondition) {\r\n                                            clearTimeout(trackTimeout);\r\n                                            _base.scrollStop();\r\n                                            trackTimeout = undefined;\r\n                                            scrollActionFinsished(true);\r\n                                        }\r\n                                        else {\r\n                                            trackTimeout = setTimeout(scrollAction, timeoutDelay);\r\n\r\n                                            scrollObj[xy] = (decreaseScroll ? '-=' : '+=') + scrollDistance;\r\n                                            _base.scroll(scrollObj, extendDeep(animationObj, {\r\n                                                duration: scrollDuration\r\n                                            }));\r\n                                        }\r\n                                        isFirstIteration = false;\r\n                                    }\r\n                                }\r\n                            };\r\n                            if (ctrlKey)\r\n                                increaseTrackScrollAmount();\r\n\r\n                            mouseDownInvertedScale = getHostElementInvertedScale()[xy];\r\n                            mouseDownOffset = COMPATIBILITY.page(event)[xy];\r\n\r\n                            _scrollbarsHandlesDefineScrollPos = !getPreparedScrollbarsOption(strSnapHandle);\r\n                            addClass(_bodyElement, _classNameDragging);\r\n                            addClass(scrollbarVars._track, strActive);\r\n                            addClass(scrollbarVars._scrollbar, strActive);\r\n\r\n                            setupResponsiveEventListener(_documentElement,\r\n                                [_strMouseTouchUpEvent, _strKeyDownEvent, _strKeyUpEvent, _strSelectStartEvent],\r\n                                [documentMouseTouchUp, documentKeyDown, documentKeyUp, documentOnSelectStart]);\r\n\r\n                            scrollAction();\r\n                            COMPATIBILITY.prvD(event);\r\n                            COMPATIBILITY.stpP(event);\r\n                        }\r\n                    }\r\n                    function onTrackMouseTouchEnter(event) {\r\n                        //make sure both scrollbars will stay visible if one scrollbar is hovered if autoHide is \"scroll\" or \"move\".\r\n                        _scrollbarsHandleHovered = true;\r\n                        if (_scrollbarsAutoHideScroll || _scrollbarsAutoHideMove)\r\n                            refreshScrollbarsAutoHide(true);\r\n                    }\r\n                    function onTrackMouseTouchLeave(event) {\r\n                        _scrollbarsHandleHovered = false;\r\n                        if (_scrollbarsAutoHideScroll || _scrollbarsAutoHideMove)\r\n                            refreshScrollbarsAutoHide(false);\r\n                    }\r\n                    function onScrollbarMouseTouchDown(event) {\r\n                        COMPATIBILITY.stpP(event);\r\n                    }\r\n\r\n                    addDestroyEventListener(scrollbarVars._handle,\r\n                        _strMouseTouchDownEvent,\r\n                        onHandleMouseTouchDown);\r\n                    addDestroyEventListener(scrollbarVars._track,\r\n                        [_strMouseTouchDownEvent, _strMouseEnter, _strMouseLeave],\r\n                        [onTrackMouseTouchDown, onTrackMouseTouchEnter, onTrackMouseTouchLeave]);\r\n                    addDestroyEventListener(scrollbarVars._scrollbar,\r\n                        _strMouseTouchDownEvent,\r\n                        onScrollbarMouseTouchDown);\r\n\r\n                    if (_supportTransition) {\r\n                        addDestroyEventListener(scrollbarVars._scrollbar, _strTransitionEndEvent, function (event) {\r\n                            if (event.target !== scrollbarVars._scrollbar[0])\r\n                                return;\r\n                            refreshScrollbarHandleLength(isHorizontal);\r\n                            refreshScrollbarHandleOffset(isHorizontal);\r\n                        });\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * Shows or hides the given scrollbar and applied a class name which indicates if the scrollbar is scrollable or not.\r\n                 * @param isHorizontal True if the horizontal scrollbar is the target, false if the vertical scrollbar is the target.\r\n                 * @param shallBeVisible True if the scrollbar shall be shown, false if hidden.\r\n                 * @param canScroll True if the scrollbar is scrollable, false otherwise.\r\n                 */\r\n                function refreshScrollbarAppearance(isHorizontal, shallBeVisible, canScroll) {\r\n                    var scrollbarHiddenClassName = isHorizontal ? _classNameHostScrollbarHorizontalHidden : _classNameHostScrollbarVerticalHidden;\r\n                    var scrollbarElement = isHorizontal ? _scrollbarHorizontalElement : _scrollbarVerticalElement;\r\n\r\n                    addRemoveClass(_hostElement, scrollbarHiddenClassName, !shallBeVisible);\r\n                    addRemoveClass(scrollbarElement, _classNameScrollbarUnusable, !canScroll);\r\n                }\r\n\r\n                /**\r\n                 * Autoshows / autohides both scrollbars with.\r\n                 * @param shallBeVisible True if the scrollbars shall be autoshown (only the case if they are hidden by a autohide), false if the shall be auto hidden.\r\n                 * @param delayfree True if the scrollbars shall be hidden without a delay, false or undefined otherwise.\r\n                 */\r\n                function refreshScrollbarsAutoHide(shallBeVisible, delayfree) {\r\n                    clearTimeout(_scrollbarsAutoHideTimeoutId);\r\n                    if (shallBeVisible) {\r\n                        //if(_hasOverflowCache.x && _hideOverflowCache.xs)\r\n                        removeClass(_scrollbarHorizontalElement, _classNameScrollbarAutoHidden);\r\n                        //if(_hasOverflowCache.y && _hideOverflowCache.ys)\r\n                        removeClass(_scrollbarVerticalElement, _classNameScrollbarAutoHidden);\r\n                    }\r\n                    else {\r\n                        var anyActive;\r\n                        var strActive = 'active';\r\n                        var hide = function () {\r\n                            if (!_scrollbarsHandleHovered && !_destroyed) {\r\n                                anyActive = _scrollbarHorizontalHandleElement.hasClass(strActive) || _scrollbarVerticalHandleElement.hasClass(strActive);\r\n                                if (!anyActive && (_scrollbarsAutoHideScroll || _scrollbarsAutoHideMove || _scrollbarsAutoHideLeave))\r\n                                    addClass(_scrollbarHorizontalElement, _classNameScrollbarAutoHidden);\r\n                                if (!anyActive && (_scrollbarsAutoHideScroll || _scrollbarsAutoHideMove || _scrollbarsAutoHideLeave))\r\n                                    addClass(_scrollbarVerticalElement, _classNameScrollbarAutoHidden);\r\n                            }\r\n                        };\r\n                        if (_scrollbarsAutoHideDelay > 0 && delayfree !== true)\r\n                            _scrollbarsAutoHideTimeoutId = setTimeout(hide, _scrollbarsAutoHideDelay);\r\n                        else\r\n                            hide();\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * Refreshes the handle length of the given scrollbar.\r\n                 * @param isHorizontal True if the horizontal scrollbar handle shall be refreshed, false if the vertical one shall be refreshed.\r\n                 */\r\n                function refreshScrollbarHandleLength(isHorizontal) {\r\n                    var handleCSS = {};\r\n                    var scrollbarVars = getScrollbarVars(isHorizontal);\r\n                    var scrollbarVarsInfo = scrollbarVars._info;\r\n                    var digit = 1000000;\r\n                    //get and apply intended handle length\r\n                    var handleRatio = MATH.min(1, _viewportSize[scrollbarVars._w_h] / _contentScrollSizeCache[scrollbarVars._w_h]);\r\n                    handleCSS[scrollbarVars._width_height] = (MATH.floor(handleRatio * 100 * digit) / digit) + '%'; //the last * digit / digit is for flooring to the 4th digit\r\n\r\n                    if (!nativeOverlayScrollbarsAreActive())\r\n                        scrollbarVars._handle.css(handleCSS);\r\n\r\n                    //measure the handle length to respect min & max length\r\n                    scrollbarVarsInfo._handleLength = scrollbarVars._handle[0]['offset' + scrollbarVars._Width_Height];\r\n                    scrollbarVarsInfo._handleLengthRatio = handleRatio;\r\n                }\r\n\r\n                /**\r\n                 * Refreshes the handle offset of the given scrollbar.\r\n                 * @param isHorizontal True if the horizontal scrollbar handle shall be refreshed, false if the vertical one shall be refreshed.\r\n                 * @param scrollOrTransition The scroll position of the given scrollbar axis to which the handle shall be moved or a boolean which indicates whether a transition shall be applied. If undefined or boolean if the current scroll-offset is taken. (if isHorizontal ? scrollLeft : scrollTop)\r\n                 */\r\n                function refreshScrollbarHandleOffset(isHorizontal, scrollOrTransition) {\r\n                    var transition = type(scrollOrTransition) == TYPES.b;\r\n                    var transitionDuration = 250;\r\n                    var isRTLisHorizontal = _isRTL && isHorizontal;\r\n                    var scrollbarVars = getScrollbarVars(isHorizontal);\r\n                    var scrollbarVarsInfo = scrollbarVars._info;\r\n                    var strTranslateBrace = 'translate(';\r\n                    var strTransform = VENDORS._cssProperty('transform');\r\n                    var strTransition = VENDORS._cssProperty('transition');\r\n                    var nativeScroll = isHorizontal ? _viewportElement[_strScrollLeft]() : _viewportElement[_strScrollTop]();\r\n                    var currentScroll = scrollOrTransition === undefined || transition ? nativeScroll : scrollOrTransition;\r\n\r\n                    //measure the handle length to respect min & max length\r\n                    var handleLength = scrollbarVarsInfo._handleLength;\r\n                    var trackLength = scrollbarVars._track[0]['offset' + scrollbarVars._Width_Height];\r\n                    var handleTrackDiff = trackLength - handleLength;\r\n                    var handleCSS = {};\r\n                    var transformOffset;\r\n                    var translateValue;\r\n\r\n                    //DONT use the variable '_contentScrollSizeCache[scrollbarVars._w_h]' instead of '_viewportElement[0]['scroll' + scrollbarVars._Width_Height]'\r\n                    // because its a bit behind during the small delay when content size updates\r\n                    //(delay = mutationObserverContentLag, if its 0 then this var could be used)\r\n                    var maxScroll = (_viewportElementNative[_strScroll + scrollbarVars._Width_Height] - _viewportElementNative['client' + scrollbarVars._Width_Height]) * (_rtlScrollBehavior.n && isRTLisHorizontal ? -1 : 1); //* -1 if rtl scroll max is negative\r\n                    var getScrollRatio = function (base) {\r\n                        return isNaN(base / maxScroll) ? 0 : MATH.max(0, MATH.min(1, base / maxScroll));\r\n                    };\r\n                    var getHandleOffset = function (scrollRatio) {\r\n                        var offset = handleTrackDiff * scrollRatio;\r\n                        offset = isNaN(offset) ? 0 : offset;\r\n                        offset = (isRTLisHorizontal && !_rtlScrollBehavior.i) ? (trackLength - handleLength - offset) : offset;\r\n                        offset = MATH.max(0, offset);\r\n                        return offset;\r\n                    };\r\n                    var scrollRatio = getScrollRatio(nativeScroll);\r\n                    var unsnappedScrollRatio = getScrollRatio(currentScroll);\r\n                    var handleOffset = getHandleOffset(unsnappedScrollRatio);\r\n                    var snappedHandleOffset = getHandleOffset(scrollRatio);\r\n\r\n                    scrollbarVarsInfo._maxScroll = maxScroll;\r\n                    scrollbarVarsInfo._currentScroll = nativeScroll;\r\n                    scrollbarVarsInfo._currentScrollRatio = scrollRatio;\r\n\r\n                    if (_supportTransform) {\r\n                        transformOffset = isRTLisHorizontal ? -(trackLength - handleLength - handleOffset) : handleOffset; //in px\r\n                        //transformOffset = (transformOffset / trackLength * 100) * (trackLength / handleLength); //in %\r\n                        translateValue = isHorizontal ? strTranslateBrace + transformOffset + 'px, 0)' : strTranslateBrace + '0, ' + transformOffset + 'px)';\r\n\r\n                        handleCSS[strTransform] = translateValue;\r\n\r\n                        //apply or clear up transition\r\n                        if (_supportTransition)\r\n                            handleCSS[strTransition] = transition && MATH.abs(handleOffset - scrollbarVarsInfo._handleOffset) > 1 ? getCSSTransitionString(scrollbarVars._handle) + ', ' + (strTransform + _strSpace + transitionDuration + 'ms') : _strEmpty;\r\n                    }\r\n                    else\r\n                        handleCSS[scrollbarVars._left_top] = handleOffset;\r\n\r\n\r\n                    //only apply css if offset has changed and overflow exists.\r\n                    if (!nativeOverlayScrollbarsAreActive()) {\r\n                        scrollbarVars._handle.css(handleCSS);\r\n\r\n                        //clear up transition\r\n                        if (_supportTransform && _supportTransition && transition) {\r\n                            scrollbarVars._handle.one(_strTransitionEndEvent, function () {\r\n                                if (!_destroyed)\r\n                                    scrollbarVars._handle.css(strTransition, _strEmpty);\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                    scrollbarVarsInfo._handleOffset = handleOffset;\r\n                    scrollbarVarsInfo._snappedHandleOffset = snappedHandleOffset;\r\n                    scrollbarVarsInfo._trackLength = trackLength;\r\n                }\r\n\r\n                /**\r\n                 * Refreshes the interactivity of the given scrollbar element.\r\n                 * @param isTrack True if the track element is the target, false if the handle element is the target.\r\n                 * @param value True for interactivity false for no interactivity.\r\n                 */\r\n                function refreshScrollbarsInteractive(isTrack, value) {\r\n                    var action = value ? 'removeClass' : 'addClass';\r\n                    var element1 = isTrack ? _scrollbarHorizontalTrackElement : _scrollbarHorizontalHandleElement;\r\n                    var element2 = isTrack ? _scrollbarVerticalTrackElement : _scrollbarVerticalHandleElement;\r\n                    var className = isTrack ? _classNameScrollbarTrackOff : _classNameScrollbarHandleOff;\r\n\r\n                    element1[action](className);\r\n                    element2[action](className);\r\n                }\r\n\r\n                /**\r\n                 * Returns a object which is used for fast access for specific variables.\r\n                 * @param isHorizontal True if the horizontal scrollbar vars shall be accessed, false if the vertical scrollbar vars shall be accessed.\r\n                 * @returns {{wh: string, WH: string, lt: string, _wh: string, _lt: string, t: *, h: *, c: {}, s: *}}\r\n                 */\r\n                function getScrollbarVars(isHorizontal) {\r\n                    return {\r\n                        _width_height: isHorizontal ? _strWidth : _strHeight,\r\n                        _Width_Height: isHorizontal ? 'Width' : 'Height',\r\n                        _left_top: isHorizontal ? _strLeft : _strTop,\r\n                        _Left_Top: isHorizontal ? 'Left' : 'Top',\r\n                        _x_y: isHorizontal ? _strX : _strY,\r\n                        _X_Y: isHorizontal ? 'X' : 'Y',\r\n                        _w_h: isHorizontal ? 'w' : 'h',\r\n                        _l_t: isHorizontal ? 'l' : 't',\r\n                        _track: isHorizontal ? _scrollbarHorizontalTrackElement : _scrollbarVerticalTrackElement,\r\n                        _handle: isHorizontal ? _scrollbarHorizontalHandleElement : _scrollbarVerticalHandleElement,\r\n                        _scrollbar: isHorizontal ? _scrollbarHorizontalElement : _scrollbarVerticalElement,\r\n                        _info: isHorizontal ? _scrollHorizontalInfo : _scrollVerticalInfo\r\n                    };\r\n                }\r\n\r\n\r\n                //==== Scrollbar Corner ====//\r\n\r\n                /**\r\n                 * Builds or destroys the scrollbar corner DOM element.\r\n                 * @param destroy Indicates whether the DOM shall be build or destroyed.\r\n                 */\r\n                function setupScrollbarCornerDOM(destroy) {\r\n                    _scrollbarCornerElement = _scrollbarCornerElement || selectOrGenerateDivByClass(_classNameScrollbarCorner, true);\r\n\r\n                    if (!destroy) {\r\n                        if (!_domExists) {\r\n                            _hostElement.append(_scrollbarCornerElement);\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (_domExists && _initialized) {\r\n                            removeClass(_scrollbarCornerElement.removeAttr(LEXICON.s), _classNamesDynamicDestroy);\r\n                        }\r\n                        else {\r\n                            remove(_scrollbarCornerElement);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * Initializes all scrollbar corner interactivity events.\r\n                 */\r\n                function setupScrollbarCornerEvents() {\r\n                    var insideIFrame = _windowElementNative.top !== _windowElementNative;\r\n                    var mouseDownPosition = {};\r\n                    var mouseDownSize = {};\r\n                    var mouseDownInvertedScale = {};\r\n                    var reconnectMutationObserver;\r\n\r\n                    function documentDragMove(event) {\r\n                        if (onMouseTouchDownContinue(event)) {\r\n                            var pageOffset = getCoordinates(event);\r\n                            var hostElementCSS = {};\r\n                            if (_resizeHorizontal || _resizeBoth)\r\n                                hostElementCSS[_strWidth] = (mouseDownSize.w + (pageOffset.x - mouseDownPosition.x) * mouseDownInvertedScale.x);\r\n                            if (_resizeVertical || _resizeBoth)\r\n                                hostElementCSS[_strHeight] = (mouseDownSize.h + (pageOffset.y - mouseDownPosition.y) * mouseDownInvertedScale.y);\r\n                            _hostElement.css(hostElementCSS);\r\n                            COMPATIBILITY.stpP(event);\r\n                        }\r\n                        else {\r\n                            documentMouseTouchUp(event);\r\n                        }\r\n                    }\r\n                    function documentMouseTouchUp(event) {\r\n                        var eventIsTrusted = event !== undefined;\r\n\r\n                        setupResponsiveEventListener(_documentElement,\r\n                            [_strSelectStartEvent, _strMouseTouchMoveEvent, _strMouseTouchUpEvent],\r\n                            [documentOnSelectStart, documentDragMove, documentMouseTouchUp],\r\n                            true);\r\n\r\n                        removeClass(_bodyElement, _classNameDragging);\r\n                        if (_scrollbarCornerElement.releaseCapture)\r\n                            _scrollbarCornerElement.releaseCapture();\r\n\r\n                        if (eventIsTrusted) {\r\n                            if (reconnectMutationObserver)\r\n                                connectMutationObservers();\r\n                            _base.update(_strAuto);\r\n                        }\r\n                        reconnectMutationObserver = false;\r\n                    }\r\n                    function onMouseTouchDownContinue(event) {\r\n                        var originalEvent = event.originalEvent || event;\r\n                        var isTouchEvent = originalEvent.touches !== undefined;\r\n                        return _sleeping || _destroyed ? false : COMPATIBILITY.mBtn(event) === 1 || isTouchEvent;\r\n                    }\r\n                    function getCoordinates(event) {\r\n                        return _msieVersion && insideIFrame ? { x: event.screenX, y: event.screenY } : COMPATIBILITY.page(event);\r\n                    }\r\n\r\n                    addDestroyEventListener(_scrollbarCornerElement, _strMouseTouchDownEvent, function (event) {\r\n                        if (onMouseTouchDownContinue(event) && !_resizeNone) {\r\n                            if (_mutationObserversConnected) {\r\n                                reconnectMutationObserver = true;\r\n                                disconnectMutationObservers();\r\n                            }\r\n\r\n                            mouseDownPosition = getCoordinates(event);\r\n\r\n                            mouseDownSize.w = _hostElementNative[LEXICON.oW] - (!_isBorderBox ? _paddingX : 0);\r\n                            mouseDownSize.h = _hostElementNative[LEXICON.oH] - (!_isBorderBox ? _paddingY : 0);\r\n                            mouseDownInvertedScale = getHostElementInvertedScale();\r\n\r\n                            setupResponsiveEventListener(_documentElement,\r\n                                [_strSelectStartEvent, _strMouseTouchMoveEvent, _strMouseTouchUpEvent],\r\n                                [documentOnSelectStart, documentDragMove, documentMouseTouchUp]);\r\n\r\n                            addClass(_bodyElement, _classNameDragging);\r\n                            if (_scrollbarCornerElement.setCapture)\r\n                                _scrollbarCornerElement.setCapture();\r\n\r\n                            COMPATIBILITY.prvD(event);\r\n                            COMPATIBILITY.stpP(event);\r\n                        }\r\n                    });\r\n                }\r\n\r\n\r\n                //==== Utils ====//\r\n\r\n                /**\r\n                 * Calls the callback with the given name. The Context of this callback is always _base (this).\r\n                 * @param name The name of the target which shall be called.\r\n                 * @param args The args with which the callback shall be called.\r\n                 * @param dependent Boolean which decides whether the callback shall be fired, undefined is like a \"true\" value.\r\n                 */\r\n                function dispatchCallback(name, args, dependent) {\r\n                    if (dependent === false)\r\n                        return;\r\n                    if (_initialized) {\r\n                        var callback = _currentPreparedOptions.callbacks[name];\r\n                        var extensionOnName = name;\r\n                        var ext;\r\n\r\n                        if (extensionOnName.substr(0, 2) === 'on')\r\n                            extensionOnName = extensionOnName.substr(2, 1).toLowerCase() + extensionOnName.substr(3);\r\n\r\n                        if (type(callback) == TYPES.f)\r\n                            callback.call(_base, args);\r\n\r\n                        each(_extensions, function () {\r\n                            ext = this;\r\n                            if (type(ext.on) == TYPES.f)\r\n                                ext.on(extensionOnName, args);\r\n                        });\r\n                    }\r\n                    else if (!_destroyed)\r\n                        _callbacksInitQeueue.push({ n: name, a: args });\r\n                }\r\n\r\n                /**\r\n                 * Sets the \"top, right, bottom, left\" properties, with a given prefix, of the given css object.\r\n                 * @param targetCSSObject The css object to which the values shall be applied.\r\n                 * @param prefix The prefix of the \"top, right, bottom, left\" css properties. (example: 'padding-' is a valid prefix)\r\n                 * @param values A array of values which shall be applied to the \"top, right, bottom, left\" -properties. The array order is [top, right, bottom, left].\r\n                 * If this argument is undefined the value '' (empty string) will be applied to all properties.\r\n                 */\r\n                function setTopRightBottomLeft(targetCSSObject, prefix, values) {\r\n                    prefix = prefix || _strEmpty;\r\n                    values = values || [_strEmpty, _strEmpty, _strEmpty, _strEmpty];\r\n\r\n                    targetCSSObject[prefix + _strTop] = values[0];\r\n                    targetCSSObject[prefix + _strRight] = values[1];\r\n                    targetCSSObject[prefix + _strBottom] = values[2];\r\n                    targetCSSObject[prefix + _strLeft] = values[3];\r\n                }\r\n\r\n                /**\r\n                 * Gets the \"top, right, bottom, left\" CSS properties of the CSS property with the given prefix from the host element.\r\n                 * @param prefix The prefix of the \"top, right, bottom, left\" css properties. (example: 'padding-' is a valid prefix)\r\n                 * @param suffix The suffix of the \"top, right, bottom, left\" css properties. (example: 'border-' is a valid prefix with '-width' is a valid suffix)\r\n                 * @param zeroX True if the x axis shall be 0.\r\n                 * @param zeroY True if the y axis shall be 0.\r\n                 * @returns {{}} The object which contains the numbers of the read CSS properties.\r\n                 */\r\n                function getTopRightBottomLeftHost(prefix, suffix, zeroX, zeroY) {\r\n                    suffix = suffix || _strEmpty;\r\n                    prefix = prefix || _strEmpty;\r\n                    return {\r\n                        t: zeroY ? 0 : parseToZeroOrNumber(_hostElement.css(prefix + _strTop + suffix)),\r\n                        r: zeroX ? 0 : parseToZeroOrNumber(_hostElement.css(prefix + _strRight + suffix)),\r\n                        b: zeroY ? 0 : parseToZeroOrNumber(_hostElement.css(prefix + _strBottom + suffix)),\r\n                        l: zeroX ? 0 : parseToZeroOrNumber(_hostElement.css(prefix + _strLeft + suffix))\r\n                    };\r\n                }\r\n\r\n                /**\r\n                 * Returns the computed CSS transition string from the given element.\r\n                 * @param element The element from which the transition string shall be returned.\r\n                 * @returns {string} The CSS transition string from the given element.\r\n                 */\r\n                function getCSSTransitionString(element) {\r\n                    var transitionStr = VENDORS._cssProperty('transition');\r\n                    var assembledValue = element.css(transitionStr);\r\n                    if (assembledValue)\r\n                        return assembledValue;\r\n                    var regExpString = '\\\\s*(' + '([^,(]+(\\\\(.+?\\\\))?)+' + ')[\\\\s,]*';\r\n                    var regExpMain = new RegExp(regExpString);\r\n                    var regExpValidate = new RegExp('^(' + regExpString + ')+$');\r\n                    var properties = 'property duration timing-function delay'.split(' ');\r\n                    var result = [];\r\n                    var strResult;\r\n                    var valueArray;\r\n                    var i = 0;\r\n                    var j;\r\n                    var splitCssStyleByComma = function (str) {\r\n                        strResult = [];\r\n                        if (!str.match(regExpValidate))\r\n                            return str;\r\n                        while (str.match(regExpMain)) {\r\n                            strResult.push(RegExp.$1);\r\n                            str = str.replace(regExpMain, _strEmpty);\r\n                        }\r\n\r\n                        return strResult;\r\n                    };\r\n                    for (; i < properties[LEXICON.l]; i++) {\r\n                        valueArray = splitCssStyleByComma(element.css(transitionStr + '-' + properties[i]));\r\n                        for (j = 0; j < valueArray[LEXICON.l]; j++)\r\n                            result[j] = (result[j] ? result[j] + _strSpace : _strEmpty) + valueArray[j];\r\n                    }\r\n                    return result.join(', ');\r\n                }\r\n\r\n                /**\r\n                 * Generates a Regular Expression which matches with a string which starts with 'os-host'.\r\n                 * @param {boolean} withCurrClassNameOption The Regular Expression also matches if the string is the current ClassName option (multiple values splitted by space possible).\r\n                 * @param {boolean} withOldClassNameOption The Regular Expression also matches if the string is the old ClassName option (multiple values splitted by space possible).\r\n                 */\r\n                function createHostClassNameRegExp(withCurrClassNameOption, withOldClassNameOption) {\r\n                    var i;\r\n                    var split;\r\n                    var appendix;\r\n                    var appendClasses = function (classes, condition) {\r\n                        appendix = '';\r\n                        if (condition && typeof classes == TYPES.s) {\r\n                            split = classes.split(_strSpace);\r\n                            for (i = 0; i < split[LEXICON.l]; i++)\r\n                                appendix += '|' + split[i] + '$';\r\n                            // split[i].replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') for escaping regex characters\r\n                        }\r\n                        return appendix;\r\n                    };\r\n\r\n                    return new RegExp(\r\n                        '(^' + _classNameHostElement + '([-_].+|)$)' +\r\n                        appendClasses(_classNameCache, withCurrClassNameOption) +\r\n                        appendClasses(_oldClassName, withOldClassNameOption), 'g');\r\n                }\r\n\r\n                /**\r\n                 * Calculates the host-elements inverted scale. (invertedScale = 1 / scale)\r\n                 * @returns {{x: number, y: number}} The scale of the host-element.\r\n                 */\r\n                function getHostElementInvertedScale() {\r\n                    var rect = _paddingElementNative[LEXICON.bCR]();\r\n                    return {\r\n                        x: _supportTransform ? 1 / (MATH.round(rect.width) / _paddingElementNative[LEXICON.oW]) || 1 : 1,\r\n                        y: _supportTransform ? 1 / (MATH.round(rect.height) / _paddingElementNative[LEXICON.oH]) || 1 : 1\r\n                    };\r\n                }\r\n\r\n                /**\r\n                 * Checks whether the given object is a HTMLElement.\r\n                 * @param o The object which shall be checked.\r\n                 * @returns {boolean} True the given object is a HTMLElement, false otherwise.\r\n                 */\r\n                function isHTMLElement(o) {\r\n                    var strOwnerDocument = 'ownerDocument';\r\n                    var strHTMLElement = 'HTMLElement';\r\n                    var wnd = o && o[strOwnerDocument] ? (o[strOwnerDocument].parentWindow || window) : window;\r\n                    return (\r\n                        typeof wnd[strHTMLElement] == TYPES.o ? o instanceof wnd[strHTMLElement] : //DOM2\r\n                            o && typeof o == TYPES.o && o !== null && o.nodeType === 1 && typeof o.nodeName == TYPES.s\r\n                    );\r\n                }\r\n\r\n                /**\r\n                 * Compares 2 arrays and returns the differences between them as a array.\r\n                 * @param a1 The first array which shall be compared.\r\n                 * @param a2 The second array which shall be compared.\r\n                 * @returns {Array} The differences between the two arrays.\r\n                 */\r\n                function getArrayDifferences(a1, a2) {\r\n                    var a = [];\r\n                    var diff = [];\r\n                    var i;\r\n                    var k;\r\n                    for (i = 0; i < a1.length; i++)\r\n                        a[a1[i]] = true;\r\n                    for (i = 0; i < a2.length; i++) {\r\n                        if (a[a2[i]])\r\n                            delete a[a2[i]];\r\n                        else\r\n                            a[a2[i]] = true;\r\n                    }\r\n                    for (k in a)\r\n                        diff.push(k);\r\n                    return diff;\r\n                }\r\n\r\n                /**\r\n                 * Returns Zero or the number to which the value can be parsed.\r\n                 * @param value The value which shall be parsed.\r\n                 * @param toFloat Indicates whether the number shall be parsed to a float.\r\n                 */\r\n                function parseToZeroOrNumber(value, toFloat) {\r\n                    var num = toFloat ? parseFloat(value) : parseInt(value, 10);\r\n                    return isNaN(num) ? 0 : num;\r\n                }\r\n\r\n                /**\r\n                 * Gets several information of the textarea and returns them as a object or undefined if the browser doesn't support it.\r\n                 * @returns {{cursorRow: Number, cursorCol, rows: Number, cols: number, wRow: number, pos: number, max : number}} or undefined if not supported.\r\n                 */\r\n                function getTextareaInfo() {\r\n                    //read needed values\r\n                    var textareaCursorPosition = _targetElementNative.selectionStart;\r\n                    if (textareaCursorPosition === undefined)\r\n                        return;\r\n\r\n                    var textareaValue = _targetElement.val();\r\n                    var textareaLength = textareaValue[LEXICON.l];\r\n                    var textareaRowSplit = textareaValue.split('\\n');\r\n                    var textareaLastRow = textareaRowSplit[LEXICON.l];\r\n                    var textareaCurrentCursorRowSplit = textareaValue.substr(0, textareaCursorPosition).split('\\n');\r\n                    var widestRow = 0;\r\n                    var textareaLastCol = 0;\r\n                    var cursorRow = textareaCurrentCursorRowSplit[LEXICON.l];\r\n                    var cursorCol = textareaCurrentCursorRowSplit[textareaCurrentCursorRowSplit[LEXICON.l] - 1][LEXICON.l];\r\n                    var rowCols;\r\n                    var i;\r\n\r\n                    //get widest Row and the last column of the textarea\r\n                    for (i = 0; i < textareaRowSplit[LEXICON.l]; i++) {\r\n                        rowCols = textareaRowSplit[i][LEXICON.l];\r\n                        if (rowCols > textareaLastCol) {\r\n                            widestRow = i + 1;\r\n                            textareaLastCol = rowCols;\r\n                        }\r\n                    }\r\n\r\n                    return {\r\n                        _cursorRow: cursorRow, //cursorRow\r\n                        _cursorColumn: cursorCol, //cursorCol\r\n                        _rows: textareaLastRow, //rows\r\n                        _columns: textareaLastCol, //cols\r\n                        _widestRow: widestRow, //wRow\r\n                        _cursorPosition: textareaCursorPosition, //pos\r\n                        _cursorMax: textareaLength //max\r\n                    };\r\n                }\r\n\r\n                /**\r\n                 * Determines whether native overlay scrollbars are active.\r\n                 * @returns {boolean} True if native overlay scrollbars are active, false otherwise.\r\n                 */\r\n                function nativeOverlayScrollbarsAreActive() {\r\n                    return (_ignoreOverlayScrollbarHidingCache && (_nativeScrollbarIsOverlaid.x && _nativeScrollbarIsOverlaid.y));\r\n                }\r\n\r\n                /**\r\n                 * Gets the element which is used to measure the content size.\r\n                 * @returns {*} TextareaCover if target element is textarea else the ContentElement.\r\n                 */\r\n                function getContentMeasureElement() {\r\n                    return _isTextarea ? _textareaCoverElement[0] : _contentElementNative;\r\n                }\r\n\r\n                /**\r\n                 * Generates a string which represents a HTML div with the given classes or attributes.\r\n                 * @param classesOrAttrs The class of the div as string or a object which represents the attributes of the div. (The class attribute can also be written as \"className\".)\r\n                 * @param content The content of the div as string.\r\n                 * @returns {string} The concated string which represents a HTML div and its content.\r\n                 */\r\n                function generateDiv(classesOrAttrs, content) {\r\n                    return '<div ' + (classesOrAttrs ? type(classesOrAttrs) == TYPES.s ?\r\n                        'class=\"' + classesOrAttrs + '\"' :\r\n                        (function () {\r\n                            var key;\r\n                            var attrs = _strEmpty;\r\n                            if (FRAMEWORK.isPlainObject(classesOrAttrs)) {\r\n                                for (key in classesOrAttrs)\r\n                                    attrs += (key === 'c' ? 'class' : key) + '=\"' + classesOrAttrs[key] + '\" ';\r\n                            }\r\n                            return attrs;\r\n                        })() :\r\n                        _strEmpty) +\r\n                        '>' +\r\n                        (content || _strEmpty) +\r\n                        '</div>';\r\n                }\r\n\r\n                /**\r\n                 * Selects or generates a div with the given class attribute.\r\n                 * @param className The class names (divided by spaces) of the div which shall be selected or generated.\r\n                 * @param selectParentOrOnlyChildren The parent element from which of the element shall be selected. (if undefined or boolean its hostElement)\r\n                 * If its a boolean it decides whether only the children of the host element shall be selected.\r\n                 * @returns {*} The generated or selected element.\r\n                 */\r\n                function selectOrGenerateDivByClass(className, selectParentOrOnlyChildren) {\r\n                    var onlyChildren = type(selectParentOrOnlyChildren) == TYPES.b;\r\n                    var selectParent = onlyChildren ? _hostElement : (selectParentOrOnlyChildren || _hostElement);\r\n\r\n                    return (_domExists && !selectParent[LEXICON.l])\r\n                        ? null\r\n                        : _domExists\r\n                            ? selectParent[onlyChildren ? 'children' : 'find'](_strDot + className.replace(/\\s/g, _strDot)).eq(0)\r\n                            : FRAMEWORK(generateDiv(className))\r\n                }\r\n\r\n                /**\r\n                 * Gets the value of the given property from the given object.\r\n                 * @param obj The object from which the property value shall be got.\r\n                 * @param path The property of which the value shall be got.\r\n                 * @returns {*} Returns the value of the searched property or undefined of the property wasn't found.\r\n                 */\r\n                function getObjectPropVal(obj, path) {\r\n                    var splits = path.split(_strDot);\r\n                    var i = 0;\r\n                    var val;\r\n                    for (; i < splits.length; i++) {\r\n                        if (!obj[LEXICON.hOP](splits[i]))\r\n                            return;\r\n                        val = obj[splits[i]];\r\n                        if (i < splits.length && type(val) == TYPES.o)\r\n                            obj = val;\r\n                    }\r\n                    return val;\r\n                }\r\n\r\n                /**\r\n                 * Sets the value of the given property from the given object.\r\n                 * @param obj The object from which the property value shall be set.\r\n                 * @param path The property of which the value shall be set.\r\n                 * @param val The value of the property which shall be set.\r\n                 */\r\n                function setObjectPropVal(obj, path, val) {\r\n                    var splits = path.split(_strDot);\r\n                    var splitsLength = splits.length;\r\n                    var i = 0;\r\n                    var extendObj = {};\r\n                    var extendObjRoot = extendObj;\r\n                    for (; i < splitsLength; i++)\r\n                        extendObj = extendObj[splits[i]] = i + 1 < splitsLength ? {} : val;\r\n                    FRAMEWORK.extend(obj, extendObjRoot, true);\r\n                }\r\n\r\n                /**\t\r\n                 * Runs a action for each selector inside the updateOnLoad option.\t\r\n                 * @param {Function} action The action for each updateOnLoad selector, the arguments the function takes is the index and the value (the selector).\t\r\n                 */\r\n                function eachUpdateOnLoad(action) {\r\n                    var updateOnLoad = _currentPreparedOptions.updateOnLoad;\r\n                    updateOnLoad = type(updateOnLoad) == TYPES.s ? updateOnLoad.split(_strSpace) : updateOnLoad;\r\n\r\n                    if (COMPATIBILITY.isA(updateOnLoad) && !_destroyed) {\r\n                        each(updateOnLoad, action);\r\n                    }\r\n                }\r\n\r\n\r\n                //==== Utils Cache ====//\r\n\r\n                /**\r\n                 * Compares two values or objects and returns true if they aren't equal.\r\n                 * @param current The first value or object which shall be compared.\r\n                 * @param cache The second value or object which shall be compared.\r\n                 * @param force If true the returned value is always true.\r\n                 * @returns {boolean} True if both values or objects aren't equal or force is true, false otherwise.\r\n                 */\r\n                function checkCache(current, cache, force) {\r\n                    if (force)\r\n                        return force;\r\n                    if (type(current) == TYPES.o && type(cache) == TYPES.o) {\r\n                        for (var prop in current) {\r\n                            if (prop !== 'c') {\r\n                                if (current[LEXICON.hOP](prop) && cache[LEXICON.hOP](prop)) {\r\n                                    if (checkCache(current[prop], cache[prop]))\r\n                                        return true;\r\n                                }\r\n                                else {\r\n                                    return true;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        return current !== cache;\r\n                    }\r\n                    return false;\r\n                }\r\n\r\n\r\n                //==== Shortcuts ====//\r\n\r\n                /**\r\n                 * jQuery extend method shortcut with a appended \"true\" as first argument.\r\n                 */\r\n                function extendDeep() {\r\n                    return FRAMEWORK.extend.apply(this, [true].concat([].slice.call(arguments)));\r\n                }\r\n\r\n                /**\r\n                 * jQuery addClass method shortcut.\r\n                 */\r\n                function addClass(el, classes) {\r\n                    return _frameworkProto.addClass.call(el, classes);\r\n                }\r\n\r\n                /**\r\n                 * jQuery removeClass method shortcut.\r\n                 */\r\n                function removeClass(el, classes) {\r\n                    return _frameworkProto.removeClass.call(el, classes);\r\n                }\r\n\r\n                /**\r\n                 * Adds or removes the given classes dependent on the boolean value. True for add, false for remove.\r\n                 */\r\n                function addRemoveClass(el, classes, doAdd) {\r\n                    return doAdd ? addClass(el, classes) : removeClass(el, classes);\r\n                }\r\n\r\n                /**\r\n                 * jQuery remove method shortcut.\r\n                 */\r\n                function remove(el) {\r\n                    return _frameworkProto.remove.call(el);\r\n                }\r\n\r\n                /**\r\n                 * Finds the first child element with the given selector of the given element.\r\n                 * @param el The root element from which the selector shall be valid.\r\n                 * @param selector The selector of the searched element.\r\n                 * @returns {*} The first element which is a child of the given element and matches the givens selector.\r\n                 */\r\n                function findFirst(el, selector) {\r\n                    return _frameworkProto.find.call(el, selector).eq(0);\r\n                }\r\n\r\n\r\n                //==== API ====//\r\n\r\n                /**\r\n                 * Puts the instance to sleep. It wont respond to any changes in the DOM and won't update. Scrollbar Interactivity is also disabled as well as the resize handle.\r\n                 * This behavior can be reset by calling the update method.\r\n                 */\r\n                _base.sleep = function () {\r\n                    _sleeping = true;\r\n                };\r\n\r\n                /**\r\n                 * Updates the plugin and DOM to the current options.\r\n                 * This method should only be called if a update is 100% required.\r\n                 * @param force True if every property shall be updated and the cache shall be ignored.\r\n                 * !INTERNAL USAGE! : force can be a string \"auto\", \"sync\" or \"zoom\" too\r\n                 * if \"auto\" then before a real update the content size and host element attributes gets checked, and if they changed only then the update method will be called.\r\n                 * if \"sync\" then the async update process (MutationObserver or UpdateLoop) gets synchronized and a corresponding update takes place if one was needed due to pending changes.\r\n                 * if \"zoom\" then a update takes place where it's assumed that content and host size changed\r\n                 * @returns {boolean|undefined} \r\n                 * If force is \"sync\" then a boolean is returned which indicates whether a update was needed due to pending changes.\r\n                 * If force is \"auto\" then a boolean is returned whether a update was needed due to attribute or size changes.\r\n                 * undefined otherwise.\r\n                 */\r\n                _base.update = function (force) {\r\n                    if (_destroyed)\r\n                        return;\r\n\r\n                    var attrsChanged;\r\n                    var contentSizeC;\r\n                    var isString = type(force) == TYPES.s;\r\n                    var doUpdateAuto;\r\n                    var mutHost;\r\n                    var mutContent;\r\n\r\n                    if (isString) {\r\n                        if (force === _strAuto) {\r\n                            attrsChanged = meaningfulAttrsChanged();\r\n                            contentSizeC = updateAutoContentSizeChanged();\r\n                            doUpdateAuto = attrsChanged || contentSizeC;\r\n                            if (doUpdateAuto) {\r\n                                update({\r\n                                    _contentSizeChanged: contentSizeC,\r\n                                    _changedOptions: _initialized ? undefined : _currentPreparedOptions\r\n                                });\r\n                            }\r\n                        }\r\n                        else if (force === _strSync) {\r\n                            if (_mutationObserversConnected) {\r\n                                mutHost = _mutationObserverHostCallback(_mutationObserverHost.takeRecords());\r\n                                mutContent = _mutationObserverContentCallback(_mutationObserverContent.takeRecords());\r\n                            }\r\n                            else {\r\n                                mutHost = _base.update(_strAuto);\r\n                            }\r\n                        }\r\n                        else if (force === 'zoom') {\r\n                            update({\r\n                                _hostSizeChanged: true,\r\n                                _contentSizeChanged: true\r\n                            });\r\n                        }\r\n                    }\r\n                    else {\r\n                        force = _sleeping || force;\r\n                        _sleeping = false;\r\n                        if (!_base.update(_strSync) || force)\r\n                            update({ _force: force });\r\n                    }\r\n\r\n                    updateElementsOnLoad();\r\n\r\n                    return doUpdateAuto || mutHost || mutContent;\r\n                };\r\n\r\n                /**\r\n                 Gets or sets the current options. The update method will be called automatically if new options were set.\r\n                 * @param newOptions If new options are given, then the new options will be set, if new options aren't given (undefined or a not a plain object) then the current options will be returned.\r\n                 * @param value If new options is a property path string, then this value will be used to set the option to which the property path string leads.\r\n                 * @returns {*}\r\n                 */\r\n                _base.options = function (newOptions, value) {\r\n                    var option = {};\r\n                    var changedOps;\r\n\r\n                    //return current options if newOptions are undefined or empty\r\n                    if (FRAMEWORK.isEmptyObject(newOptions) || !FRAMEWORK.isPlainObject(newOptions)) {\r\n                        if (type(newOptions) == TYPES.s) {\r\n                            if (arguments.length > 1) {\r\n                                setObjectPropVal(option, newOptions, value);\r\n                                changedOps = setOptions(option);\r\n                            }\r\n                            else\r\n                                return getObjectPropVal(_currentOptions, newOptions);\r\n                        }\r\n                        else\r\n                            return _currentOptions;\r\n                    }\r\n                    else {\r\n                        changedOps = setOptions(newOptions);\r\n                    }\r\n\r\n                    if (!FRAMEWORK.isEmptyObject(changedOps)) {\r\n                        update({ _changedOptions: changedOps });\r\n                    }\r\n                };\r\n\r\n                /**\r\n                 * Restore the DOM, disconnects all observers, remove all resize observers and put the instance to sleep.\r\n                 */\r\n                _base.destroy = function () {\r\n                    if (_destroyed)\r\n                        return;\r\n\r\n                    //remove this instance from auto update loop\r\n                    autoUpdateLoop.remove(_base);\r\n\r\n                    //disconnect all mutation observers\r\n                    disconnectMutationObservers();\r\n\r\n                    //remove all resize observers\r\n                    setupResizeObserver(_sizeObserverElement);\r\n                    setupResizeObserver(_sizeAutoObserverElement);\r\n\r\n                    //remove all extensions\r\n                    for (var extName in _extensions)\r\n                        _base.removeExt(extName);\r\n\r\n                    //remove all 'destroy' events\r\n                    while (_destroyEvents[LEXICON.l] > 0)\r\n                        _destroyEvents.pop()();\r\n\r\n                    //remove all events from host element\r\n                    setupHostMouseTouchEvents(true);\r\n\r\n                    //remove all helper / detection elements\r\n                    if (_contentGlueElement)\r\n                        remove(_contentGlueElement);\r\n                    if (_contentArrangeElement)\r\n                        remove(_contentArrangeElement);\r\n                    if (_sizeAutoObserverAdded)\r\n                        remove(_sizeAutoObserverElement);\r\n\r\n                    //remove all generated DOM\r\n                    setupScrollbarsDOM(true);\r\n                    setupScrollbarCornerDOM(true);\r\n                    setupStructureDOM(true);\r\n\r\n                    //remove all generated image load events\r\n                    for (var i = 0; i < _updateOnLoadElms[LEXICON.l]; i++)\r\n                        FRAMEWORK(_updateOnLoadElms[i]).off(_updateOnLoadEventName, updateOnLoadCallback);\r\n                    _updateOnLoadElms = undefined;\r\n\r\n                    _destroyed = true;\r\n                    _sleeping = true;\r\n\r\n                    //remove this instance from the instances list\r\n                    INSTANCES(pluginTargetElement, 0);\r\n                    dispatchCallback('onDestroyed');\r\n\r\n                    //remove all properties and methods\r\n                    //for (var property in _base)\r\n                    //    delete _base[property];\r\n                    //_base = undefined;\r\n                };\r\n\r\n                /**\r\n                 * Scrolls to a given position or element.\r\n                 * @param coordinates\r\n                 * 1. Can be \"coordinates\" which looks like:\r\n                 *    { x : ?, y : ? } OR          Object with x and y properties\r\n                 *    { left : ?, top : ? } OR     Object with left and top properties\r\n                 *    { l : ?, t : ? } OR          Object with l and t properties\r\n                 *    [ ?, ? ] OR                  Array where the first two element are the coordinates (first is x, second is y)\r\n                 *    ?                            A single value which stays for both axis\r\n                 *    A value can be a number, a string or a calculation.\r\n                 *\r\n                 *    Operators:\r\n                 *    [NONE]  The current scroll will be overwritten by the value.\r\n                 *    '+='    The value will be added to the current scroll offset\r\n                 *    '-='    The value will be subtracted from the current scroll offset\r\n                 *    '*='    The current scroll wil be multiplicated by the value.\r\n                 *    '/='    The current scroll wil be divided by the value.\r\n                 *\r\n                 *    Units:\r\n                 *    [NONE]  The value is the final scroll amount.                   final = (value * 1)\r\n                 *    'px'    Same as none\r\n                 *    '%'     The value is dependent on the current scroll value.     final = ((currentScrollValue / 100) * value)\r\n                 *    'vw'    The value is multiplicated by the viewport width.       final = (value * viewportWidth)\r\n                 *    'vh'    The value is multiplicated by the viewport height.      final = (value * viewportHeight)\r\n                 *\r\n                 *    example final values:\r\n                 *    200, '200px', '50%', '1vw', '1vh', '+=200', '/=1vw', '*=2px', '-=5vh', '+=33%', '+= 50% - 2px', '-= 1vw - 50%'\r\n                 *\r\n                 * 2. Can be a HTML or jQuery element:\r\n                 *    The final scroll offset is the offset (without margin) of the given HTML / jQuery element.\r\n                 *\r\n                 * 3. Can be a object with a HTML or jQuery element with additional settings:\r\n                 *    {\r\n                 *      el : [HTMLElement, jQuery element],             MUST be specified, else this object isn't valid.\r\n                 *      scroll : [string, array, object],               Default value is 'always'.\r\n                 *      block : [string, array, object],                Default value is 'begin'.\r\n                 *      margin : [number, boolean, array, object]       Default value is false.\r\n                 *    }\r\n                 *\r\n                 *    Possible scroll settings are:\r\n                 *    'always'      Scrolls always.\r\n                 *    'ifneeded'    Scrolls only if the element isnt fully in view.\r\n                 *    'never'       Scrolls never.\r\n                 *\r\n                 *    Possible block settings are:\r\n                 *    'begin'   Both axis shall be docked to the \"begin\" edge. - The element will be docked to the top and left edge of the viewport.\r\n                 *    'end'     Both axis shall be docked to the \"end\" edge. - The element will be docked to the bottom and right edge of the viewport. (If direction is RTL to the bottom and left edge.)\r\n                 *    'center'  Both axis shall be docked to \"center\". - The element will be centered in the viewport.\r\n                 *    'nearest' The element will be docked to the nearest edge(s).\r\n                 *\r\n                 *    Possible margin settings are: -- The actual margin of the element wont be affect, this option affects only the final scroll offset.\r\n                 *    [BOOLEAN]                                         If true the css margin of the element will be used, if false no margin will be used.\r\n                 *    [NUMBER]                                          The margin will be used for all edges.\r\n                 *\r\n                 * @param duration The duration of the scroll animation, OR a jQuery animation configuration object.\r\n                 * @param easing The animation easing.\r\n                 * @param complete The animation complete callback.\r\n                 * @returns {{\r\n                 *   position: {x: number, y: number},\r\n                 *   ratio: {x: number, y: number},\r\n                 *   max: {x: number, y: number},\r\n                 *   handleOffset: {x: number, y: number},\r\n                 *   handleLength: {x: number, y: number},\r\n                 *   handleLengthRatio: {x: number, y: number}, t\r\n                 *   rackLength: {x: number, y: number},\r\n                 *   isRTL: boolean,\r\n                 *   isRTLNormalized: boolean\r\n                 *  }}\r\n                 */\r\n                _base.scroll = function (coordinates, duration, easing, complete) {\r\n                    if (arguments.length === 0 || coordinates === undefined) {\r\n                        var infoX = _scrollHorizontalInfo;\r\n                        var infoY = _scrollVerticalInfo;\r\n                        var normalizeInvert = _normalizeRTLCache && _isRTL && _rtlScrollBehavior.i;\r\n                        var normalizeNegate = _normalizeRTLCache && _isRTL && _rtlScrollBehavior.n;\r\n                        var scrollX = infoX._currentScroll;\r\n                        var scrollXRatio = infoX._currentScrollRatio;\r\n                        var maxScrollX = infoX._maxScroll;\r\n                        scrollXRatio = normalizeInvert ? 1 - scrollXRatio : scrollXRatio;\r\n                        scrollX = normalizeInvert ? maxScrollX - scrollX : scrollX;\r\n                        scrollX *= normalizeNegate ? -1 : 1;\r\n                        maxScrollX *= normalizeNegate ? -1 : 1;\r\n\r\n                        return {\r\n                            position: {\r\n                                x: scrollX,\r\n                                y: infoY._currentScroll\r\n                            },\r\n                            ratio: {\r\n                                x: scrollXRatio,\r\n                                y: infoY._currentScrollRatio\r\n                            },\r\n                            max: {\r\n                                x: maxScrollX,\r\n                                y: infoY._maxScroll\r\n                            },\r\n                            handleOffset: {\r\n                                x: infoX._handleOffset,\r\n                                y: infoY._handleOffset\r\n                            },\r\n                            handleLength: {\r\n                                x: infoX._handleLength,\r\n                                y: infoY._handleLength\r\n                            },\r\n                            handleLengthRatio: {\r\n                                x: infoX._handleLengthRatio,\r\n                                y: infoY._handleLengthRatio\r\n                            },\r\n                            trackLength: {\r\n                                x: infoX._trackLength,\r\n                                y: infoY._trackLength\r\n                            },\r\n                            snappedHandleOffset: {\r\n                                x: infoX._snappedHandleOffset,\r\n                                y: infoY._snappedHandleOffset\r\n                            },\r\n                            isRTL: _isRTL,\r\n                            isRTLNormalized: _normalizeRTLCache\r\n                        };\r\n                    }\r\n\r\n                    _base.update(_strSync);\r\n\r\n                    var normalizeRTL = _normalizeRTLCache;\r\n                    var coordinatesXAxisProps = [_strX, _strLeft, 'l'];\r\n                    var coordinatesYAxisProps = [_strY, _strTop, 't'];\r\n                    var coordinatesOperators = ['+=', '-=', '*=', '/='];\r\n                    var durationIsObject = type(duration) == TYPES.o;\r\n                    var completeCallback = durationIsObject ? duration.complete : complete;\r\n                    var i;\r\n                    var finalScroll = {};\r\n                    var specialEasing = {};\r\n                    var doScrollLeft;\r\n                    var doScrollTop;\r\n                    var animationOptions;\r\n                    var strEnd = 'end';\r\n                    var strBegin = 'begin';\r\n                    var strCenter = 'center';\r\n                    var strNearest = 'nearest';\r\n                    var strAlways = 'always';\r\n                    var strNever = 'never';\r\n                    var strIfNeeded = 'ifneeded';\r\n                    var strLength = LEXICON.l;\r\n                    var settingsAxis;\r\n                    var settingsScroll;\r\n                    var settingsBlock;\r\n                    var settingsMargin;\r\n                    var finalElement;\r\n                    var elementObjSettingsAxisValues = [_strX, _strY, 'xy', 'yx'];\r\n                    var elementObjSettingsBlockValues = [strBegin, strEnd, strCenter, strNearest];\r\n                    var elementObjSettingsScrollValues = [strAlways, strNever, strIfNeeded];\r\n                    var coordinatesIsElementObj = coordinates[LEXICON.hOP]('el');\r\n                    var possibleElement = coordinatesIsElementObj ? coordinates.el : coordinates;\r\n                    var possibleElementIsJQuery = possibleElement instanceof FRAMEWORK || JQUERY ? possibleElement instanceof JQUERY : false;\r\n                    var possibleElementIsHTMLElement = possibleElementIsJQuery ? false : isHTMLElement(possibleElement);\r\n                    var updateScrollbarInfos = function () {\r\n                        if (doScrollLeft)\r\n                            refreshScrollbarHandleOffset(true);\r\n                        if (doScrollTop)\r\n                            refreshScrollbarHandleOffset(false);\r\n                    };\r\n                    var proxyCompleteCallback = type(completeCallback) != TYPES.f ? undefined : function () {\r\n                        updateScrollbarInfos();\r\n                        completeCallback();\r\n                    };\r\n                    function checkSettingsStringValue(currValue, allowedValues) {\r\n                        for (i = 0; i < allowedValues[strLength]; i++) {\r\n                            if (currValue === allowedValues[i])\r\n                                return true;\r\n                        }\r\n                        return false;\r\n                    }\r\n                    function getRawScroll(isX, coordinates) {\r\n                        var coordinateProps = isX ? coordinatesXAxisProps : coordinatesYAxisProps;\r\n                        coordinates = type(coordinates) == TYPES.s || type(coordinates) == TYPES.n ? [coordinates, coordinates] : coordinates;\r\n\r\n                        if (COMPATIBILITY.isA(coordinates))\r\n                            return isX ? coordinates[0] : coordinates[1];\r\n                        else if (type(coordinates) == TYPES.o) {\r\n                            //decides RTL normalization \"hack\" with .n\r\n                            //normalizeRTL = type(coordinates.n) == TYPES.b ? coordinates.n : normalizeRTL; \r\n                            for (i = 0; i < coordinateProps[strLength]; i++)\r\n                                if (coordinateProps[i] in coordinates)\r\n                                    return coordinates[coordinateProps[i]];\r\n                        }\r\n                    }\r\n                    function getFinalScroll(isX, rawScroll) {\r\n                        var isString = type(rawScroll) == TYPES.s;\r\n                        var operator;\r\n                        var amount;\r\n                        var scrollInfo = isX ? _scrollHorizontalInfo : _scrollVerticalInfo;\r\n                        var currScroll = scrollInfo._currentScroll;\r\n                        var maxScroll = scrollInfo._maxScroll;\r\n                        var mult = ' * ';\r\n                        var finalValue;\r\n                        var isRTLisX = _isRTL && isX;\r\n                        var normalizeShortcuts = isRTLisX && _rtlScrollBehavior.n && !normalizeRTL;\r\n                        var strReplace = 'replace';\r\n                        var evalFunc = eval;\r\n                        var possibleOperator;\r\n                        if (isString) {\r\n                            //check operator\r\n                            if (rawScroll[strLength] > 2) {\r\n                                possibleOperator = rawScroll.substr(0, 2);\r\n                                if (inArray(possibleOperator, coordinatesOperators) > -1)\r\n                                    operator = possibleOperator;\r\n                            }\r\n\r\n                            //calculate units and shortcuts\r\n                            rawScroll = operator ? rawScroll.substr(2) : rawScroll;\r\n                            rawScroll = rawScroll\r\n                            [strReplace](/min/g, 0) //'min' = 0%\r\n                            [strReplace](/</g, 0)   //'<'   = 0%\r\n                            [strReplace](/max/g, (normalizeShortcuts ? '-' : _strEmpty) + _strHundredPercent)    //'max' = 100%\r\n                            [strReplace](/>/g, (normalizeShortcuts ? '-' : _strEmpty) + _strHundredPercent)      //'>'   = 100%\r\n                            [strReplace](/px/g, _strEmpty)\r\n                            [strReplace](/%/g, mult + (maxScroll * (isRTLisX && _rtlScrollBehavior.n ? -1 : 1) / 100.0))\r\n                            [strReplace](/vw/g, mult + _viewportSize.w)\r\n                            [strReplace](/vh/g, mult + _viewportSize.h);\r\n                            amount = parseToZeroOrNumber(isNaN(rawScroll) ? parseToZeroOrNumber(evalFunc(rawScroll), true).toFixed() : rawScroll);\r\n                        }\r\n                        else {\r\n                            amount = rawScroll;\r\n                        }\r\n\r\n                        if (amount !== undefined && !isNaN(amount) && type(amount) == TYPES.n) {\r\n                            var normalizeIsRTLisX = normalizeRTL && isRTLisX;\r\n                            var operatorCurrScroll = currScroll * (normalizeIsRTLisX && _rtlScrollBehavior.n ? -1 : 1);\r\n                            var invert = normalizeIsRTLisX && _rtlScrollBehavior.i;\r\n                            var negate = normalizeIsRTLisX && _rtlScrollBehavior.n;\r\n                            operatorCurrScroll = invert ? (maxScroll - operatorCurrScroll) : operatorCurrScroll;\r\n                            switch (operator) {\r\n                                case '+=':\r\n                                    finalValue = operatorCurrScroll + amount;\r\n                                    break;\r\n                                case '-=':\r\n                                    finalValue = operatorCurrScroll - amount;\r\n                                    break;\r\n                                case '*=':\r\n                                    finalValue = operatorCurrScroll * amount;\r\n                                    break;\r\n                                case '/=':\r\n                                    finalValue = operatorCurrScroll / amount;\r\n                                    break;\r\n                                default:\r\n                                    finalValue = amount;\r\n                                    break;\r\n                            }\r\n                            finalValue = invert ? maxScroll - finalValue : finalValue;\r\n                            finalValue *= negate ? -1 : 1;\r\n                            finalValue = isRTLisX && _rtlScrollBehavior.n ? MATH.min(0, MATH.max(maxScroll, finalValue)) : MATH.max(0, MATH.min(maxScroll, finalValue));\r\n                        }\r\n                        return finalValue === currScroll ? undefined : finalValue;\r\n                    }\r\n                    function getPerAxisValue(value, valueInternalType, defaultValue, allowedValues) {\r\n                        var resultDefault = [defaultValue, defaultValue];\r\n                        var valueType = type(value);\r\n                        var valueArrLength;\r\n                        var valueArrItem;\r\n\r\n                        //value can be [ string, or array of two strings ]\r\n                        if (valueType == valueInternalType) {\r\n                            value = [value, value];\r\n                        }\r\n                        else if (valueType == TYPES.a) {\r\n                            valueArrLength = value[strLength];\r\n                            if (valueArrLength > 2 || valueArrLength < 1)\r\n                                value = resultDefault;\r\n                            else {\r\n                                if (valueArrLength === 1)\r\n                                    value[1] = defaultValue;\r\n                                for (i = 0; i < valueArrLength; i++) {\r\n                                    valueArrItem = value[i];\r\n                                    if (type(valueArrItem) != valueInternalType || !checkSettingsStringValue(valueArrItem, allowedValues)) {\r\n                                        value = resultDefault;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        else if (valueType == TYPES.o)\r\n                            value = [value[_strX] || defaultValue, value[_strY] || defaultValue];\r\n                        else\r\n                            value = resultDefault;\r\n                        return { x: value[0], y: value[1] };\r\n                    }\r\n                    function generateMargin(marginTopRightBottomLeftArray) {\r\n                        var result = [];\r\n                        var currValue;\r\n                        var currValueType;\r\n                        var valueDirections = [_strTop, _strRight, _strBottom, _strLeft];\r\n                        for (i = 0; i < marginTopRightBottomLeftArray[strLength]; i++) {\r\n                            if (i === valueDirections[strLength])\r\n                                break;\r\n                            currValue = marginTopRightBottomLeftArray[i];\r\n                            currValueType = type(currValue);\r\n                            if (currValueType == TYPES.b)\r\n                                result.push(currValue ? parseToZeroOrNumber(finalElement.css(_strMarginMinus + valueDirections[i])) : 0);\r\n                            else\r\n                                result.push(currValueType == TYPES.n ? currValue : 0);\r\n                        }\r\n                        return result;\r\n                    }\r\n\r\n                    if (possibleElementIsJQuery || possibleElementIsHTMLElement) {\r\n                        //get settings\r\n                        var margin = coordinatesIsElementObj ? coordinates.margin : 0;\r\n                        var axis = coordinatesIsElementObj ? coordinates.axis : 0;\r\n                        var scroll = coordinatesIsElementObj ? coordinates.scroll : 0;\r\n                        var block = coordinatesIsElementObj ? coordinates.block : 0;\r\n                        var marginDefault = [0, 0, 0, 0];\r\n                        var marginType = type(margin);\r\n                        var marginLength;\r\n                        finalElement = possibleElementIsJQuery ? possibleElement : FRAMEWORK(possibleElement);\r\n\r\n                        if (finalElement[strLength] > 0) {\r\n                            //margin can be [ boolean, number, array of 2, array of 4, object ]\r\n                            if (marginType == TYPES.n || marginType == TYPES.b)\r\n                                margin = generateMargin([margin, margin, margin, margin]);\r\n                            else if (marginType == TYPES.a) {\r\n                                marginLength = margin[strLength];\r\n                                if (marginLength === 2)\r\n                                    margin = generateMargin([margin[0], margin[1], margin[0], margin[1]]);\r\n                                else if (marginLength >= 4)\r\n                                    margin = generateMargin(margin);\r\n                                else\r\n                                    margin = marginDefault;\r\n                            }\r\n                            else if (marginType == TYPES.o)\r\n                                margin = generateMargin([margin[_strTop], margin[_strRight], margin[_strBottom], margin[_strLeft]]);\r\n                            else\r\n                                margin = marginDefault;\r\n\r\n                            //block = type(block) === TYPES.b ? block ? [ strNearest, strBegin ] : [ strNearest, strEnd ] : block;\r\n                            settingsAxis = checkSettingsStringValue(axis, elementObjSettingsAxisValues) ? axis : 'xy';\r\n                            settingsScroll = getPerAxisValue(scroll, TYPES.s, strAlways, elementObjSettingsScrollValues);\r\n                            settingsBlock = getPerAxisValue(block, TYPES.s, strBegin, elementObjSettingsBlockValues);\r\n                            settingsMargin = margin;\r\n\r\n                            var viewportScroll = {\r\n                                l: _scrollHorizontalInfo._currentScroll,\r\n                                t: _scrollVerticalInfo._currentScroll\r\n                            };\r\n                            // use padding element instead of viewport element because padding element has never padding, margin or position applied.\r\n                            var viewportOffset = _paddingElement.offset();\r\n\r\n                            //get coordinates\r\n                            var elementOffset = finalElement.offset();\r\n                            var doNotScroll = {\r\n                                x: settingsScroll.x == strNever || settingsAxis == _strY,\r\n                                y: settingsScroll.y == strNever || settingsAxis == _strX\r\n                            };\r\n                            elementOffset[_strTop] -= settingsMargin[0];\r\n                            elementOffset[_strLeft] -= settingsMargin[3];\r\n                            var elementScrollCoordinates = {\r\n                                x: MATH.round(elementOffset[_strLeft] - viewportOffset[_strLeft] + viewportScroll.l),\r\n                                y: MATH.round(elementOffset[_strTop] - viewportOffset[_strTop] + viewportScroll.t)\r\n                            };\r\n                            if (_isRTL) {\r\n                                if (!_rtlScrollBehavior.n && !_rtlScrollBehavior.i)\r\n                                    elementScrollCoordinates.x = MATH.round(viewportOffset[_strLeft] - elementOffset[_strLeft] + viewportScroll.l);\r\n                                if (_rtlScrollBehavior.n && normalizeRTL)\r\n                                    elementScrollCoordinates.x *= -1;\r\n                                if (_rtlScrollBehavior.i && normalizeRTL)\r\n                                    elementScrollCoordinates.x = MATH.round(viewportOffset[_strLeft] - elementOffset[_strLeft] + (_scrollHorizontalInfo._maxScroll - viewportScroll.l));\r\n                            }\r\n\r\n                            //measuring is required\r\n                            if (settingsBlock.x != strBegin || settingsBlock.y != strBegin || settingsScroll.x == strIfNeeded || settingsScroll.y == strIfNeeded || _isRTL) {\r\n                                var measuringElm = finalElement[0];\r\n                                var rawElementSize = _supportTransform ? measuringElm[LEXICON.bCR]() : {\r\n                                    width: measuringElm[LEXICON.oW],\r\n                                    height: measuringElm[LEXICON.oH]\r\n                                };\r\n                                var elementSize = {\r\n                                    w: rawElementSize[_strWidth] + settingsMargin[3] + settingsMargin[1],\r\n                                    h: rawElementSize[_strHeight] + settingsMargin[0] + settingsMargin[2]\r\n                                };\r\n                                var finalizeBlock = function (isX) {\r\n                                    var vars = getScrollbarVars(isX);\r\n                                    var wh = vars._w_h;\r\n                                    var lt = vars._left_top;\r\n                                    var xy = vars._x_y;\r\n                                    var blockIsEnd = settingsBlock[xy] == (isX ? _isRTL ? strBegin : strEnd : strEnd);\r\n                                    var blockIsCenter = settingsBlock[xy] == strCenter;\r\n                                    var blockIsNearest = settingsBlock[xy] == strNearest;\r\n                                    var scrollNever = settingsScroll[xy] == strNever;\r\n                                    var scrollIfNeeded = settingsScroll[xy] == strIfNeeded;\r\n                                    var vpSize = _viewportSize[wh];\r\n                                    var vpOffset = viewportOffset[lt];\r\n                                    var elSize = elementSize[wh];\r\n                                    var elOffset = elementOffset[lt];\r\n                                    var divide = blockIsCenter ? 2 : 1;\r\n                                    var elementCenterOffset = elOffset + (elSize / 2);\r\n                                    var viewportCenterOffset = vpOffset + (vpSize / 2);\r\n                                    var isInView =\r\n                                        elSize <= vpSize\r\n                                        && elOffset >= vpOffset\r\n                                        && elOffset + elSize <= vpOffset + vpSize;\r\n\r\n                                    if (scrollNever)\r\n                                        doNotScroll[xy] = true;\r\n                                    else if (!doNotScroll[xy]) {\r\n                                        if (blockIsNearest || scrollIfNeeded) {\r\n                                            doNotScroll[xy] = scrollIfNeeded ? isInView : false;\r\n                                            blockIsEnd = elSize < vpSize ? elementCenterOffset > viewportCenterOffset : elementCenterOffset < viewportCenterOffset;\r\n                                        }\r\n                                        elementScrollCoordinates[xy] -= blockIsEnd || blockIsCenter ? ((vpSize / divide) - (elSize / divide)) * (isX && _isRTL && normalizeRTL ? -1 : 1) : 0;\r\n                                    }\r\n                                };\r\n                                finalizeBlock(true);\r\n                                finalizeBlock(false);\r\n                            }\r\n\r\n                            if (doNotScroll.y)\r\n                                delete elementScrollCoordinates.y;\r\n                            if (doNotScroll.x)\r\n                                delete elementScrollCoordinates.x;\r\n\r\n                            coordinates = elementScrollCoordinates;\r\n                        }\r\n                    }\r\n\r\n                    finalScroll[_strScrollLeft] = getFinalScroll(true, getRawScroll(true, coordinates));\r\n                    finalScroll[_strScrollTop] = getFinalScroll(false, getRawScroll(false, coordinates));\r\n                    doScrollLeft = finalScroll[_strScrollLeft] !== undefined;\r\n                    doScrollTop = finalScroll[_strScrollTop] !== undefined;\r\n\r\n                    if ((doScrollLeft || doScrollTop) && (duration > 0 || durationIsObject)) {\r\n                        if (durationIsObject) {\r\n                            duration.complete = proxyCompleteCallback;\r\n                            _viewportElement.animate(finalScroll, duration);\r\n                        }\r\n                        else {\r\n                            animationOptions = {\r\n                                duration: duration,\r\n                                complete: proxyCompleteCallback\r\n                            };\r\n                            if (COMPATIBILITY.isA(easing) || FRAMEWORK.isPlainObject(easing)) {\r\n                                specialEasing[_strScrollLeft] = easing[0] || easing.x;\r\n                                specialEasing[_strScrollTop] = easing[1] || easing.y;\r\n                                animationOptions.specialEasing = specialEasing;\r\n                            }\r\n                            else {\r\n                                animationOptions.easing = easing;\r\n                            }\r\n                            _viewportElement.animate(finalScroll, animationOptions);\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (doScrollLeft)\r\n                            _viewportElement[_strScrollLeft](finalScroll[_strScrollLeft]);\r\n                        if (doScrollTop)\r\n                            _viewportElement[_strScrollTop](finalScroll[_strScrollTop]);\r\n                        updateScrollbarInfos();\r\n                    }\r\n                };\r\n\r\n                /**\r\n                 * Stops all scroll animations.\r\n                 * @returns {*} The current OverlayScrollbars instance (for chaining).\r\n                 */\r\n                _base.scrollStop = function (param1, param2, param3) {\r\n                    _viewportElement.stop(param1, param2, param3);\r\n                    return _base;\r\n                };\r\n\r\n                /**\r\n                 * Returns all relevant elements.\r\n                 * @param elementName The name of the element which shall be returned.\r\n                 * @returns {{target: *, host: *, padding: *, viewport: *, content: *, scrollbarHorizontal: {scrollbar: *, track: *, handle: *}, scrollbarVertical: {scrollbar: *, track: *, handle: *}, scrollbarCorner: *} | *}\r\n                 */\r\n                _base.getElements = function (elementName) {\r\n                    var obj = {\r\n                        target: _targetElementNative,\r\n                        host: _hostElementNative,\r\n                        padding: _paddingElementNative,\r\n                        viewport: _viewportElementNative,\r\n                        content: _contentElementNative,\r\n                        scrollbarHorizontal: {\r\n                            scrollbar: _scrollbarHorizontalElement[0],\r\n                            track: _scrollbarHorizontalTrackElement[0],\r\n                            handle: _scrollbarHorizontalHandleElement[0]\r\n                        },\r\n                        scrollbarVertical: {\r\n                            scrollbar: _scrollbarVerticalElement[0],\r\n                            track: _scrollbarVerticalTrackElement[0],\r\n                            handle: _scrollbarVerticalHandleElement[0]\r\n                        },\r\n                        scrollbarCorner: _scrollbarCornerElement[0]\r\n                    };\r\n                    return type(elementName) == TYPES.s ? getObjectPropVal(obj, elementName) : obj;\r\n                };\r\n\r\n                /**\r\n                 * Returns a object which describes the current state of this instance.\r\n                 * @param stateProperty A specific property from the state object which shall be returned.\r\n                 * @returns {{widthAuto, heightAuto, overflowAmount, hideOverflow, hasOverflow, contentScrollSize, viewportSize, hostSize, autoUpdate} | *}\r\n                 */\r\n                _base.getState = function (stateProperty) {\r\n                    function prepare(obj) {\r\n                        if (!FRAMEWORK.isPlainObject(obj))\r\n                            return obj;\r\n                        var extended = extendDeep({}, obj);\r\n                        var changePropertyName = function (from, to) {\r\n                            if (extended[LEXICON.hOP](from)) {\r\n                                extended[to] = extended[from];\r\n                                delete extended[from];\r\n                            }\r\n                        };\r\n                        changePropertyName('w', _strWidth); //change w to width\r\n                        changePropertyName('h', _strHeight); //change h to height\r\n                        delete extended.c; //delete c (the 'changed' prop)\r\n                        return extended;\r\n                    };\r\n                    var obj = {\r\n                        destroyed: !!prepare(_destroyed),\r\n                        sleeping: !!prepare(_sleeping),\r\n                        autoUpdate: prepare(!_mutationObserversConnected),\r\n                        widthAuto: prepare(_widthAutoCache),\r\n                        heightAuto: prepare(_heightAutoCache),\r\n                        padding: prepare(_cssPaddingCache),\r\n                        overflowAmount: prepare(_overflowAmountCache),\r\n                        hideOverflow: prepare(_hideOverflowCache),\r\n                        hasOverflow: prepare(_hasOverflowCache),\r\n                        contentScrollSize: prepare(_contentScrollSizeCache),\r\n                        viewportSize: prepare(_viewportSize),\r\n                        hostSize: prepare(_hostSizeCache),\r\n                        documentMixed: prepare(_documentMixed)\r\n                    };\r\n                    return type(stateProperty) == TYPES.s ? getObjectPropVal(obj, stateProperty) : obj;\r\n                };\r\n\r\n                /**\r\n                 * Gets all or specific extension instance.\r\n                 * @param extName The name of the extension from which the instance shall be got.\r\n                 * @returns {{}} The instance of the extension with the given name or undefined if the instance couldn't be found.\r\n                 */\r\n                _base.ext = function (extName) {\r\n                    var result;\r\n                    var privateMethods = _extensionsPrivateMethods.split(' ');\r\n                    var i = 0;\r\n                    if (type(extName) == TYPES.s) {\r\n                        if (_extensions[LEXICON.hOP](extName)) {\r\n                            result = extendDeep({}, _extensions[extName]);\r\n                            for (; i < privateMethods.length; i++)\r\n                                delete result[privateMethods[i]];\r\n                        }\r\n                    }\r\n                    else {\r\n                        result = {};\r\n                        for (i in _extensions)\r\n                            result[i] = extendDeep({}, _base.ext(i));\r\n                    }\r\n                    return result;\r\n                };\r\n\r\n                /**\r\n                 * Adds a extension to this instance.\r\n                 * @param extName The name of the extension which shall be added.\r\n                 * @param extensionOptions The extension options which shall be used.\r\n                 * @returns {{}} The instance of the added extension or undefined if the extension couldn't be added properly.\r\n                 */\r\n                _base.addExt = function (extName, extensionOptions) {\r\n                    var registeredExtensionObj = _plugin.extension(extName);\r\n                    var instance;\r\n                    var instanceAdded;\r\n                    var instanceContract;\r\n                    var contractResult;\r\n                    var contractFulfilled = true;\r\n                    if (registeredExtensionObj) {\r\n                        if (!_extensions[LEXICON.hOP](extName)) {\r\n                            instance = registeredExtensionObj.extensionFactory.call(_base,\r\n                                extendDeep({}, registeredExtensionObj.defaultOptions),\r\n                                FRAMEWORK,\r\n                                COMPATIBILITY);\r\n\r\n                            if (instance) {\r\n                                instanceContract = instance.contract;\r\n                                if (type(instanceContract) == TYPES.f) {\r\n                                    contractResult = instanceContract(window);\r\n                                    contractFulfilled = type(contractResult) == TYPES.b ? contractResult : contractFulfilled;\r\n                                }\r\n                                if (contractFulfilled) {\r\n                                    _extensions[extName] = instance;\r\n                                    instanceAdded = instance.added;\r\n                                    if (type(instanceAdded) == TYPES.f)\r\n                                        instanceAdded(extensionOptions);\r\n\r\n                                    return _base.ext(extName);\r\n                                }\r\n                            }\r\n                        }\r\n                        else\r\n                            return _base.ext(extName);\r\n                    }\r\n                    else\r\n                        console.warn(\"A extension with the name \\\"\" + extName + \"\\\" isn't registered.\");\r\n                };\r\n\r\n                /**\r\n                 * Removes a extension from this instance.\r\n                 * @param extName The name of the extension which shall be removed.\r\n                 * @returns {boolean} True if the extension was removed, false otherwise e.g. if the extension wasn't added before.\r\n                 */\r\n                _base.removeExt = function (extName) {\r\n                    var instance = _extensions[extName];\r\n                    var instanceRemoved;\r\n                    if (instance) {\r\n                        delete _extensions[extName];\r\n\r\n                        instanceRemoved = instance.removed;\r\n                        if (type(instanceRemoved) == TYPES.f)\r\n                            instanceRemoved();\r\n\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                };\r\n\r\n                /**\r\n                 * Constructs the plugin.\r\n                 * @param targetElement The element to which the plugin shall be applied.\r\n                 * @param options The initial options of the plugin.\r\n                 * @param extensions The extension(s) which shall be added right after the initialization.\r\n                 * @returns {boolean} True if the plugin was successfully initialized, false otherwise.\r\n                 */\r\n                function construct(targetElement, options, extensions) {\r\n                    _defaultOptions = globals.defaultOptions;\r\n                    _nativeScrollbarStyling = globals.nativeScrollbarStyling;\r\n                    _nativeScrollbarSize = extendDeep({}, globals.nativeScrollbarSize);\r\n                    _nativeScrollbarIsOverlaid = extendDeep({}, globals.nativeScrollbarIsOverlaid);\r\n                    _overlayScrollbarDummySize = extendDeep({}, globals.overlayScrollbarDummySize);\r\n                    _rtlScrollBehavior = extendDeep({}, globals.rtlScrollBehavior);\r\n\r\n                    //parse & set options but don't update\r\n                    setOptions(extendDeep({}, _defaultOptions, options));\r\n\r\n                    _cssCalc = globals.cssCalc;\r\n                    _msieVersion = globals.msie;\r\n                    _autoUpdateRecommended = globals.autoUpdateRecommended;\r\n                    _supportTransition = globals.supportTransition;\r\n                    _supportTransform = globals.supportTransform;\r\n                    _supportPassiveEvents = globals.supportPassiveEvents;\r\n                    _supportResizeObserver = globals.supportResizeObserver;\r\n                    _supportMutationObserver = globals.supportMutationObserver;\r\n                    _restrictedMeasuring = globals.restrictedMeasuring;\r\n                    _documentElement = FRAMEWORK(targetElement.ownerDocument);\r\n                    _documentElementNative = _documentElement[0];\r\n                    _windowElement = FRAMEWORK(_documentElementNative.defaultView || _documentElementNative.parentWindow);\r\n                    _windowElementNative = _windowElement[0];\r\n                    _htmlElement = findFirst(_documentElement, 'html');\r\n                    _bodyElement = findFirst(_htmlElement, 'body');\r\n                    _targetElement = FRAMEWORK(targetElement);\r\n                    _targetElementNative = _targetElement[0];\r\n                    _isTextarea = _targetElement.is('textarea');\r\n                    _isBody = _targetElement.is('body');\r\n                    _documentMixed = _documentElementNative !== document;\r\n\r\n                    /* On a div Element The if checks only whether:\r\n                     * - the targetElement has the class \"os-host\"\r\n                     * - the targetElement has a a child with the class \"os-padding\"\r\n                     * \r\n                     * If that's the case, its assumed the DOM has already the following structure:\r\n                     * (The \".os-host\" element is the targetElement)\r\n                     *\r\n                     *  <div class=\"os-host\">\r\n                     *      <div class=\"os-resize-observer-host\"></div>\r\n                     *      <div class=\"os-padding\">\r\n                     *          <div class=\"os-viewport\">\r\n                     *              <div class=\"os-content\"></div>\r\n                     *          </div>\r\n                     *      </div>\r\n                     *      <div class=\"os-scrollbar os-scrollbar-horizontal \">\r\n                     *          <div class=\"os-scrollbar-track\">\r\n                     *              <div class=\"os-scrollbar-handle\"></div>\r\n                     *          </div>\r\n                     *      </div>\r\n                     *      <div class=\"os-scrollbar os-scrollbar-vertical\">\r\n                     *          <div class=\"os-scrollbar-track\">\r\n                     *              <div class=\"os-scrollbar-handle\"></div>\r\n                     *          </div>\r\n                     *      </div>\r\n                     *      <div class=\"os-scrollbar-corner\"></div>\r\n                     *  </div>\r\n                     *\r\n                     * =====================================================================================\r\n                     * \r\n                     * On a Textarea Element The if checks only whether:\r\n                     * - the targetElement has the class \"os-textarea\" \r\n                     * - the targetElement is inside a element with the class \"os-content\" \r\n                     * \r\n                     * If that's the case, its assumed the DOM has already the following structure:\r\n                     * (The \".os-textarea\" (textarea) element is the targetElement)\r\n                     *\r\n                     *  <div class=\"os-host-textarea\">\r\n                     *      <div class=\"os-resize-observer-host\"></div>\r\n                     *      <div class=\"os-padding os-text-inherit\">\r\n                     *          <div class=\"os-viewport os-text-inherit\">\r\n                     *              <div class=\"os-content os-text-inherit\">\r\n                     *                  <div class=\"os-textarea-cover\"></div>\r\n                     *                  <textarea class=\"os-textarea os-text-inherit\"></textarea>\r\n                     *              </div>\r\n                     *          </div>\r\n                     *      </div>\r\n                     *      <div class=\"os-scrollbar os-scrollbar-horizontal \">\r\n                     *          <div class=\"os-scrollbar-track\">\r\n                     *              <div class=\"os-scrollbar-handle\"></div>\r\n                     *          </div>\r\n                     *      </div>\r\n                     *      <div class=\"os-scrollbar os-scrollbar-vertical\">\r\n                     *          <div class=\"os-scrollbar-track\">\r\n                     *              <div class=\"os-scrollbar-handle\"></div>\r\n                     *          </div>\r\n                     *      </div>\r\n                     *      <div class=\"os-scrollbar-corner\"></div>\r\n                     *  </div>\r\n                     */\r\n                    _domExists = _isTextarea\r\n                        ? _targetElement.hasClass(_classNameTextareaElement) && _targetElement.parent().hasClass(_classNameContentElement)\r\n                        : _targetElement.hasClass(_classNameHostElement) && _targetElement.children(_strDot + _classNamePaddingElement)[LEXICON.l];\r\n\r\n                    var initBodyScroll;\r\n                    var bodyMouseTouchDownListener;\r\n\r\n                    //check if the plugin hasn't to be initialized\r\n                    if (_nativeScrollbarIsOverlaid.x && _nativeScrollbarIsOverlaid.y && !_currentPreparedOptions.nativeScrollbarsOverlaid.initialize) {\r\n                        dispatchCallback('onInitializationWithdrawn');\r\n                        if (_domExists) {\r\n                            setupStructureDOM(true);\r\n                            setupScrollbarsDOM(true);\r\n                            setupScrollbarCornerDOM(true);\r\n                        }\r\n\r\n                        _destroyed = true;\r\n                        _sleeping = true;\r\n\r\n                        return _base;\r\n                    }\r\n\r\n                    if (_isBody) {\r\n                        initBodyScroll = {};\r\n                        initBodyScroll.l = MATH.max(_targetElement[_strScrollLeft](), _htmlElement[_strScrollLeft](), _windowElement[_strScrollLeft]());\r\n                        initBodyScroll.t = MATH.max(_targetElement[_strScrollTop](), _htmlElement[_strScrollTop](), _windowElement[_strScrollTop]());\r\n\r\n                        bodyMouseTouchDownListener = function () {\r\n                            _viewportElement.removeAttr(LEXICON.ti);\r\n                            setupResponsiveEventListener(_viewportElement, _strMouseTouchDownEvent, bodyMouseTouchDownListener, true, true);\r\n                        }\r\n                    }\r\n\r\n                    //build OverlayScrollbars DOM\r\n                    setupStructureDOM();\r\n                    setupScrollbarsDOM();\r\n                    setupScrollbarCornerDOM();\r\n\r\n                    //create OverlayScrollbars events\r\n                    setupStructureEvents();\r\n                    setupScrollbarEvents(true);\r\n                    setupScrollbarEvents(false);\r\n                    setupScrollbarCornerEvents();\r\n\r\n                    //create mutation observers\r\n                    createMutationObservers();\r\n\r\n                    //build resize observer for the host element\r\n                    setupResizeObserver(_sizeObserverElement, hostOnResized);\r\n\r\n                    if (_isBody) {\r\n                        //apply the body scroll to handle it right in the update method\r\n                        _viewportElement[_strScrollLeft](initBodyScroll.l)[_strScrollTop](initBodyScroll.t);\r\n\r\n                        //set the focus on the viewport element so you dont have to click on the page to use keyboard keys (up / down / space) for scrolling\r\n                        if (document.activeElement == targetElement && _viewportElementNative.focus) {\r\n                            //set a tabindex to make the viewportElement focusable\r\n                            _viewportElement.attr(LEXICON.ti, '-1');\r\n                            _viewportElementNative.focus();\r\n\r\n                            /* the tabindex has to be removed due to;\r\n                             * If you set the tabindex attribute on an <div>, then its child content cannot be scrolled with the arrow keys unless you set tabindex on the content, too\r\n                             * https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex\r\n                             */\r\n                            setupResponsiveEventListener(_viewportElement, _strMouseTouchDownEvent, bodyMouseTouchDownListener, false, true);\r\n                        }\r\n                    }\r\n\r\n                    //update for the first time & initialize cache\r\n                    _base.update(_strAuto);\r\n\r\n                    //the plugin is initialized now!\r\n                    _initialized = true;\r\n                    dispatchCallback('onInitialized');\r\n\r\n                    //call all callbacks which would fire before the initialized was complete\r\n                    each(_callbacksInitQeueue, function (index, value) { dispatchCallback(value.n, value.a); });\r\n                    _callbacksInitQeueue = [];\r\n\r\n                    //add extensions\r\n                    if (type(extensions) == TYPES.s)\r\n                        extensions = [extensions];\r\n                    if (COMPATIBILITY.isA(extensions))\r\n                        each(extensions, function (index, value) { _base.addExt(value); });\r\n                    else if (FRAMEWORK.isPlainObject(extensions))\r\n                        each(extensions, function (key, value) { _base.addExt(key, value); });\r\n\r\n                    //add the transition class for transitions AFTER the first update & AFTER the applied extensions (for preventing unwanted transitions)\r\n                    setTimeout(function () {\r\n                        if (_supportTransition && !_destroyed)\r\n                            addClass(_hostElement, _classNameHostTransition);\r\n                    }, 333);\r\n\r\n                    return _base;\r\n                }\r\n\r\n                if (_plugin.valid(construct(pluginTargetElement, options, extensions))) {\r\n                    INSTANCES(pluginTargetElement, _base);\r\n                }\r\n\r\n                return _base;\r\n            }\r\n\r\n            /**\r\n             * Initializes a new OverlayScrollbarsInstance object or changes options if already initialized or returns the current instance.\r\n             * @param pluginTargetElements The elements to which the Plugin shall be initialized.\r\n             * @param options The custom options with which the plugin shall be initialized.\r\n             * @param extensions The extension(s) which shall be added right after initialization.\r\n             * @returns {*}\r\n             */\r\n            _plugin = window[PLUGINNAME] = function (pluginTargetElements, options, extensions) {\r\n                if (arguments[LEXICON.l] === 0)\r\n                    return this;\r\n\r\n                var arr = [];\r\n                var optsIsPlainObj = FRAMEWORK.isPlainObject(options);\r\n                var inst;\r\n                var result;\r\n\r\n                //pluginTargetElements is null or undefined\r\n                if (!pluginTargetElements)\r\n                    return optsIsPlainObj || !options ? result : arr;\r\n\r\n                /*\r\n                   pluginTargetElements will be converted to:\r\n                   1. A jQueryElement Array\r\n                   2. A HTMLElement Array\r\n                   3. A Array with a single HTML Element\r\n                   so pluginTargetElements is always a array.\r\n                */\r\n                pluginTargetElements = pluginTargetElements[LEXICON.l] != undefined ? pluginTargetElements : [pluginTargetElements[0] || pluginTargetElements];\r\n                initOverlayScrollbarsStatics();\r\n\r\n                if (pluginTargetElements[LEXICON.l] > 0) {\r\n                    if (optsIsPlainObj) {\r\n                        FRAMEWORK.each(pluginTargetElements, function (i, v) {\r\n                            inst = v;\r\n                            if (inst !== undefined)\r\n                                arr.push(OverlayScrollbarsInstance(inst, options, extensions, _pluginsGlobals, _pluginsAutoUpdateLoop));\r\n                        });\r\n                    }\r\n                    else {\r\n                        FRAMEWORK.each(pluginTargetElements, function (i, v) {\r\n                            inst = INSTANCES(v);\r\n                            if ((options === '!' && _plugin.valid(inst)) || (COMPATIBILITY.type(options) == TYPES.f && options(v, inst)))\r\n                                arr.push(inst);\r\n                            else if (options === undefined)\r\n                                arr.push(inst);\r\n                        });\r\n                    }\r\n                    result = arr[LEXICON.l] === 1 ? arr[0] : arr;\r\n                }\r\n                return result;\r\n            };\r\n\r\n            /**\r\n             * Returns a object which contains global information about the plugin and each instance of it.\r\n             * The returned object is just a copy, that means that changes to the returned object won't have any effect to the original object.\r\n             */\r\n            _plugin.globals = function () {\r\n                initOverlayScrollbarsStatics();\r\n                var globals = FRAMEWORK.extend(true, {}, _pluginsGlobals);\r\n                delete globals['msie'];\r\n                return globals;\r\n            };\r\n\r\n            /**\r\n             * Gets or Sets the default options for each new plugin initialization.\r\n             * @param newDefaultOptions The object with which the default options shall be extended.\r\n             */\r\n            _plugin.defaultOptions = function (newDefaultOptions) {\r\n                initOverlayScrollbarsStatics();\r\n                var currDefaultOptions = _pluginsGlobals.defaultOptions;\r\n                if (newDefaultOptions === undefined)\r\n                    return FRAMEWORK.extend(true, {}, currDefaultOptions);\r\n\r\n                //set the new default options\r\n                _pluginsGlobals.defaultOptions = FRAMEWORK.extend(true, {}, currDefaultOptions, _pluginsOptions._validate(newDefaultOptions, _pluginsOptions._template, true, currDefaultOptions)._default);\r\n            };\r\n\r\n            /**\r\n             * Checks whether the passed instance is a non-destroyed OverlayScrollbars instance.\r\n             * @param osInstance The potential OverlayScrollbars instance which shall be checked.\r\n             * @returns {boolean} True if the passed value is a non-destroyed OverlayScrollbars instance, false otherwise.\r\n             */\r\n            _plugin.valid = function (osInstance) {\r\n                return osInstance instanceof _plugin && !osInstance.getState().destroyed;\r\n            };\r\n\r\n            /**\r\n             * Registers, Unregisters or returns a extension.\r\n             * Register: Pass the name and the extension. (defaultOptions is optional)\r\n             * Unregister: Pass the name and anything except a function as extension parameter.\r\n             * Get extension: Pass the name of the extension which shall be got.\r\n             * Get all extensions: Pass no arguments.\r\n             * @param extensionName The name of the extension which shall be registered, unregistered or returned.\r\n             * @param extension A function which generates the instance of the extension or anything other to remove a already registered extension.\r\n             * @param defaultOptions The default options which shall be used for the registered extension.\r\n             */\r\n            _plugin.extension = function (extensionName, extension, defaultOptions) {\r\n                var extNameTypeString = COMPATIBILITY.type(extensionName) == TYPES.s;\r\n                var argLen = arguments[LEXICON.l];\r\n                var i = 0;\r\n                if (argLen < 1 || !extNameTypeString) {\r\n                    //return a copy of all extension objects\r\n                    return FRAMEWORK.extend(true, { length: _pluginsExtensions[LEXICON.l] }, _pluginsExtensions);\r\n                }\r\n                else if (extNameTypeString) {\r\n                    if (COMPATIBILITY.type(extension) == TYPES.f) {\r\n                        //register extension\r\n                        _pluginsExtensions.push({\r\n                            name: extensionName,\r\n                            extensionFactory: extension,\r\n                            defaultOptions: defaultOptions\r\n                        });\r\n                    }\r\n                    else {\r\n                        for (; i < _pluginsExtensions[LEXICON.l]; i++) {\r\n                            if (_pluginsExtensions[i].name === extensionName) {\r\n                                if (argLen > 1)\r\n                                    _pluginsExtensions.splice(i, 1); //remove extension\r\n                                else\r\n                                    return FRAMEWORK.extend(true, {}, _pluginsExtensions[i]); //return extension with the given name\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n\r\n            return _plugin;\r\n        })();\r\n\r\n        if (JQUERY && JQUERY.fn) {\r\n            /**\r\n             * The jQuery initialization interface.\r\n             * @param options The initial options for the construction of the plugin. To initialize the plugin, this option has to be a object! If it isn't a object, the instance(s) are returned and the plugin wont be initialized.\r\n             * @param extensions The extension(s) which shall be added right after initialization.\r\n             * @returns {*} After initialization it returns the jQuery element array, else it returns the instance(s) of the elements which are selected.\r\n             */\r\n            JQUERY.fn.overlayScrollbars = function (options, extensions) {\r\n                var _elements = this;\r\n                if (JQUERY.isPlainObject(options)) {\r\n                    JQUERY.each(_elements, function () { PLUGIN(this, options, extensions); });\r\n                    return _elements;\r\n                }\r\n                else\r\n                    return PLUGIN(_elements, options);\r\n            };\r\n        }\r\n        return PLUGIN;\r\n    }\r\n));"]},"metadata":{},"sourceType":"script"}